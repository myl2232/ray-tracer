!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/ray-tracer/",n(n.s=118)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.METADATA_KEY=r;var i=n(52);t.Container=i.Container;var o=n(7);t.BindingScopeEnum=o.BindingScopeEnum,t.BindingTypeEnum=o.BindingTypeEnum,t.TargetTypeEnum=o.TargetTypeEnum;var a=n(68);t.AsyncContainerModule=a.AsyncContainerModule,t.ContainerModule=a.ContainerModule;var s=n(69);t.injectable=s.injectable;var c=n(70);t.tagged=c.tagged;var l=n(71);t.named=l.named;var u=n(35);t.inject=u.inject,t.LazyServiceIdentifer=u.LazyServiceIdentifer;var d=n(72);t.optional=d.optional;var h=n(73);t.unmanaged=h.unmanaged;var f=n(74);t.multiInject=f.multiInject;var p=n(75);t.targetName=p.targetName;var _=n(76);t.postConstruct=_.postConstruct;var m=n(33);t.MetadataReader=m.MetadataReader;var g=n(11);t.id=g.id;var v=n(8);t.decorate=v.decorate;var y=n(38);t.traverseAncerstors=y.traverseAncerstors,t.taggedConstraint=y.taggedConstraint,t.namedConstraint=y.namedConstraint,t.typeConstraint=y.typeConstraint;var b=n(15);t.getServiceIdentifierAsString=b.getServiceIdentifierAsString;var S=n(77);t.multiBindToService=S.multiBindToService},function(e,t,n){(function(e){t.Vector=n(13),e.$V=t.Vector.create,t.Matrix=n(18),e.$M=t.Matrix.create,t.Line=n(24),e.$L=t.Line.create,t.Plane=n(31),e.$P=t.Plane.create,t.Line.Segment=n(50),t.Sylvester=n(14)}).call(this,n(23))},function(e,t,n){"use strict";var r={ISceneService:Symbol("ISceneService"),ICameraService:Symbol("ICameraService"),IMouseService:Symbol("IMouseService"),ICanvasService:Symbol("ICanvasService"),IRendererService:Symbol("IRendererService"),IControlsService:Symbol("IControlsService"),ITextureLoaderService:Symbol("ITextureLoaderService")};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(1);function i(e,t,n,r,i,o){var a=e.createBuffer();if(!a)return console.log("Failed to create the buffer object"),!1;e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW);var s=e.getAttribLocation(t,n);return s<0?(console.log("Failed to get the storage location of "+n),!1):(e.vertexAttribPointer(s,i,o,!1,0,0),e.enableVertexAttribArray(s),!0)}function o(e,t,n,i){for(var o in n){var a=n[o],s=e.getUniformLocation(t,o);null!=s&&(a instanceof r.Vector?e.uniform3fv(s,new Float32Array([a.elements[0],a.elements[1],a.elements[2]])):a instanceof r.Matrix?e.uniformMatrix4fv(s,!1,new Float32Array(a.flatten())):a%1==0&&"int"===i?e.uniform1i(s,a):e.uniform1f(s,a))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(3);function o(e,t,n,i,o){var a={},s="number"==typeof o,c=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var l=a[c];if(Array.isArray(l))for(var u=0,d=l;u<d.length;u++){var h=d[u];if(h.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key.toString())}else l=[];l.push(i),a[c]=l,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?a([s(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):a([e],t)}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),c=i?i+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,o),!0;case 6:return u.fn.call(u.context,t,n,r,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,r);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return c(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||c(this,o);else{for(var s=0,l=[],u=a.length;s<u;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:c(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&c(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},function(e,t,n){"use strict";var r,i=n(0),o=n(9),a=n(44),s=n(45),c=n.n(s),l=n(2),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e,t){return function(n,r){t(n,r,e)}},p=function(e){function t(t){var r=e.call(this)||this;return r.shaders=[],r.scene=t,r.shell=c()({clearColor:[1,1,1,1]}),r.shell.on("gl-init",function(){var e=r.shell,t=e.canvas,i=e.gl;r.gl=i,i.clearDepth(1),i.enable(i.DEPTH_TEST),i.enable(i.CULL_FACE),r.canvas=t,r.initStats(),r.emit(n.READY_EVENT)}),r.shell.on("gl-render",function(){r.stats.update();var e=r.shell;e.canvas,e.gl;r.shaders.forEach(function(e){e.inited||e.init(r.gl)}),r.scene.inited||r.scene.init(),r.shaders.forEach(function(e){e.draw()})}),r.shell.on("gl-resize",function(e,t){r.width=e,r.height=t,r.emit(n.RESIZE_EVENT)}),r.shell.on("gl-error",function(e){console.error(e)}),r}var n;return u(t,e),n=t,t.prototype.addShader=function(e){this.shaders.push(e)},t.prototype.updateShaders=function(){this.shaders.forEach(function(e){e.inited=!1})},t.prototype.updateScene=function(){this.scene.inited=!1},t.prototype.initStats=function(){this.stats=new a,this.stats.showPanel(0);var e=this.stats.dom;e.style.position="absolute",e.style.left="0px",e.style.top="0px",document.getElementById("stats").appendChild(e)},t.prototype.getSize=function(){return{width:this.width,height:this.height}},t.RESIZE_EVENT="resize",t.READY_EVENT="ready",t=n=d([Object(i.injectable)(),f(0,Object(i.inject)(l.a.ISceneService)),h("design:paramtypes",[Object])],t)}(o.EventEmitter);t.a=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.id=function(){return r++}},function(e,t,n){"use strict";var r,i=n(21),o=0,a=function(){function e(e){this.declaration="",this.color=$V([1,1,1]),this.position=$V([0,0,0]),this.model=new i.a({}),this.index=o++,Object.assign(this,e)}return e.prototype.setUniforms=function(e,t,n){},e}(),s=n(4),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=e.call(this,t)||this;return n.uShadowMap="u_ShadowMap"+n.index,Object.assign(n,t),n}return c(t,e),t.prototype.calculateShadow=function(){var e=this.index;this.shadowSnippet={vertex:{declaration:"\n          uniform mat4 u_MvpMatrixFromLight"+e+";\n          varying vec4 v_PositionFromLight"+e+";\n        ",calculation:"\n          v_PositionFromLight"+e+" = u_MvpMatrixFromLight"+e+" * a_Position;\n        ",result:""},fragment:{declaration:"\n          uniform sampler2D "+this.uShadowMap+";\n          varying vec4 v_PositionFromLight"+e+";\n        ",calculation:"",result:""}}},t.prototype.setUniforms=function(t,n,r){var i;e.prototype.setUniforms.call(this,t,n,r),Object(s.a)(t,n,((i={})[this.uShadowMap]=this.fboTextureIdx,i),"int")},t}(a);t.a=l},function(e,t,n){var r=n(14),i=n(18);function o(){}o.prototype={norm:function(){for(var e=this.elements.length,t=0;e--;)t+=Math.pow(this.elements[e],2);return Math.sqrt(t)},e:function(e){return e<1||e>this.elements.length?null:this.elements[e-1]},dimensions:function(){return{rows:1,cols:this.elements.length}},rows:function(){return 1},cols:function(){return this.elements.length},modulus:function(){return Math.sqrt(this.dot(this))},eql:function(e){var t=this.elements.length,n=e.elements||e;if(t!=n.length)return!1;for(;t--;)if(Math.abs(this.elements[t]-n[t])>r.precision)return!1;return!0},dup:function(){return o.create(this.elements)},map:function(e){var t=[];return this.each(function(n,r){t.push(e(n,r))}),o.create(t)},each:function(e){for(var t=this.elements.length,n=0;n<t;n++)e(this.elements[n],n+1)},toUnitVector:function(){var e=this.modulus();return 0===e?this.dup():this.map(function(t){return t/e})},angleFrom:function(e){var t=e.elements||e,n=this.elements.length;if(n!=t.length)return null;var r=0,i=0,o=0;if(this.each(function(e,n){r+=e*t[n-1],i+=e*e,o+=t[n-1]*t[n-1]}),i=Math.sqrt(i),o=Math.sqrt(o),i*o==0)return null;var a=r/(i*o);return a<-1&&(a=-1),a>1&&(a=1),Math.acos(a)},isParallelTo:function(e){var t=this.angleFrom(e);return null===t?null:t<=r.precision},isAntiparallelTo:function(e){var t=this.angleFrom(e);return null===t?null:Math.abs(t-Math.PI)<=r.precision},isPerpendicularTo:function(e){var t=this.dot(e);return null===t?null:Math.abs(t)<=r.precision},add:function(e){var t=e.elements||e;return this.elements.length!=t.length?this.map(function(t){return t+e}):this.map(function(e,n){return e+t[n-1]})},subtract:function(e){if("number"==typeof e)return this.map(function(t){return t-e});var t=e.elements||e;return this.elements.length!=t.length?null:this.map(function(e,n){return e-t[n-1]})},multiply:function(e){return this.map(function(t){return t*e})},elementMultiply:function(e){return this.map(function(t,n){return e.e(n)*t})},sum:function(){var e=0;return this.map(function(t){e+=t}),e},chomp:function(e){for(var t=[],n=e;n<this.elements.length;n++)t.push(this.elements[n]);return o.create(t)},top:function(e){for(var t=[],n=0;n<e;n++)t.push(this.elements[n]);return o.create(t)},augment:function(e){for(var t=this.elements,n=0;n<e.length;n++)t.push(e[n]);return o.create(t)},x:function(e){return this.multiply(e)},log:function(){return o.log(this)},elementDivide:function(e){return this.map(function(t,n){return t/e.e(n)})},product:function(){var e=1;return this.map(function(t){e*=t}),e},dot:function(e){var t=e.elements||e,n=0,r=this.elements.length;if(r!=t.length)return null;for(;r--;)n+=this.elements[r]*t[r];return n},cross:function(e){var t=e.elements||e;if(3!=this.elements.length||3!=t.length)return null;var n=this.elements;return o.create([n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]])},max:function(){for(var e=0,t=this.elements.length;t--;)Math.abs(this.elements[t])>Math.abs(e)&&(e=this.elements[t]);return e},maxIndex:function(){for(var e=0,t=this.elements.length,n=-1;t--;)Math.abs(this.elements[t])>Math.abs(e)&&(e=this.elements[t],n=t+1);return n},indexOf:function(e){for(var t=null,n=this.elements.length,r=0;r<n;r++)null===t&&this.elements[r]==e&&(t=r+1);return t},toDiagonalMatrix:function(){return i.Diagonal(this.elements)},round:function(){return this.map(function(e){return Math.round(e)})},transpose:function(){for(var e=this.elements.length,t=[],n=0;n<e;n++)t.push([this.elements[n]]);return i.create(t)},snapTo:function(e){return this.map(function(t){return Math.abs(t-e)<=r.precision?e:t})},distanceFrom:function(e){if(e.anchor||e.start&&e.end)return e.distanceFrom(this);var t=e.elements||e;if(t.length!=this.elements.length)return null;var n,r=0;return this.each(function(e,i){n=e-t[i-1],r+=n*n}),Math.sqrt(r)},liesOn:function(e){return e.contains(this)},liesIn:function(e){return e.contains(this)},rotate:function(e,t){var n,r,a,s,c=null;switch(e.determinant&&(c=e.elements),this.elements.length){case 2:return 2!=(n=t.elements||t).length?null:(c||(c=i.Rotation(e).elements),r=this.elements[0]-n[0],a=this.elements[1]-n[1],o.create([n[0]+c[0][0]*r+c[0][1]*a,n[1]+c[1][0]*r+c[1][1]*a]));case 3:if(!t.direction)return null;var l=t.pointClosestTo(this).elements;return c||(c=i.Rotation(e,t.direction).elements),r=this.elements[0]-l[0],a=this.elements[1]-l[1],s=this.elements[2]-l[2],o.create([l[0]+c[0][0]*r+c[0][1]*a+c[0][2]*s,l[1]+c[1][0]*r+c[1][1]*a+c[1][2]*s,l[2]+c[2][0]*r+c[2][1]*a+c[2][2]*s]);default:return null}},reflectionIn:function(e){if(e.anchor){var t=this.elements.slice(),n=e.pointClosestTo(t).elements;return o.create([n[0]+(n[0]-t[0]),n[1]+(n[1]-t[1]),n[2]+(n[2]-(t[2]||0))])}var r=e.elements||e;return this.elements.length!=r.length?null:this.map(function(e,t){return r[t-1]+(r[t-1]-e)})},to3D:function(){var e=this.dup();switch(e.elements.length){case 3:break;case 2:e.elements.push(0);break;default:return null}return e},inspect:function(){return"["+this.elements.join(", ")+"]"},setElements:function(e){return this.elements=(e.elements||e).slice(),this}},o.create=function(e){return(new o).setElements(e)},o.i=o.create([1,0,0]),o.j=o.create([0,1,0]),o.k=o.create([0,0,1]),o.Random=function(e){for(var t=[];e--;)t.push(Math.random());return o.create(t)},o.Fill=function(e,t){for(var n=[];e--;)n.push(t);return o.create(n)},o.Zero=function(e){return o.Fill(e,0)},o.One=function(e){return o.Fill(e,1)},o.log=function(e){return e.map(function(e){return Math.log(e)})},e.exports=o},function(e,t){Math.sign=function(e){return e<0?-1:1};e.exports={precision:1e-6,approxPrecision:1e-5}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach(function(e){var t="Object";null!==e.implementationType&&(t=o(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)})),r},t.circularDependencyToException=function e(t){t.childRequests.forEach(function(t){if(function e(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||e(t.parentRequest,n))}(t,t.serviceIdentifier)){var n=function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(t).reverse().join(" --\x3e ");throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)})},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach(function(e){n+=e.toString()+"\n"})," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=o},function(e,t,n){"use strict";var r,i=n(0),o=n(9),a=n(10),s=n(2),c=n(28),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e,t){return function(n,r){t(n,r,e)}},f=function(e){function t(t){var n=e.call(this)||this;return n.isMoving=!1,n.lastX=-1,n.lastY=-1,n.deltaX=0,n.deltaY=0,n.deltaZ=0,n.renderer=t,n.onPanstart=n.onPanstart.bind(n),n.onPanmove=n.onPanmove.bind(n),n.onPanend=n.onPanend.bind(n),n.onPinch=n.onPinch.bind(n),n.onMousewheel=n.onMousewheel.bind(n),n.renderer.on(a.a.READY_EVENT,function(){var e=new c(n.renderer.canvas);e.get("pan").set({direction:c.DIRECTION_ALL}),e.get("pinch").set({enable:!0}),e.on("panstart",n.onPanstart),e.on("panmove",n.onPanmove),e.on("panend",n.onPanend),e.on("pinch",n.onPinch),n.renderer.canvas.addEventListener("wheel",n.onMousewheel)}),n}var n;return l(t,e),n=t,t.prototype.onPanend=function(e){this.isMoving=!1,this.emit(n.UP_EVENT)},t.prototype.onPanstart=function(e){this.lastX=e.center.x,this.lastY=e.center.y,this.isMoving=!0,this.deltaZ=0,this.emit(n.DOWN_EVENT)},t.prototype.onPanmove=function(e){this.isMoving&&(this.deltaX=e.center.x-this.lastX,this.deltaY=e.center.y-this.lastY,this.lastX=e.center.x,this.lastY=e.center.y,this.emit(n.MOVE_EVENT,{deltaX:this.deltaX,deltaY:this.deltaY,deltaZ:this.deltaZ}))},t.prototype.onMousewheel=function(e){this.deltaZ=e.deltaY,this.emit(n.WHEEL_EVENT,{deltaX:this.deltaX,deltaY:this.deltaY,deltaZ:this.deltaZ})},t.prototype.onPinch=function(e){this.deltaZ=10*(1-e.scale),this.emit(n.WHEEL_EVENT,{deltaX:this.deltaX,deltaY:this.deltaY,deltaZ:this.deltaZ})},t.UP_EVENT="mouseup",t.MOVE_EVENT="mousemove",t.DOWN_EVENT="mousedown",t.OUT_EVENT="mouseout",t.WHEEL_EVENT="mousewheel",t=n=u([Object(i.injectable)(),h(0,Object(i.inject)(s.a.IRendererService)),d("design:paramtypes",[Object])],t)}(o.EventEmitter);t.a=f},function(e,t,n){"use strict";var r=function(){return function(e){this.shininess=120,this.diffuse=1,this.specular=1,this.color=$V([0,0,0]),Object.assign(this,e)}}();t.a=r},function(e,t,n){var r=n(49),o=n(14);n(13);function a(e,t,n,r){for(var i=e.elements,o=r-1;o--;){for(var a=[],s=0;s<n;s++)a.push(s==o?1:0);i.unshift(a)}for(o=r-1;o<t;o++)for(;i[o].length<n;)i[o].unshift(0);return $M(i)}function s(){for(var e=this,t=d.I(e.rows()),n=e.transpose(),r=d.I(e.cols()),i=Number.MAX_VALUE,o=0;i>2.2737e-13&&o<100;){var a=n.transpose().qrJs();n=a.R,t=t.x(a.Q),a=n.transpose().qrJs(),r=r.x(a.Q);var s=(n=a.R).triu(1).unroll().norm(),c=n.diagonal().norm();0==c&&(c=1),i=s/c,o++}var l=n.diagonal(),u=[];for(o=1;o<=l.cols();o++){var h=l.e(o);if(u.push(Math.abs(h)),h<0)for(var f=0;f<r.rows();f++)t.elements[f][o-1]=-t.elements[f][o-1]}return{U:r,S:$V(u).toDiagonalMatrix(),V:t}}function c(){var e=f.sgesvd("A","A",this.elements);return{U:$M(e.U),S:$M(e.S).column(1).toDiagonalMatrix(),V:$M(e.VT).transpose()}}function l(){for(var e=this.rows(),t=this.cols(),n=d.I(e),r=this,i=1;i<Math.min(e,t);i++){for(var o=r.slice(i,0,i,i).col(1),s=[1];s.length<=e-i;)s.push(0);s=$V(s);var c=o.add(s.x(o.norm()*Math.sign(o.e(1)))),l=$M(c),u=a(d.I(e-i+1).subtract(l.x(2).x(l.transpose()).div(l.transpose().x(l).e(1,1))),e,t,i);r=u.x(r),n=n.x(u)}return{Q:n,R:r}}function u(){var e=f.qr(this.elements);return{Q:$M(e.Q),R:$M(e.R)}}function d(){}function h(){var e=f.lu(this.elements);return{L:$M(e.L),U:$M(e.U),P:$M(e.P)}}d.prototype={solve:function(e){var t=this.lu();e=t.P.x(e);var n=t.L.forwardSubstitute(e),r=t.U.backSubstitute(n);return t.P.x(r)},pcaProject:function(e,t){var n,r,i=(t=t||(n=this,r=n.transpose().x(n).x(1/n.rows()).svd(),{U:r.U,S:r.S}).U).slice(1,t.rows(),1,e);return{Z:this.x(i),U:t}},pcaRecover:function(e){var t=this.cols(),n=e.slice(1,e.rows(),1,t);return this.x(n.transpose())},triu:function(e){return e||(e=0),this.map(function(t,n,r){return r-n>=e?t:0})},unroll:function(){for(var e=[],t=1;t<=this.cols();t++)for(var n=1;n<=this.rows();n++)e.push(this.e(n,t));return $V(e)},slice:function(e,t,n,r){var o=[];for(0==t&&(t=this.rows()),0==r&&(r=this.cols()),i=e;i<=t;i++){var a=[];for(j=n;j<=r;j++)a.push(this.e(i,j));o.push(a)}return $M(o)},e:function(e,t){return e<1||e>this.elements.length||t<1||t>this.elements[0].length?null:this.elements[e-1][t-1]},row:function(e){return e>this.elements.length?null:$V(this.elements[e-1])},col:function(e){if(e>this.elements[0].length)return null;for(var t=[],n=this.elements.length,r=0;r<n;r++)t.push(this.elements[r][e-1]);return $V(t)},dimensions:function(){return{rows:this.elements.length,cols:this.elements[0].length}},rows:function(){return this.elements.length},cols:function(){return this.elements[0].length},approxEql:function(e){return this.eql(e,o.approxPrecision)},eql:function(e,t){var n=e.elements||e;if(void 0===n[0][0]&&(n=d.create(n).elements),this.elements.length!=n.length||this.elements[0].length!=n[0].length)return!1;for(var r,i=this.elements.length,a=this.elements[0].length;i--;)for(r=a;r--;)if(Math.abs(this.elements[i][r]-n[i][r])>(t||o.precision))return!1;return!0},dup:function(){return d.create(this.elements)},map:function(e){for(var t,n=[],r=this.elements.length,i=this.elements[0].length;r--;)for(t=i,n[r]=[];t--;)n[r][t]=e(this.elements[r][t],r+1,t+1);return d.create(n)},isSameSizeAs:function(e){var t=e.elements||e;return void 0===t[0][0]&&(t=d.create(t).elements),this.elements.length==t.length&&this.elements[0].length==t[0].length},add:function(e){if("number"==typeof e)return this.map(function(t,n,r){return t+e});var t=e.elements||e;return void 0===t[0][0]&&(t=d.create(t).elements),this.isSameSizeAs(t)?this.map(function(e,n,r){return e+t[n-1][r-1]}):null},subtract:function(e){if("number"==typeof e)return this.map(function(t,n,r){return t-e});var t=e.elements||e;return void 0===t[0][0]&&(t=d.create(t).elements),this.isSameSizeAs(t)?this.map(function(e,n,r){return e-t[n-1][r-1]}):null},canMultiplyFromLeft:function(e){var t=e.elements||e;return void 0===t[0][0]&&(t=d.create(t).elements),this.elements[0].length==t.length},mulOp:function(e,t){if(!e.elements)return this.map(function(n){return t(n,e)});var n=!!e.modulus;if(void 0===(_=e.elements||e)[0][0]&&(_=d.create(_).elements),!this.canMultiplyFromLeft(_))return null;for(var r,i,o,a,s,c=this.elements,l=[],u=c.length,h=_[0].length,f=c[0].length,p=u;p--;){for(i=[],r=c[p],a=h;a--;){for(o=0,s=f;s--;)o+=t(r[s],_[s][a]);i[a]=o}l[p]=i}var _=d.create(l);return n?_.col(1):_},div:function(e){return this.mulOp(e,function(e,t){return e/t})},multiply:function(e){return this.mulOp(e,function(e,t){return e*t})},x:function(e){return this.multiply(e)},elementMultiply:function(e){return this.map(function(t,n,r){return e.e(n,r)*t})},sum:function(){var e=0;return this.map(function(t){e+=t}),e},mean:function(){for(var e=this.dimensions(),t=[],n=1;n<=e.cols;n++)t.push(this.col(n).sum()/e.rows);return $V(t)},column:function(e){return this.col(e)},log:function(){return this.map(function(e){return Math.log(e)})},minor:function(e,t,n,r){for(var i,o,a,s=[],c=n,l=this.elements.length,u=this.elements[0].length;c--;)for(s[i=n-c-1]=[],o=r;o--;)a=r-o-1,s[i][a]=this.elements[(e+i-1)%l][(t+a-1)%u];return d.create(s)},transpose:function(){for(var e,t=this.elements.length,n=[],r=this.elements[0].length;r--;)for(e=t,n[r]=[];e--;)n[r][e]=this.elements[e][r];return d.create(n)},isSquare:function(){return this.elements.length==this.elements[0].length},max:function(){for(var e,t=0,n=this.elements.length,r=this.elements[0].length;n--;)for(e=r;e--;)Math.abs(this.elements[n][e])>Math.abs(t)&&(t=this.elements[n][e]);return t},indexOf:function(e){var t,n,r=this.elements.length,i=this.elements[0].length;for(t=0;t<r;t++)for(n=0;n<i;n++)if(this.elements[t][n]==e)return{i:t+1,j:n+1};return null},diagonal:function(){if(!this.isSquare)return null;for(var e=[],t=this.elements.length,n=0;n<t;n++)e.push(this.elements[n][n]);return $V(e)},toRightTriangular:function(){var e,t,n,r,i=this.dup(),o=this.elements.length,a=this.elements[0].length;for(t=0;t<o;t++){if(0==i.elements[t][t])for(n=t+1;n<o;n++)if(0!=i.elements[n][t]){for(e=[],r=0;r<a;r++)e.push(i.elements[t][r]+i.elements[n][r]);i.elements[t]=e;break}if(0!=i.elements[t][t])for(n=t+1;n<o;n++){var s=i.elements[n][t]/i.elements[t][t];for(e=[],r=0;r<a;r++)e.push(r<=t?0:i.elements[n][r]-i.elements[t][r]*s);i.elements[n]=e}}return i},toUpperTriangular:function(){return this.toRightTriangular()},determinant:function(){if(!this.isSquare())return null;if(1==this.cols&&1==this.rows)return this.row(1);if(0==this.cols&&0==this.rows)return 1;for(var e=this.toRightTriangular(),t=e.elements[0][0],n=e.elements.length,r=1;r<n;r++)t*=e.elements[r][r];return t},det:function(){return this.determinant()},isSingular:function(){return this.isSquare()&&0===this.determinant()},trace:function(){if(!this.isSquare())return null;for(var e=this.elements[0][0],t=this.elements.length,n=1;n<t;n++)e+=this.elements[n][n];return e},tr:function(){return this.trace()},rank:function(){for(var e,t=this.toRightTriangular(),n=0,r=this.elements.length,i=this.elements[0].length;r--;)for(e=i;e--;)if(Math.abs(t.elements[r][e])>o.precision){n++;break}return n},rk:function(){return this.rank()},augment:function(e){var t=e.elements||e;void 0===t[0][0]&&(t=d.create(t).elements);var n,r=this.dup(),i=r.elements[0].length,o=r.elements.length,a=t[0].length;if(o!=t.length)return null;for(;o--;)for(n=a;n--;)r.elements[o][i+n]=t[o][n];return r},inverse:function(){if(!this.isSquare()||this.isSingular())return null;for(var e,t,n,r,i,o=this.elements.length,a=o,s=this.augment(d.I(o)).toRightTriangular(),c=s.elements[0].length,l=[];a--;){for(n=[],l[a]=[],r=s.elements[a][a],t=0;t<c;t++)i=s.elements[a][t]/r,n.push(i),t>=o&&l[a].push(i);for(s.elements[a]=n,e=a;e--;){for(n=[],t=0;t<c;t++)n.push(s.elements[e][t]-s.elements[a][t]*s.elements[e][a]);s.elements[e]=n}}return d.create(l)},inv:function(){return this.inverse()},round:function(){return this.map(function(e){return Math.round(e)})},snapTo:function(e){return this.map(function(t){return Math.abs(t-e)<=o.precision?e:t})},inspect:function(){for(var e=[],t=this.elements.length,n=0;n<t;n++)e.push($V(this.elements[n]).inspect());return e.join("\n")},toArray:function(){for(var e=[],t=this.elements.length,n=0;n<t;n++)e.push(this.elements[n]);return e},setElements:function(e){var t,n,r=e.elements||e;if(void 0!==r[0][0]){for(t=r.length,this.elements=[];t--;)for(n=r[t].length,this.elements[t]=[];n--;)this.elements[t][n]=r[t][n];return this}var i=r.length;for(this.elements=[],t=0;t<i;t++)this.elements.push([r[t]]);return this},maxColumnIndexes:function(){for(var e=[],t=1;t<=this.rows();t++){for(var n=null,r=-1,i=1;i<=this.cols();i++)(null===n||this.e(t,i)>n)&&(n=this.e(t,i),r=i);e.push(r)}return $V(e)},maxColumns:function(){for(var e=[],t=1;t<=this.rows();t++){for(var n=null,r=1;r<=this.cols();r++)(null===n||this.e(t,r)>n)&&(n=this.e(t,r));e.push(n)}return $V(e)},minColumnIndexes:function(){for(var e=[],t=1;t<=this.rows();t++){for(var n=null,r=-1,i=1;i<=this.cols();i++)(null===n||this.e(t,i)<n)&&(n=this.e(t,i),r=i);e.push(r)}return $V(e)},minColumns:function(){for(var e=[],t=1;t<=this.rows();t++){for(var n=null,r=1;r<=this.cols();r++)(null===n||this.e(t,r)<n)&&(n=this.e(t,r));e.push(n)}return $V(e)},partialPivot:function(e,t,n,r,i){for(var o=0,a=0,s=e;s<=r.rows();s++)Math.abs(r.e(s,t))>a&&(a=Math.abs(r.e(e,t)),o=s);if(o!=e){var c=r.elements[e-1];r.elements[e-1]=r.elements[o-1],r.elements[o-1]=c,n.elements[e-1][e-1]=0,n.elements[e-1][o-1]=1,n.elements[o-1][o-1]=0,n.elements[o-1][e-1]=1}return n},forwardSubstitute:function(e){for(var t=[],n=1;n<=this.rows();n++){for(var r=0,i=1;i<n;i++)r+=this.e(n,i)*t[i-1];t.push((e.e(n)-r)/this.e(n,n))}return $V(t)},backSubstitute:function(e){for(var t=[],n=this.rows();n>0;n--){for(var r=0,i=this.cols();i>n;i--)r+=this.e(n,i)*t[this.rows()-i];t.push((e.e(n)-r)/this.e(n,n))}return $V(t.reverse())},luPack:h,luJs:p,svdJs:s,svdPack:c,qrJs:l,qrPack:u};var f;function p(){for(var e=this.dup(),t=d.I(e.rows()),n=d.I(e.rows()),r=d.Zeros(e.rows(),e.cols()),i=1,o=1;o<=Math.min(e.cols(),e.rows());o++){n=e.partialPivot(o,i,n,e,t);for(var a=o+1;a<=e.rows();a++){var s=e.e(a,i)/e.e(o,i);t.elements[a-1][o-1]=s;for(var c=o+1;c<=e.cols();c++)e.elements[a-1][c-1]-=e.e(o,c)*s}for(c=o;c<=e.cols();c++)r.elements[o-1][c-1]=e.e(o,c);i<e.cols()&&i++}return{L:t,U:r,P:n}}(f=function(){try{return n(!function(){var e=new Error("Cannot find module 'lapack'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}())?(d.prototype.svd=c,d.prototype.qr=u,d.prototype.lu=h):(d.prototype.svd=s,d.prototype.qr=l,d.prototype.lu=p),d.create=function(e,t){return(new d).setElements(e)},d.I=function(e){for(var t,n=[],r=e;r--;)for(t=e,n[r]=[];t--;)n[r][t]=r==t?1:0;return d.create(n)},d.loadFile=function(e){for(var t=[],n=r.readFileSync(e,"utf-8").split("\n"),i=0;i<n.length;i++){var o=n[i].split(",");o.length>1&&t.push(o)}return(new d).setElements(t)},d.Diagonal=function(e){for(var t=e.length,n=d.I(t);t--;)n.elements[t][t]=e[t];return n},d.Rotation=function(e,t){if(!t)return d.create([[Math.cos(e),-Math.sin(e)],[Math.sin(e),Math.cos(e)]]);var n=t.dup();if(3!=n.elements.length)return null;var r=n.modulus(),i=n.elements[0]/r,o=n.elements[1]/r,a=n.elements[2]/r,s=Math.sin(e),c=Math.cos(e),l=1-c;return d.create([[l*i*i+c,l*i*o-s*a,l*i*a+s*o],[l*i*o+s*a,l*o*o+c,l*o*a-s*i],[l*i*a-s*o,l*o*a+s*i,l*a*a+c]])},d.RotationX=function(e){var t=Math.cos(e),n=Math.sin(e);return d.create([[1,0,0],[0,t,-n],[0,n,t]])},d.RotationY=function(e){var t=Math.cos(e),n=Math.sin(e);return d.create([[t,0,n],[0,1,0],[-n,0,t]])},d.RotationZ=function(e){var t=Math.cos(e),n=Math.sin(e);return d.create([[t,-n,0],[n,t,0],[0,0,1]])},d.Random=function(e,t){return 1===arguments.length&&(t=e),d.Zero(e,t).map(function(){return Math.random()})},d.Fill=function(e,t,n){2===arguments.length&&(n=t,t=e);for(var r,i=[],o=e;o--;)for(r=t,i[o]=[];r--;)i[o][r]=n;return d.create(i)},d.Zero=function(e,t){return d.Fill(e,t,0)},d.Zeros=function(e,t){return d.Zero(e,t)},d.One=function(e,t){return d.Fill(e,t,1)},d.Ones=function(e,t){return d.One(e,t)},e.exports=d},function(e,t){function n(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},function(e,t,n){"use strict";var r,i=n(12),o=n(4),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this,t)||this;return n.type="SpotLight",n.declaration="\n    struct SpotLight {\n      vec3 position;\n      vec3 direction;\n      \n      float constant;\n      float linear;\n      float quadratic;  \n\n      vec3 ambient;\n      vec3 diffuse;\n      vec3 specular;\n\n      float angle;\n      float blur;\n      float exponent;\n    };\n\n    vec3 calcSpotLight(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir, sampler2D shadowMap, vec4 positionFromLight)\n    {\n      vec3 lightDir = normalize(light.position - fragPos);\n      // diffuse shading\n      float diff = max(dot(normal, lightDir), 0.0);\n      // specular shading\n      vec3 reflectDir = reflect(-lightDir, normal);\n      float spec = pow(max(dot(viewDir, reflectDir), 0.0), u_Shininess);\n      // attenuation\n      float distance = length(light.position - fragPos);\n      float attenuation = 1.0 / (light.constant + light.linear * distance + \n              light.quadratic * (distance * distance));    \n\n      vec3 ambient = light.ambient * u_Diffuse;\n      vec3 diffuse = light.diffuse * diff * u_Diffuse;\n      vec3 specular = light.specular * spec * u_Specular;\n\n      float spotEffect = dot(normalize(light.direction), -lightDir);\n      float spotCosCutoff = cos(light.angle / 180.0 * PI);\n      float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n      float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n      if (spotEffect > spotCosCutoff) {\n        spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n      } else {\n        spotEffect = 0.0;\n      }\n\n      float shadowFactor = calcShadow(shadowMap, positionFromLight, lightDir, normal);\n      return ambient + attenuation * shadowFactor * (spotEffect * diffuse + specular);\n    }\n  ",n.direction=n.position,n.angle=14,n.exponent=40,n.blur=5,Object.assign(n,t),n}return a(t,e),t.prototype.setUniforms=function(t,n,r){var i;e.prototype.setUniforms.call(this,t,n,r),Object(o.a)(t,n,((i={})[r+".position"]=this.position,i[r+".direction"]=this.direction,i[r+".ambient"]=this.model.ambient,i[r+".diffuse"]=this.model.diffuse,i[r+".specular"]=this.model.specular,i[r+".constant"]=this.model.attenuation.constant,i[r+".linear"]=this.model.attenuation.linear,i[r+".quadratic"]=this.model.attenuation.quadratic,i[r+".angle"]=this.angle,i[r+".blur"]=this.blur,i[r+".exponent"]=this.exponent,i))},t}(i.a);t.a=s},function(e,t,n){"use strict";var r={constant:1,linear:0,quadratic:0},i=function(){return function(e){this.ambient=$V([.2,.2,.2]),this.diffuse=$V([1,1,1]),this.specular=$V([1,1,1]),Object.assign(this,e),this.attenuation=Object.assign({},r,e.attenuation)}}();t.a=i},function(e,t,n){"use strict";var r=n(0),i=n(47),o=n.n(i),a=n(2),s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t){return function(n,r){t(n,r,e)}},u=0,d=function(){function e(e,t,n){this.inited=!1,this.postProcesses=[],this.renderer=e,this.scene=t,this.camera=n,this.id=u++}return e.prototype.init=function(e){this.gl=e,this.initShaders(),this.inited=!0},e.prototype.initShaders=function(){var e=this,t=this.generateShaders(),n=t.vertexShader,r=t.fragmentShader;this.shader=o()(this.gl,{vertex:n,fragment:r}),this.postProcesses.forEach(function(t){return t.init(e.gl)})},e.prototype.initFramebufferObject=function(e,t){var n,r,i,o=this.gl,a=function(){return n&&o.deleteFramebuffer(n),r&&o.deleteTexture(r),i&&o.deleteRenderbuffer(i),null};if(!(n=o.createFramebuffer()))return console.log("Failed to create frame buffer object"),a();if(!(r=o.createTexture()))return console.log("Failed to create texture object"),a();if(o.bindTexture(o.TEXTURE_2D,r),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e,t,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),!(i=o.createRenderbuffer()))return console.log("Failed to create renderbuffer object"),a();o.bindRenderbuffer(o.RENDERBUFFER,i),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,e,t),o.bindFramebuffer(o.FRAMEBUFFER,n),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,r,0),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,i);var s=o.checkFramebufferStatus(o.FRAMEBUFFER);return o.FRAMEBUFFER_COMPLETE!==s?(console.log("Frame buffer object is incomplete: "+s.toString()),a()):(o.bindFramebuffer(o.FRAMEBUFFER,null),o.bindTexture(o.TEXTURE_2D,null),o.bindRenderbuffer(o.RENDERBUFFER,null),{framebuffer:n,texture:r})},e.prototype.activate=function(){this.shader.bind()},e.prototype.deactivate=function(){this.shader.dispose()},e.prototype.addPostProcess=function(e){this.postProcesses.push(e)},e.prototype.removePostProcess=function(e){for(var t=0;t<this.postProcesses.length;t++)if(this.postProcesses[t].id===e.id)return void this.postProcesses.splice(t,1)},e=s([Object(r.injectable)(),l(0,Object(r.inject)(a.a.IRendererService)),l(1,Object(r.inject)(a.a.ISceneService)),l(2,Object(r.inject)(a.a.ICameraService)),c("design:paramtypes",[Object,Object,Object])],e)}();t.a=d},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(13),i=n(18),o=n(31),a=n(14);function s(){}s.prototype={eql:function(e){return this.isParallelTo(e)&&this.contains(e.anchor)},dup:function(){return s.create(this.anchor,this.direction)},translate:function(e){var t=e.elements||e;return s.create([this.anchor.elements[0]+t[0],this.anchor.elements[1]+t[1],this.anchor.elements[2]+(t[2]||0)],this.direction)},isParallelTo:function(e){if(e.normal||e.start&&e.end)return e.isParallelTo(this);var t=this.direction.angleFrom(e.direction);return Math.abs(t)<=a.precision||Math.abs(t-Math.PI)<=a.precision},distanceFrom:function(e){if(e.normal||e.start&&e.end)return e.distanceFrom(this);if(e.direction){if(this.isParallelTo(e))return this.distanceFrom(e.anchor);var t=this.direction.cross(e.direction).toUnitVector().elements,n=this.anchor.elements,r=e.anchor.elements;return Math.abs((n[0]-r[0])*t[0]+(n[1]-r[1])*t[1]+(n[2]-r[2])*t[2])}var i=e.elements||e,o=(n=this.anchor.elements,this.direction.elements),a=i[0]-n[0],s=i[1]-n[1],c=(i[2]||0)-n[2],l=Math.sqrt(a*a+s*s+c*c);if(0===l)return 0;var u=(a*o[0]+s*o[1]+c*o[2])/l,d=1-u*u;return Math.abs(l*Math.sqrt(d<0?0:d))},contains:function(e){if(e.start&&e.end)return this.contains(e.start)&&this.contains(e.end);var t=this.distanceFrom(e);return null!==t&&t<=a.precision},positionOf:function(e){if(!this.contains(e))return null;var t=e.elements||e,n=this.anchor.elements,r=this.direction.elements;return(t[0]-n[0])*r[0]+(t[1]-n[1])*r[1]+((t[2]||0)-n[2])*r[2]},liesIn:function(e){return e.contains(this)},intersects:function(e){return e.normal?e.intersects(this):!this.isParallelTo(e)&&this.distanceFrom(e)<=a.precision},intersectionWith:function(e){if(e.normal||e.start&&e.end)return e.intersectionWith(this);if(!this.intersects(e))return null;var t=this.anchor.elements,n=this.direction.elements,i=e.anchor.elements,o=e.direction.elements,a=n[0],s=n[1],c=n[2],l=o[0],u=o[1],d=o[2],h=t[0]-i[0],f=t[1]-i[1],p=t[2]-i[2],_=l*l+u*u+d*d,m=a*l+s*u+c*d,g=((-a*h-s*f-c*p)*_/(a*a+s*s+c*c)+m*(l*h+u*f+d*p))/(_-m*m);return r.create([t[0]+g*a,t[1]+g*s,t[2]+g*c])},pointClosestTo:function(e){if(e.start&&e.end)return null===(h=e.pointClosestTo(this))?null:this.pointClosestTo(h);if(e.direction){if(this.intersects(e))return this.intersectionWith(e);if(this.isParallelTo(e))return null;var t=this.direction.elements,n=e.direction.elements,i=t[0],a=t[1],s=t[2],c=n[0],l=n[1],u=n[2],d=[(g=s*c-i*u)*u-(v=i*l-a*c)*l,v*c-(y=a*u-s*l)*u,y*l-g*c];return(h=o.create(e.anchor,d)).intersectionWith(this)}var h=e.elements||e;if(this.contains(h))return r.create(h);var f=this.anchor.elements,p=(i=(t=this.direction.elements)[0],a=t[1],s=t[2],f[0]),_=f[1],m=f[2],g=i*(h[1]-_)-a*(h[0]-p),v=a*((h[2]||0)-m)-s*(h[1]-_),y=s*(h[0]-p)-i*((h[2]||0)-m),b=r.create([a*g-s*y,s*v-i*g,i*y-a*v]),S=this.distanceFrom(h)/b.modulus();return r.create([h[0]+b.elements[0]*S,h[1]+b.elements[1]*S,(h[2]||0)+b.elements[2]*S])},rotate:function(e,t){void 0===t.direction&&(t=s.create(t.to3D(),r.k));var n=i.Rotation(e,t.direction).elements,o=t.pointClosestTo(this.anchor).elements,a=this.anchor.elements,c=this.direction.elements,l=o[0],u=o[1],d=o[2],h=a[0]-l,f=a[1]-u,p=a[2]-d;return s.create([l+n[0][0]*h+n[0][1]*f+n[0][2]*p,u+n[1][0]*h+n[1][1]*f+n[1][2]*p,d+n[2][0]*h+n[2][1]*f+n[2][2]*p],[n[0][0]*c[0]+n[0][1]*c[1]+n[0][2]*c[2],n[1][0]*c[0]+n[1][1]*c[1]+n[1][2]*c[2],n[2][0]*c[0]+n[2][1]*c[1]+n[2][2]*c[2]])},reverse:function(){return s.create(this.anchor,this.direction.x(-1))},reflectionIn:function(e){if(e.normal){var t=this.anchor.elements,n=this.direction.elements,r=t[0],i=t[1],o=t[2],a=n[0],c=n[1],l=n[2],u=this.anchor.reflectionIn(e).elements,d=r+a,h=i+c,f=o+l,p=e.pointClosestTo([d,h,f]).elements,_=[p[0]+(p[0]-d)-u[0],p[1]+(p[1]-h)-u[1],p[2]+(p[2]-f)-u[2]];return s.create(u,_)}if(e.direction)return this.rotate(Math.PI,e);var m=e.elements||e;return s.create(this.anchor.reflectionIn([m[0],m[1],m[2]||0]),this.direction)},setVectors:function(e,t){if(e=r.create(e),t=r.create(t),2==e.elements.length&&e.elements.push(0),2==t.elements.length&&t.elements.push(0),e.elements.length>3||t.elements.length>3)return null;var n=t.modulus();return 0===n?null:(this.anchor=e,this.direction=r.create([t.elements[0]/n,t.elements[1]/n,t.elements[2]/n]),this)}},s.create=function(e,t){return(new s).setVectors(e,t)},s.X=s.create(r.Zero(3),r.i),s.Y=s.create(r.Zero(3),r.j),s.Z=s.create(r.Zero(3),r.k),e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(38),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),i=function(){function e(e){Object.assign(this,e),this.modelMatrix=r.Matrix.I(4)}return e.prototype.init=function(){this.setVertices(),this.setModelMatrix()},e.prototype.translate=function(e){return this.modelMatrix=r.Matrix.Translation(e).x(this.modelMatrix),this},e.prototype.scale=function(e){return this.modelMatrix=r.Matrix.Diagonal(e.elements.concat(1)).x(this.modelMatrix),this},e.prototype.rotate=function(e,t){return this.modelMatrix=r.Matrix.Rotation(e,t).ensure4x4().x(this.modelMatrix),this},e.prototype.draw=function(e){var t,n=e.createBuffer();if(!n)return console.log("Failed to create the buffer object"),!1;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),4===this.indices.BYTES_PER_ELEMENT?t=e.UNSIGNED_INT:2===this.indices.BYTES_PER_ELEMENT?t=e.UNSIGNED_SHORT:1===this.indices.BYTES_PER_ELEMENT&&(t=e.UNSIGNED_BYTE),e.drawElements(e.TRIANGLES,this.indices.length,t,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},e}()},function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(i,o,a,s){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),d="function",h=Math.round,f=Math.abs,p=Date.now;function _(e,t,n){return setTimeout(E(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=v(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),b=v(function(e,t){return y(e,t,!0)},"merge","Use `assign`.");function S(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&c(r,n)}function E(e,t){return function(){return e.apply(t,arguments)}}function A(e,t){return typeof e==d?e.apply(t&&t[0]||s,t):e}function w(e,t){return e===s?t:e}function T(e,t,n){g(U(t),function(t){e.addEventListener(t,n,!1)})}function x(e,t,n){g(U(t),function(t){e.removeEventListener(t,n,!1)})}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function M(e,t){return e.indexOf(t)>-1}function U(e){return e.trim().split(/\s+/g)}function O(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function C(e){return Array.prototype.slice.call(e,0)}function N(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];O(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function R(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return s}var I=1;function P(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var F="ontouchstart"in i,L=R(i,"PointerEvent")!==s,D=F&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,j=1,V=2,H=4,G=8,W=1,X=2,z=4,Y=8,q=16,Z=X|z,K=Y|q,J=Z|K,$=["x","y"],Q=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){A(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&j&&r-i==0,a=t&(H|G)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ne(t));i>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,c=a?a.center:o.center,l=t.center=re(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=se(c,l),t.distance=ae(c,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==j&&o.eventType!==H||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=oe(t.deltaX,t.deltaY);var u=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=f(u.x)>f(u.y)?u.x:u.y,t.scale=a?(d=a.pointers,h=r,ae(h[0],h[1],Q)/ae(d[0],d[1],Q)):1,t.rotation=a?function(e,t){return se(t[1],t[0],Q)+se(e[1],e[0],Q)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,c=t.timeStamp-a.timeStamp;if(t.eventType!=G&&(c>B||a.velocity===s)){var l=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,d=ie(c,l,u);r=d.x,i=d.y,n=f(d.x)>f(d.y)?d.x:d.y,o=oe(l,u),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var d,h;var _=e.element;k(t.srcEvent.target,_)&&(_=t.srcEvent.target);t.target=_}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:h(n/t),y:h(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function oe(e,t){return e===t?W:f(e)>=f(t)?e<0?X:z:t<0?Y:q}function ae(e,t,n){n||(n=$);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function se(e,t,n){n||(n=$);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(P(this.element),this.evWin,this.domHandler)}};var ce={mousedown:j,mousemove:V,mouseup:H},le="mousedown",ue="mousemove mouseup";function de(){this.evEl=le,this.evWin=ue,this.pressed=!1,ee.apply(this,arguments)}S(de,ee,{handler:function(e){var t=ce[e.type];t&j&&0===e.button&&(this.pressed=!0),t&V&&1!==e.which&&(t=H),this.pressed&&(t&H&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var he={pointerdown:j,pointermove:V,pointerup:H,pointercancel:G,pointerout:G},fe={2:"touch",3:"pen",4:"mouse",5:"kinect"},pe="pointerdown",_e="pointermove pointerup pointercancel";function me(){this.evEl=pe,this.evWin=_e,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(pe="MSPointerDown",_e="MSPointerMove MSPointerUp MSPointerCancel"),S(me,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=he[r],o=fe[e.pointerType]||e.pointerType,a="touch"==o,s=O(t,e.pointerId,"pointerId");i&j&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(H|G)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ge={touchstart:j,touchmove:V,touchend:H,touchcancel:G},ve="touchstart",ye="touchstart touchmove touchend touchcancel";function be(){this.evTarget=ve,this.evWin=ye,this.started=!1,ee.apply(this,arguments)}S(be,ee,{handler:function(e){var t=ge[e.type];if(t===j&&(this.started=!0),this.started){var n=function(e,t){var n=C(e.touches),r=C(e.changedTouches);t&(H|G)&&(n=N(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(H|G)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Se={touchstart:j,touchmove:V,touchend:H,touchcancel:G},Ee="touchstart touchmove touchend touchcancel";function Ae(){this.evTarget=Ee,this.targetIds={},ee.apply(this,arguments)}S(Ae,ee,{handler:function(e){var t=Se[e.type],n=function(e,t){var n=C(e.touches),r=this.targetIds;if(t&(j|V)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=C(e.changedTouches),s=[],c=this.target;if(o=n.filter(function(e){return k(e.target,c)}),t===j)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(H|G)&&delete r[a[i].identifier],i++;if(!s.length)return;return[N(o.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var we=2500,Te=25;function xe(){ee.apply(this,arguments);var e=E(this.handler,this);this.touch=new Ae(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ke(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},we)}}S(xe,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&j?(this.primaryTouch=t.changedPointers[0].identifier,ke.call(this,t)):e&(H|G)&&ke.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=Te&&a<=Te)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Me=R(u.style,"touchAction"),Ue=Me!==s,Oe="auto",Ce="manipulation",Ne="none",Re="pan-x",Ie="pan-y",Pe=function(){if(!Ue)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();function Fe(e,t){this.manager=e,this.set(t)}Fe.prototype={set:function(e){"compute"==e&&(e=this.compute()),Ue&&this.manager.element.style&&Pe[e]&&(this.manager.element.style[Me]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,function(t){A(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(M(e,Ne))return Ne;var t=M(e,Re),n=M(e,Ie);if(t&&n)return Ne;if(t||n)return t?Re:Ie;if(M(e,Ce))return Ce;return Oe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=M(r,Ne)&&!Pe[Ne],o=M(r,Ie)&&!Pe[Ie],a=M(r,Re)&&!Pe[Re];if(i){var s=1===e.pointers.length,c=e.distance<2,l=e.deltaTime<250;if(s&&c&&l)return}if(!a||!o)return i||o&&n&Z||a&&n&K?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Le=1,De=2,Be=4,je=8,Ve=je,He=16;function Ge(e){this.options=c({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=Le,this.simultaneous={},this.requireFail=[]}function We(e){return e&He?"cancel":e&je?"end":e&Be?"move":e&De?"start":""}function Xe(e){return e==q?"down":e==Y?"up":e==X?"left":e==z?"right":""}function ze(e,t){var n=t.manager;return n?n.get(e):e}function Ye(){Ge.apply(this,arguments)}function qe(){Ye.apply(this,arguments),this.pX=null,this.pY=null}function Ze(){Ye.apply(this,arguments)}function Ke(){Ge.apply(this,arguments),this._timer=null,this._input=null}function Je(){Ye.apply(this,arguments)}function $e(){Ye.apply(this,arguments)}function Qe(){Ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=w(t.recognizers,et.defaults.preset),new tt(e,t)}Ge.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ze(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)?this:(e=ze(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===O(t,e=ze(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=ze(e,this);var t=O(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<je&&r(t.options.event+We(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=je&&r(t.options.event+We(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Le)))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!A(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(Ve|He|32)&&(this.state=Le),this.state=this.process(t),this.state&(De|Be|je|He)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},S(Ye,Ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(De|Be),i=this.attrTest(e);return r&&(n&G||!i)?t|He:r||i?n&H?t|je:t&De?t|Be:De:32}}),S(qe,Ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var e=this.options.direction,t=[];return e&Z&&t.push(Ie),e&K&&t.push(Re),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&Z?(i=0===o?W:o<0?X:z,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?W:a<0?Y:q,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Ye.prototype.attrTest.call(this,e)&&(this.state&De||!(this.state&De)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Xe(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),S(Ze,Ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&De)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),S(Ke,Ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(H|G)&&!i)this.reset();else if(e.eventType&j)this.reset(),this._timer=_(function(){this.state=Ve,this.tryEmit()},t.time,this);else if(e.eventType&H)return Ve;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Ve&&(e&&e.eventType&H?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),S(Je,Ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&De)}}),S($e,Ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|K,pointers:1},getTouchAction:function(){return qe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Z|K)?t=e.overallVelocity:n&Z?t=e.overallVelocityX:n&K&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&e.eventType&H},emit:function(e){var t=Xe(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),S(Qe,Ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ce]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&j&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=H)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=_(function(){this.state=Ve,this.tryEmit()},t.interval,this),De):Ve}return 32},failTimeout:function(){return this._timer=_(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ve&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Je,{enable:!1}],[Ze,{enable:!1},["rotate"]],[$e,{direction:Z}],[qe,{direction:Z},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){var n;this.options=c({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(L?me:D?Ae:F?xe:de))(n,te),this.touchAction=new Fe(this,this.options.touchAction),nt(this,!0),g(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function nt(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,function(i,o){n=R(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&Ve)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(De|Be|je)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ge)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=O(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(U(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(U(e),function(e){t?n[e]&&n[e].splice(O(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(et,{INPUT_START:j,INPUT_MOVE:V,INPUT_END:H,INPUT_CANCEL:G,STATE_POSSIBLE:Le,STATE_BEGAN:De,STATE_CHANGED:Be,STATE_ENDED:je,STATE_RECOGNIZED:Ve,STATE_CANCELLED:He,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:X,DIRECTION_RIGHT:z,DIRECTION_UP:Y,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:K,DIRECTION_ALL:J,Manager:tt,Input:ee,TouchAction:Fe,TouchInput:Ae,MouseInput:de,PointerEventInput:me,TouchMouseInput:xe,SingleTouchInput:be,Recognizer:Ge,AttrRecognizer:Ye,Tap:Qe,Pan:qe,Swipe:$e,Pinch:Ze,Rotate:Je,Press:Ke,on:T,off:x,each:g,merge:b,extend:y,assign:c,inherit:S,bindFn:E,prefixed:R}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1);function i(e){return 0==(e&e-1)}r.Matrix.Translation=function(e){var t;if(2==e.elements.length)return(t=r.Matrix.I(3)).elements[2][0]=e.elements[0],t.elements[2][1]=e.elements[1],t;if(3==e.elements.length)return(t=r.Matrix.I(4)).elements[0][3]=e.elements[0],t.elements[1][3]=e.elements[1],t.elements[2][3]=e.elements[2],t;throw"Invalid length for Translation"},r.Matrix.prototype.flatten=function(){var e=[];if(0==this.elements.length)return[];for(var t=0;t<this.elements[0].length;t++)for(var n=0;n<this.elements.length;n++)e.push(this.elements[n][t]);return e},r.Matrix.prototype.ensure4x4=function(){if(4==this.elements.length&&4==this.elements[0].length)return this;if(this.elements.length>4||this.elements[0].length>4)return null;for(var e=0;e<this.elements.length;e++)for(var t=this.elements[e].length;t<4;t++)e==t?this.elements[e].push(1):this.elements[e].push(0);for(e=this.elements.length;e<4;e++)0==e?this.elements.push([1,0,0,0]):1==e?this.elements.push([0,1,0,0]):2==e?this.elements.push([0,0,1,0]):3==e&&this.elements.push([0,0,0,1]);return this},r.Matrix.prototype.make3x3=function(){return 4!=this.elements.length||4!=this.elements[0].length?null:r.Matrix.create([[this.elements[0][0],this.elements[0][1],this.elements[0][2]],[this.elements[1][0],this.elements[1][1],this.elements[1][2]],[this.elements[2][0],this.elements[2][1],this.elements[2][2]]])},r.Vector.prototype.ensure3=function(){return r.Vector.create([this.elements[0],this.elements[1],this.elements[2]])},r.Vector.prototype.ensure4=function(e){return r.Vector.create([this.elements[0],this.elements[1],this.elements[2],e])},r.Vector.prototype.divideByW=function(){for(var e=this.elements[this.elements.length-1],t=[],n=0;n<this.elements.length;n++)t.push(this.elements[n]/e);return r.Vector.create(t)},r.Vector.prototype.componentDivide=function(e){if(this.elements.length!=e.elements.length)return null;for(var t=[],n=0;n<this.elements.length;n++)t.push(this.elements[n]/e.elements[n]);return r.Vector.create(t)},r.Vector.min=function(e,t){if(e.elements.length!=t.elements.length)return null;for(var n=[],i=0;i<e.elements.length;i++)n.push(Math.min(e.elements[i],t.elements[i]));return r.Vector.create(n)},r.Vector.max=function(e,t){if(e.elements.length!=t.elements.length)return null;for(var n=[],i=0;i<e.elements.length;i++)n.push(Math.max(e.elements[i],t.elements[i]));return r.Vector.create(n)},r.Vector.prototype.minComponent=function(){for(var e=Number.MAX_VALUE,t=0;t<this.elements.length;t++)e=Math.min(e,this.elements[t]);return e},r.Vector.prototype.maxComponent=function(){for(var e=-Number.MAX_VALUE,t=0;t<this.elements.length;t++)e=Math.max(e,this.elements[t]);return e}},function(e,t,n){"use strict";var r=n(17),i=function(){function e(e){this.material=new r.a({}),this.mvpMatrixFromLight={},Object.assign(this,e)}return e.prototype.init=function(){var e=this;this.geometry.init(),this.colorAttributeArray=this.geometry.vertices.map(function(t,n){return e.material.color.e(n%3+1)})},e}();t.a=i},function(e,t,n){var r=n(13),i=n(18),o=n(24),a=n(14);function s(){}s.prototype={eql:function(e){return this.contains(e.anchor)&&this.isParallelTo(e)},dup:function(){return s.create(this.anchor,this.normal)},translate:function(e){var t=e.elements||e;return s.create([this.anchor.elements[0]+t[0],this.anchor.elements[1]+t[1],this.anchor.elements[2]+(t[2]||0)],this.normal)},isParallelTo:function(e){var t;return e.normal?(t=this.normal.angleFrom(e.normal),Math.abs(t)<=a.precision||Math.abs(Math.PI-t)<=a.precision):e.direction?this.normal.isPerpendicularTo(e.direction):null},isPerpendicularTo:function(e){var t=this.normal.angleFrom(e.normal);return Math.abs(Math.PI/2-t)<=a.precision},distanceFrom:function(e){if(this.intersects(e)||this.contains(e))return 0;if(e.anchor){var t=this.anchor.elements,n=e.anchor.elements,r=this.normal.elements;return Math.abs((t[0]-n[0])*r[0]+(t[1]-n[1])*r[1]+(t[2]-n[2])*r[2])}var i=e.elements||e;t=this.anchor.elements,r=this.normal.elements;return Math.abs((t[0]-i[0])*r[0]+(t[1]-i[1])*r[1]+(t[2]-(i[2]||0))*r[2])},contains:function(e){if(e.normal)return null;if(e.direction)return this.contains(e.anchor)&&this.contains(e.anchor.add(e.direction));var t=e.elements||e,n=this.anchor.elements,r=this.normal.elements;return Math.abs(r[0]*(n[0]-t[0])+r[1]*(n[1]-t[1])+r[2]*(n[2]-(t[2]||0)))<=a.precision},intersects:function(e){return void 0===e.direction&&void 0===e.normal?null:!this.isParallelTo(e)},intersectionWith:function(e){if(!this.intersects(e))return null;if(e.direction){var t=e.anchor.elements,n=e.direction.elements,a=this.anchor.elements,s=((l=this.normal.elements)[0]*(a[0]-t[0])+l[1]*(a[1]-t[1])+l[2]*(a[2]-t[2]))/(l[0]*n[0]+l[1]*n[1]+l[2]*n[2]);return r.create([t[0]+n[0]*s,t[1]+n[1]*s,t[2]+n[2]*s])}if(e.normal){for(var c=this.normal.cross(e.normal).toUnitVector(),l=this.normal.elements,u=(t=this.anchor.elements,e.normal.elements),d=e.anchor.elements,h=i.Zero(2,2),f=0;h.isSingular();)f++,h=i.create([[l[f%3],l[(f+1)%3]],[u[f%3],u[(f+1)%3]]]);for(var p=h.inverse().elements,_=l[0]*t[0]+l[1]*t[1]+l[2]*t[2],m=u[0]*d[0]+u[1]*d[1]+u[2]*d[2],g=[p[0][0]*_+p[0][1]*m,p[1][0]*_+p[1][1]*m],v=[],y=1;y<=3;y++)v.push(f==y?0:g[(y+(5-f)%3)%3]);return o.create(v,c)}},pointClosestTo:function(e){var t=e.elements||e,n=this.anchor.elements,i=this.normal.elements,o=(n[0]-t[0])*i[0]+(n[1]-t[1])*i[1]+(n[2]-(t[2]||0))*i[2];return r.create([t[0]+i[0]*o,t[1]+i[1]*o,(t[2]||0)+i[2]*o])},rotate:function(e,t){var n=e.determinant?e.elements:i.Rotation(e,t.direction).elements,r=t.pointClosestTo(this.anchor).elements,o=this.anchor.elements,a=this.normal.elements,c=r[0],l=r[1],u=r[2],d=o[0]-c,h=o[1]-l,f=o[2]-u;return s.create([c+n[0][0]*d+n[0][1]*h+n[0][2]*f,l+n[1][0]*d+n[1][1]*h+n[1][2]*f,u+n[2][0]*d+n[2][1]*h+n[2][2]*f],[n[0][0]*a[0]+n[0][1]*a[1]+n[0][2]*a[2],n[1][0]*a[0]+n[1][1]*a[1]+n[1][2]*a[2],n[2][0]*a[0]+n[2][1]*a[1]+n[2][2]*a[2]])},reflectionIn:function(e){if(e.normal){var t=this.anchor.elements,n=this.normal.elements,r=t[0],i=t[1],o=t[2],a=n[0],c=n[1],l=n[2],u=this.anchor.reflectionIn(e).elements,d=r+a,h=i+c,f=o+l,p=e.pointClosestTo([d,h,f]).elements,_=[p[0]+(p[0]-d)-u[0],p[1]+(p[1]-h)-u[1],p[2]+(p[2]-f)-u[2]];return s.create(u,_)}if(e.direction)return this.rotate(Math.PI,e);var m=e.elements||e;return s.create(this.anchor.reflectionIn([m[0],m[1],m[2]||0]),this.normal)},setVectors:function(e,t,n){if(null===(e=(e=r.create(e)).to3D()))return null;if(null===(t=(t=r.create(t)).to3D()))return null;if(void 0===n)n=null;else if(null===(n=(n=r.create(n)).to3D()))return null;var i,o,a=e.elements[0],s=e.elements[1],c=e.elements[2],l=t.elements[0],u=t.elements[1],d=t.elements[2];if(null!==n){var h=n.elements[0],f=n.elements[1],p=n.elements[2];if(0===(o=(i=r.create([(u-s)*(p-c)-(d-c)*(f-s),(d-c)*(h-a)-(l-a)*(p-c),(l-a)*(f-s)-(u-s)*(h-a)])).modulus()))return null;i=r.create([i.elements[0]/o,i.elements[1]/o,i.elements[2]/o])}else{if(0===(o=Math.sqrt(l*l+u*u+d*d)))return null;i=r.create([t.elements[0]/o,t.elements[1]/o,t.elements[2]/o])}return this.anchor=e,this.normal=i,this}},s.create=function(e,t,n){return(new s).setVectors(e,t,n)},s.XY=s.create(r.Zero(3),r.k),s.YZ=s.create(r.Zero(3),r.i),s.ZX=s.create(r.Zero(3),r.j),s.YX=s.XY,s.ZY=s.YZ,s.XZ=s.ZX,s.fromPoints=function(e){var t,n,i,o,c,l,u,d,h,f,p=e.length,_=[],m=r.Zero(3);for(t=0;t<p;t++){if(null===(n=r.create(e[t]).to3D()))return null;if(_.push(n),(i=_.length)>2){if(c=_[i-1].elements,l=_[i-2].elements,u=_[i-3].elements,o=r.create([(c[1]-l[1])*(u[2]-l[2])-(c[2]-l[2])*(u[1]-l[1]),(c[2]-l[2])*(u[0]-l[0])-(c[0]-l[0])*(u[2]-l[2]),(c[0]-l[0])*(u[1]-l[1])-(c[1]-l[1])*(u[0]-l[0])]).toUnitVector(),i>3&&null!==(h=o.angleFrom(f))&&!(Math.abs(h)<=a.precision||Math.abs(h-Math.PI)<=a.precision))return null;m=m.add(o),f=o}}return c=_[1].elements,l=_[0].elements,u=_[i-1].elements,d=_[i-2].elements,m=m.add(r.create([(c[1]-l[1])*(u[2]-l[2])-(c[2]-l[2])*(u[1]-l[1]),(c[2]-l[2])*(u[0]-l[0])-(c[0]-l[0])*(u[2]-l[2]),(c[0]-l[0])*(u[1]-l[1])-(c[1]-l[1])*(u[0]-l[0])]).toUnitVector()).add(r.create([(l[1]-u[1])*(d[2]-u[2])-(l[2]-u[2])*(d[1]-u[1]),(l[2]-u[2])*(d[0]-u[0])-(l[0]-u[0])*(d[2]-u[2]),(l[0]-u[0])*(d[1]-u[1])-(l[1]-u[1])*(d[0]-u[0])]).toUnitVector()),s.create(_[0],m)},e.exports=s},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(3),o=n(6),a=n(8),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new o.Metadata(i.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,c):a.tagProperty(t,n,c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(11),o=n(6),a=n(59),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof s?c=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(c=s),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some(function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG})},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===r.NAMED_TAG})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG}):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(26),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(r.NAMED_TAG);t.namedConstraint=s;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var c=o[s].split("[");if(c.length>1){c[0]in a||(a[c[0]]=[]),a=a[c[0]];for(var l=1;l<c.length;++l){var u=parseInt(c[l]);l<c.length-1||s<o.length-1?(u in a||(l<c.length-1?a[u]=[]:a[u]={}),a=a[u]):a[u]=t?r:e[r].type}}else s<o.length-1?(c[0]in a||(a[c[0]]={}),a=a[c[0]]):a[c[0]]=t?r:e[r].type}return n}},function(e,t){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(e,t){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(e,t,n){"use strict";var r=n(0),i=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=0,s=function(){function e(){this.meshes=[],this.lights=[],this.lightsInfo={},this.inited=!1,this.idx=a++}return e.prototype.addMesh=function(e){this.meshes.push(e)},e.prototype.addLight=function(e){this.lightsInfo[e.type]||(this.lightsInfo[e.type]={varName:e.type.charAt(0).toLowerCase()+e.type.substring(1),declaration:e.declaration,lights:[]}),this.lightsInfo[e.type].lights.push(e)},e.prototype.getLightsInfo=function(){return this.lightsInfo},e.prototype.init=function(){this.meshes.forEach(function(e){return e.init()}),this.inited=!0},e=i([Object(r.injectable)(),o("design:paramtypes",[])],e)}();t.a=s},function(e,t,n){"use strict";var r=n(0),i=n(1),o=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=function(){function e(){this.transform=i.Matrix.I(4)}return e.prototype.init=function(e,t,n,r,i,o,a){this.eye=e,this.center=t,this.up=a||$V([0,1,0]),this.fovy=n,this.aspect=r,this.znear=i,this.zfar=o,this.updateProjection(),this.updateTransform()},e.prototype.perspective=function(e,t,n,r){var i=n*Math.tan(e*Math.PI/360),o=-i,a=o*t,s=i*t;return $M([[2*n/(s-a),0,(s+a)/(s-a),0],[0,2*n/(i-o),(i+o)/(i-o),0],[0,0,-(r+n)/(r-n),-2*r*n/(r-n)],[0,0,-1,0]])},e.prototype.lookAt=function(e,t,n){var r=e.subtract(t).toUnitVector(),o=n.cross(r).toUnitVector(),a=r.cross(o).toUnitVector(),s=$M([[o.e(1),o.e(2),o.e(3),0],[a.e(1),a.e(2),a.e(3),0],[r.e(1),r.e(2),r.e(3),0],[0,0,0,1]]),c=i.Matrix.Translation($V([-e.e(1),-e.e(2),-e.e(3)]));return s.x(c)},e.prototype.ortho=function(e,t,n,r,i,o){return $M([[2/(t-e),0,0,-(t+e)/(t-e)],[0,2/(r-n),0,-(r+n)/(r-n)],[0,0,-2/(o-i),-(o+i)/(o-i)],[0,0,0,1]])},e.prototype.truck=function(e){var t=this.eye.subtract(this.center).toUnitVector(),n=this.up.cross(t).toUnitVector();n=n.x(e),this.eye=this.eye.add(n),this.center=this.center.add(n),this.updateTransform()},e.prototype.pedestal=function(e){var t=this.eye.subtract(this.center).toUnitVector(),n=this.up.cross(t).toUnitVector(),r=t.cross(n).toUnitVector();r=r.x(e),this.eye=this.eye.add(r),this.center=this.center.add(r),this.updateTransform()},e.prototype.dolly=function(e){var t=this.eye.subtract(this.center).toUnitVector();t=t.x(e),this.eye=this.eye.add(t),this.center=this.center.add(t),this.updateTransform()},e.prototype.tilt=function(e){var t=this.eye.subtract(this.center).toUnitVector(),n=this.up.cross(t).toUnitVector(),r=this.center.subtract(this.eye),o=i.Matrix.Rotation(e,n);r=o.x(r),this.center=r.add(this.eye),Math.abs(t.dot(this.up))>=.985&&(this.up=o.x(this.up)),this.updateTransform()},e.prototype.pan=function(e){var t=this.eye.subtract(this.center).toUnitVector(),n=this.up.cross(t).toUnitVector(),r=t.cross(n).toUnitVector(),o=i.Matrix.Rotation(e,r),a=this.center.subtract(this.eye);a=o.x(a),this.center=a.add(this.eye),Math.abs(t.dot(this.up))>=.985&&(this.up=o.x(this.up)),this.updateTransform()},e.prototype.cant=function(e){var t=this.eye.subtract(this.center).toUnitVector(),n=this.center.subtract(this.eye),r=i.Matrix.Rotation(e,t);n=r.x(n),this.center=n.add(this.eye),this.up=r.x(this.up),this.updateTransform()},e.prototype.updateTransform=function(){this.view=this.lookAt(this.eye,this.center,this.up),this.transform=this.projection.x(this.view)},e.prototype.updateProjection=function(){this.projection=this.perspective(this.fovy,this.aspect,this.znear,this.zfar)},e=o([Object(r.injectable)()],e)}();t.a=a},function(e,t,n){var r;e.exports=((r=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";n=e}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),t(++n%i.children.length)},!1);var o=(performance||Date).now(),a=o,s=0,c=e(new r.Panel("FPS","#0ff","#002")),l=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-o,200),e>a+1e3&&(c.update(1e3*s/(e-a),100),a=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:i,setMode:t}}).Panel=function(e,t,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,c=48*a,l=3*a,u=2*a,d=3*a,h=15*a,f=74*a,p=30*a,_=document.createElement("canvas");_.width=s,_.height=c,_.style.cssText="width:80px;height:48px";var m=_.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,s,c),m.fillStyle=t,m.fillText(e,l,u),m.fillRect(d,h,f,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(d,h,f,p),{dom:_,update:function(c,g){r=Math.min(r,c),i=Math.max(i,c),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,s,h),m.fillStyle=t,m.fillText(o(c)+" "+e+" ("+o(r)+"-"+o(i)+")",l,u),m.drawImage(_,d+a,h,f-a,p,d,h,f-a,p),m.fillRect(d+f-a,h,a,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(d+f-a,h,a,o((1-c/g)*p))}}},r)},function(e,t,n){"use strict";var r=n(78),i=n(92);e.exports=function(e){var t=(e=e||{}).extensions||[],n=r(e),o=n.scale||1,a=e.glOptions;function s(){var e=n._width/o|0,t=n._height/o|0;n.canvas.width=e,n.canvas.height=t,n.canvas.style.width=n._width+"px",n.canvas.style.height=n._height+"px",n.emit("gl-resize",e,t)}return n.on("init",function(){var r=document.createElement("canvas"),c=r.getContext("webgl",a)||r.getContext("experimental-webgl",a);if(c){for(var l=i(c),u=0;u<t.length;++u)if(!(t[u]in l))return void n.emit("gl-error",new Error("Missing extension: "+t[u]));r.style.position="absolute",r.style.left="0px",r.style.top="0px",n.element.appendChild(r),n.canvas=r,n.gl=c,s(),n.clearFlags=void 0===e.clearFlags?c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT:e.clearFlags,n.clearColor=e.clearColor||[0,0,0,0],n.clearDepth=e.clearDepth||1,n.clearStencil=e.clearStencil||0,n.on("resize",s),n.on("render",function(e){c.bindFramebuffer(c.FRAMEBUFFER,null),c.viewport(0,0,n._width/o|0,n._height/o|0),n.clearFlags&c.STENCIL_BUFFER_BIT&&c.clearStencil(n.clearStencil),n.clearFlags&c.COLOR_BUFFER_BIT&&c.clearColor(n.clearColor[0],n.clearColor[1],n.clearColor[2],n.clearColor[3]),n.clearFlags&c.DEPTH_BUFFER_BIT&&c.clearDepth(n.clearDepth),n.clearFlags&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT|c.STENCIL_BUFFER_BIT),n.emit("gl-render",e)}),n.emit("gl-init")}else n.emit("gl-error",new Error("Unable to initialize WebGL"))}),Object.defineProperty(n,"scale",{get:function(){return o},set:function(e){return(e=+e)<=0||isNaN(e)||o===e?o:(o=e,s(),o)}}),Object.defineProperty(n,"width",{get:function(){return n._width/o|0}}),Object.defineProperty(n,"height",{get:function(){return n._height/o|0}}),Object.defineProperty(n,"mouse",{get:function(){return[n.mouseX/o,n.mouseY/o]}}),Object.defineProperty(n,"prevMouse",{get:function(){return[n.prevMouseX/o,n.prevMouseY/o]}}),n}},function(e,t,n){"use strict";function r(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),i=Math.round(e.g),o=Math.round(e.b),a=e.a,s=Math.round(e.h),c=e.s.toFixed(1),l=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var u=e.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}return"CSS_RGB"===n?"rgb("+r+","+i+","+o+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+o+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+o+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+c+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+c+",v:"+l+",a:"+a+"}":"unknown format"}n.d(t,"a",function(){return ce});var i=Array.prototype.forEach,o=Array.prototype.slice,a={BREAK:{},extend:function(e){return this.each(o.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(o.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=o.call(arguments);return function(){for(var t=o.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(i&&e.forEach&&e.forEach===i)e.forEach(t,n);else if(e.length===e.length+0){var r,o=void 0;for(o=0,r=e.length;o<r;o++)if(o in e&&t.call(n,e[o],o)===this.BREAK)return}else for(var a in e)if(t.call(n,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r=void 0;return function(){var i=this,o=arguments;var a=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t),a&&e.apply(i,o)}},toArray:function(e){return e.toArray?e.toArray():o.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},s=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:r},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:r},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:r},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:r}}},{litmus:a.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(a.isNumber(e.r)&&a.isNumber(e.g)&&a.isNumber(e.b)&&a.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(a.isNumber(e.r)&&a.isNumber(e.g)&&a.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(a.isNumber(e.h)&&a.isNumber(e.s)&&a.isNumber(e.v)&&a.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(a.isNumber(e.h)&&a.isNumber(e.s)&&a.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],c=void 0,l=void 0,u=function(){l=!1;var e=arguments.length>1?a.toArray(arguments):arguments[0];return a.each(s,function(t){if(t.litmus(e))return a.each(t.conversions,function(t,n){if(c=t.read(e),!1===l&&!1!==c)return l=c,c.conversionName=n,c.conversion=t,a.BREAK}),a.BREAK}),l},d=void 0,h={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),c=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),i=Math.max(e,t,n),o=i-r,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=e===i?(t-n)/o:t===i?2+(n-e)/o:4+(e-t)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(d=8*t)|e&~(255<<d)}},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},g=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},y=function(){function e(){if(p(this,e),this.__state=u.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return _(e,[{key:"toString",value:function(){return r(this)}},{key:"toHexString",value:function(){return r(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function b(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(y.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(y.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function S(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(y.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(y.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}y.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=h.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");a.extend(e.__state,h.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},y.recalculateHSV=function(e){var t=h.rgb_to_hsv(e.r,e.g,e.b);a.extend(e.__state,{s:t.s,v:t.v}),a.isNaN(t.h)?a.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},y.COMPONENTS=["r","g","b","h","s","v","hex","a"],b(y.prototype,"r",2),b(y.prototype,"g",1),b(y.prototype,"b",0),S(y.prototype,"h"),S(y.prototype,"s"),S(y.prototype,"v"),Object.defineProperty(y.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(y.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=h.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var E=function(){function e(t,n){p(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return _(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),A={};a.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){a.each(e,function(e){A[e]=t})});var w=/(\d+(\.\d+)?)px/;function T(e){if("0"===e||a.isUndefined(e))return 0;var t=e.match(w);return a.isNull(t)?0:parseFloat(t[1])}var x={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,i=t;a.isUndefined(i)&&(i=!0),a.isUndefined(r)&&(r=!0),e.style.position="absolute",i&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var i=n||{},o=A[t];if(!o)throw new Error("Event type "+t+" not supported.");var s=document.createEvent(o);switch(o){case"MouseEvents":var c=i.x||i.clientX||0,l=i.y||i.clientY||0;s.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,c,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=s.initKeyboardEvent||s.initKeyEvent;a.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(t,i.bubbles||!1,i.cancelable||!0)}a.defaults(s,r),e.dispatchEvent(s)},bind:function(e,t,n,r){var i=r||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),x},unbind:function(e,t,n,r){var i=r||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),x},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return x},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return x},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return T(t["border-left-width"])+T(t["border-right-width"])+T(t["padding-left"])+T(t["padding-right"])+T(t.width)},getHeight:function(e){var t=getComputedStyle(e);return T(t["border-top-width"])+T(t["border-bottom-width"])+T(t["padding-top"])+T(t["padding-bottom"])+T(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},k=function(e){function t(e,n){p(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),x.bind(r.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return g(t,E),_(t,[{key:"setValue",value:function(e){var n=m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),M=function(e){function t(e,n,r){p(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r,s=i;if(i.__select=document.createElement("select"),a.isArray(o)){var c={};a.each(o,function(e){c[e]=e}),o=c}return a.each(o,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),s.__select.appendChild(n)}),i.updateDisplay(),x.bind(i.__select,"change",function(){var e=this.options[this.selectedIndex].value;s.setValue(e)}),i.domElement.appendChild(i.__select),i}return g(t,E),_(t,[{key:"setValue",value:function(e){var n=m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return x.isActive(this.__select)?this:(this.__select.value=this.getValue(),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),U=function(e){function t(e,n){p(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),x.bind(r.__input,"keyup",o),x.bind(r.__input,"change",o),x.bind(r.__input,"blur",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),x.bind(r.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return g(t,E),_(t,[{key:"updateDisplay",value:function(){return x.isActive(this.__input)||(this.__input.value=this.getValue()),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function O(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var C=function(e){function t(e,n,r){p(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,a.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=O(i.__impliedStep),i}return g(t,E),_(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=O(e),this}}]),t}();var N=function(e){function t(e,n,r){p(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));i.__truncationSuspended=!1;var o=i,s=void 0;function c(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function l(e){var t=s-e.clientY;o.setValue(o.getValue()+t*o.__impliedStep),s=e.clientY}function u(){x.unbind(window,"mousemove",l),x.unbind(window,"mouseup",u),c()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),x.bind(i.__input,"change",function(){var e=parseFloat(o.__input.value);a.isNaN(e)||o.setValue(e)}),x.bind(i.__input,"blur",function(){c()}),x.bind(i.__input,"mousedown",function(e){x.bind(window,"mousemove",l),x.bind(window,"mouseup",u),s=e.clientY}),x.bind(i.__input,"keydown",function(e){13===e.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,c())}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return g(t,C),_(t,[{key:"updateDisplay",value:function(){var e,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(e*r)/r),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function R(e,t,n,r,i){return r+(e-t)/(n-t)*(i-r)}var I=function(e){function t(e,n,r,i,o){p(this,t);var a=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:r,max:i,step:o})),s=a;function c(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(R(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function l(){x.unbind(window,"mousemove",c),x.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function u(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(R(t,n.left,n.right,s.__min,s.__max))}function d(){x.unbind(window,"touchmove",u),x.unbind(window,"touchend",d),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),x.bind(a.__background,"mousedown",function(e){document.activeElement.blur(),x.bind(window,"mousemove",c),x.bind(window,"mouseup",l),c(e)}),x.bind(a.__background,"touchstart",function(e){if(1!==e.touches.length)return;x.bind(window,"touchmove",u),x.bind(window,"touchend",d),u(e)}),x.addClass(a.__background,"slider"),x.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return g(t,C),_(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),P=function(e){function t(e,n,r){p(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===r?"Fire":r,x.bind(i.__button,"click",function(e){return e.preventDefault(),o.fire(),!1}),x.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return g(t,E),_(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),F=function(e){function t(e,n){p(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.__color=new y(r.getValue()),r.__temp=new y(0);var i=r;r.domElement=document.createElement("div"),x.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",x.bind(r.__input,"keydown",function(e){13===e.keyCode&&f.call(this)}),x.bind(r.__input,"blur",f),x.bind(r.__selector,"mousedown",function(){x.addClass(this,"drag").bind(window,"mouseup",function(){x.removeClass(i.__selector,"drag")})}),x.bind(r.__selector,"touchstart",function(){x.addClass(this,"drag").bind(window,"touchend",function(){x.removeClass(i.__selector,"drag")})});var o,s=document.createElement("div");function c(e){m(e),x.bind(window,"mousemove",m),x.bind(window,"touchmove",m),x.bind(window,"mouseup",d),x.bind(window,"touchend",d)}function l(e){g(e),x.bind(window,"mousemove",g),x.bind(window,"touchmove",g),x.bind(window,"mouseup",h),x.bind(window,"touchend",h)}function d(){x.unbind(window,"mousemove",m),x.unbind(window,"touchmove",m),x.unbind(window,"mouseup",d),x.unbind(window,"touchend",d),_()}function h(){x.unbind(window,"mousemove",g),x.unbind(window,"touchmove",g),x.unbind(window,"mouseup",h),x.unbind(window,"touchend",h),_()}function f(){var e=u(this.value);!1!==e?(i.__color.__state=e,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function _(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function m(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,r=n.clientX,o=n.clientY,a=(r-t.left)/(t.right-t.left),s=1-(o-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function g(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return a.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),a.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),a.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),a.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),a.extend(s.style,{width:"100%",height:"100%",background:"none"}),D(s,"top","rgba(0,0,0,0)","#000"),a.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(o=r.__hue_field).style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),x.bind(r.__saturation_field,"mousedown",c),x.bind(r.__saturation_field,"touchstart",c),x.bind(r.__field_knob,"mousedown",c),x.bind(r.__field_knob,"touchstart",c),x.bind(r.__hue_field,"mousedown",l),x.bind(r.__hue_field,"touchstart",l),r.__saturation_field.appendChild(s),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return g(t,E),_(t,[{key:"updateDisplay",value:function(){var e=u(this.getValue());if(!1!==e){var t=!1;a.each(y.COMPONENTS,function(n){if(!a.isUndefined(e[n])&&!a.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&a.extend(this.__color.__state,e)}a.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;a.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,D(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),a.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),t}(),L=["-moz-","-o-","-webkit-","-ms-",""];function D(e,t,n,r){e.style.background="",a.each(L,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}var B=function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(e){}},j=function(e,t){var n=e[t];return a.isArray(arguments[2])||a.isObject(arguments[2])?new M(e,t,arguments[2]):a.isNumber(n)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?a.isNumber(arguments[4])?new I(e,t,arguments[2],arguments[3],arguments[4]):new I(e,t,arguments[2],arguments[3]):a.isNumber(arguments[4])?new N(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new N(e,t,{min:arguments[2],max:arguments[3]}):a.isString(n)?new U(e,t):a.isFunction(n)?new P(e,t,""):a.isBoolean(n)?new k(e,t):null};var V=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},H=function(){function e(){p(this,e),this.backgroundElement=document.createElement("div"),a.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),x.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),a.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;x.bind(this.backgroundElement,"click",function(){t.hide()})}return _(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),a.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",x.unbind(e.domElement,"webkitTransitionEnd",t),x.unbind(e.domElement,"transitionend",t),x.unbind(e.domElement,"oTransitionEnd",t)};x.bind(this.domElement,"webkitTransitionEnd",t),x.bind(this.domElement,"transitionend",t),x.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-x.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-x.getHeight(this.domElement)/2+"px"}}]),e}();B(function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var G="Default",W=function(){try{return!!window.localStorage}catch(e){return!1}}(),X=void 0,z=!0,Y=void 0,q=!1,Z=[],K=function e(t){var n=this,r=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),x.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=a.defaults(r,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),r=a.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),a.isUndefined(r.load)?r.load={preset:G}:r.preset&&(r.load.preset=r.preset),a.isUndefined(r.parent)&&r.hideable&&Z.push(this),r.resizable=a.isUndefined(r.parent)&&r.resizable,r.autoPlace&&a.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=W&&"true"===localStorage.getItem(ne(this,"isLocal")),s=void 0,c=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(e){n.parent?n.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,ae(n,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,c&&(c.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(t){r.closed=t,r.closed?x.addClass(n.__ul,e.CLASS_CLOSED):x.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(e){W&&(o=e,e?x.bind(window,"unload",s):x.unbind(window,"unload",s),localStorage.setItem(ne(n,"isLocal"),e))}}}),a.isUndefined(r.parent)){if(r.closed=!1,x.addClass(this.domElement,e.CLASS_MAIN),x.makeSelectable(this.domElement,!1),W&&o){n.useLocalStorage=!0;var l=localStorage.getItem(ne(this,"gui"));l&&(r.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,x.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),r.closeOnTop?(x.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(x.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),x.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var u=document.createTextNode(r.name);x.addClass(u,"controller-name"),c=J(n,u);x.addClass(this.__ul,e.CLASS_CLOSED),x.addClass(c,"title"),x.bind(c,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(a.isUndefined(r.parent)&&(z&&(Y=document.createElement("div"),x.addClass(Y,"dg"),x.addClass(Y,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Y),z=!1),Y.appendChild(this.domElement),x.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||ae(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},x.bind(window,"resize",this.__resizeHandler),x.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),x.bind(this.__ul,"transitionend",this.__resizeHandler),x.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&oe(this),s=function(){W&&"true"===localStorage.getItem(ne(n,"isLocal"))&&localStorage.setItem(ne(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=s,r.parent||((i=n.getRoot()).width+=1,a.defer(function(){i.width-=1}))};function J(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function $(e){x.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&x.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function Q(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function ee(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[t.property]=t,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[e.preset])a=o[e.preset];else{if(!o[G])return;a=o[G]}if(a[r]&&void 0!==a[r][t.property]){var s=a[r][t.property];t.initialValue=s,t.setValue(s)}}}}function te(e,t,n,r){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new F(t,n);else{var o=[t,n].concat(r.factoryArgs);i=j.apply(e,o)}r.before instanceof E&&(r.before=r.before.__li),ee(e,i),x.addClass(i.domElement,"c");var s=document.createElement("span");x.addClass(s,"property-name"),s.innerHTML=i.property;var c=document.createElement("div");c.appendChild(s),c.appendChild(i.domElement);var l=J(e,c,r.before);return x.addClass(l,K.CLASS_CONTROLLER_ROW),i instanceof F?x.addClass(l,"color"):x.addClass(l,f(i.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,a.extend(n,{options:function(t){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),te(e,n.object,n.property,{before:r,factoryArgs:[a.toArray(arguments)]})}if(a.isArray(t)||a.isObject(t)){var i=n.__li.nextElementSibling;return n.remove(),te(e,n.object,n.property,{before:i,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof I){var r=new N(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});a.each(["updateDisplay","onChange","onFinishChange","step"],function(e){var t=n[e],i=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(r,e),t.apply(n,e)}}),x.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof N){var i=function(t){if(a.isNumber(n.__min)&&a.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=te(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return t};n.min=a.compose(i,n.min),n.max=a.compose(i,n.max)}else n instanceof k?(x.bind(t,"click",function(){x.fakeEvent(n.__checkbox,"click")}),x.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof P?(x.bind(t,"click",function(){x.fakeEvent(n.__button,"click")}),x.bind(t,"mouseover",function(){x.addClass(n.__button,"hover")}),x.bind(t,"mouseout",function(){x.removeClass(n.__button,"hover")})):n instanceof F&&(x.addClass(t,"color"),n.updateDisplay=a.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=a.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&Q(e.getRoot(),!0),t},n.setValue)}(e,l,i),e.__controllers.push(i),i}function ne(e,t){return document.location.href+"."+t}function re(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function ie(e,t){t.style.display=e.useLocalStorage?"block":"none"}function oe(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){x.removeClass(e.__closeButton,K.CLASS_DRAG),x.unbind(window,"mousemove",n),x.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),t=i.clientX,x.addClass(e.__closeButton,K.CLASS_DRAG),x.bind(window,"mousemove",n),x.bind(window,"mouseup",r),!1}e.__resize_handle=document.createElement("div"),a.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),x.bind(e.__resize_handle,"mousedown",i),x.bind(e.__closeButton,"mousedown",i),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function ae(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function se(e,t){var n={};return a.each(e.__rememberedObjects,function(r,i){var o={},s=e.__rememberedObjectIndecesToControllers[i];a.each(s,function(e,n){o[n]=t?e.initialValue:e.getValue()}),n[i]=o}),n}K.toggleHide=function(){q=!q,a.each(Z,function(e){e.domElement.style.display=q?"none":""})},K.CLASS_AUTO_PLACE="a",K.CLASS_AUTO_PLACE_CONTAINER="ac",K.CLASS_MAIN="main",K.CLASS_CONTROLLER_ROW="cr",K.CLASS_TOO_TALL="taller-than-window",K.CLASS_CLOSED="closed",K.CLASS_CLOSE_BUTTON="close-button",K.CLASS_CLOSE_TOP="close-top",K.CLASS_CLOSE_BOTTOM="close-bottom",K.CLASS_DRAG="drag",K.DEFAULT_WIDTH=245,K.TEXT_CLOSED="Close Controls",K.TEXT_OPEN="Open Controls",K._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||K.toggleHide()},x.bind(window,"keydown",K._keydownHandler,!1),a.extend(K.prototype,{add:function(e,t){return te(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return te(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;a.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Y.removeChild(this.domElement);var e=this;a.each(this.__folders,function(t){e.removeFolder(t)}),x.unbind(window,"keydown",K._keydownHandler,!1),$(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new K(t);this.__folders[e]=n;var r=J(this,n.domElement);return x.addClass(r,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],$(e);var t=this;a.each(e.__folders,function(t){e.removeFolder(t)}),a.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=x.getOffset(e.__ul).top,n=0;a.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=x.getHeight(t))}),window.innerHeight-t-20<n?(x.addClass(e.domElement,K.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(x.removeClass(e.domElement,K.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&a.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:a.debounce(function(){this.onResize()},50),remember:function(){if(a.isUndefined(X)&&((X=new H).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;a.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&function(e){var t=e.__save_row=document.createElement("li");x.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),x.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",x.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",x.addClass(r,"button"),x.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",x.addClass(i,"button"),x.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",x.addClass(o,"button"),x.addClass(o,"revert");var s=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?a.each(e.load.remembered,function(t,n){re(e,n,n===e.preset)}):re(e,G,!1);if(x.bind(s,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(s),t.appendChild(n),t.appendChild(r),t.appendChild(i),t.appendChild(o),W){var c=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),u=document.getElementById("dg-save-locally");u.style.display="block","true"===localStorage.getItem(ne(e,"isLocal"))&&l.setAttribute("checked","checked"),ie(e,c),x.bind(l,"change",function(){e.useLocalStorage=!e.useLocalStorage,ie(e,c)})}var d=document.getElementById("dg-new-constructor");x.bind(d,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||X.hide()}),x.bind(n,"click",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),X.show(),d.focus(),d.select()}),x.bind(r,"click",function(){e.save()}),x.bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),x.bind(o,"click",function(){e.revert()})}(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&ae(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=se(this)),e.folders={},a.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=se(this),Q(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[G]=se(this,!0)),this.load.remembered[e]=se(this),this.preset=e,re(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){a.each(this.__controllers,function(t){this.getRoot().load.remembered?ee(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),a.each(this.__folders,function(e){e.revert(e)}),e||Q(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&V.call(window,function(){e(t)});a.each(t,function(e){e.updateDisplay()})}(this.__listening)},updateDisplay:function(){a.each(this.__controllers,function(e){e.updateDisplay()}),a.each(this.__folders,function(e){e.updateDisplay()})}});var ce=K},function(e,t,n){"use strict";var r=n(94),i=n(95),o=n(39),a=n(96),s=n(114),c=n(19);function l(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var u=l.prototype;function d(e,t){return e.name<t.name?-1:1}u.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},u.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},u.update=function(e,t,n,l){if(!t||1===arguments.length){var u=e;e=u.vertex,t=u.fragment,n=u.uniforms,l=u.attributes}var h=this,f=h.gl,p=h._vref;h._vref=a.shader(f,f.VERTEX_SHADER,e),p&&p.dispose(),h.vertShader=h._vref.shader;var _=this._fref;if(h._fref=a.shader(f,f.FRAGMENT_SHADER,t),_&&_.dispose(),h.fragShader=h._fref.shader,!n||!l){var m=f.createProgram();if(f.attachShader(m,h.fragShader),f.attachShader(m,h.vertShader),f.linkProgram(m),!f.getProgramParameter(m,f.LINK_STATUS)){var g=f.getProgramInfoLog(m);throw new c(g,"Error linking program:"+g)}n=n||s.uniforms(f,m),l=l||s.attributes(f,m),f.deleteProgram(m)}(l=l.slice()).sort(d);var v,y=[],b=[],S=[];for(v=0;v<l.length;++v){var E=l[v];if(E.type.indexOf("mat")>=0){for(var A=0|E.type.charAt(E.type.length-1),w=new Array(A),T=0;T<A;++T)w[T]=S.length,b.push(E.name+"["+T+"]"),"number"==typeof E.location?S.push(E.location+T):Array.isArray(E.location)&&E.location.length===A&&"number"==typeof E.location[T]?S.push(0|E.location[T]):S.push(-1);y.push({name:E.name,type:E.type,locations:w})}else y.push({name:E.name,type:E.type,locations:[S.length]}),b.push(E.name),"number"==typeof E.location?S.push(0|E.location):S.push(-1)}var x=0;for(v=0;v<S.length;++v)if(S[v]<0){for(;S.indexOf(x)>=0;)x+=1;S[v]=x}var k=new Array(n.length);function M(){h.program=a.program(f,h._vref,h._fref,b,S);for(var e=0;e<n.length;++e)k[e]=f.getUniformLocation(h.program,n[e].name)}M(),h._relink=M,h.types={uniforms:o(n),attributes:o(l)},h.attributes=i(f,h,y,S),Object.defineProperty(h,"uniforms",r(f,h,n,k))},e.exports=function(e,t,n,r,i){var o=new l(e);return o.update(t,n,r,i),o}},function(e,t){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s,c,l=Object.prototype,u=l.hasOwnProperty,d=l.toString,h=l.propertyIsEnumerable,f=(s=Object.keys,c=Object,function(e){return s(c(e))}),p=Math.max,_=!h.call({valueOf:1},"valueOf");function m(e,t){var n=S(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&E(e)}(e)&&u.call(e,"callee")&&(!h.call(e,"callee")||d.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!u.call(e,a)||o&&("length"==a||v(a,i))||n.push(a);return n}function g(e,t,n){var r=e[t];u.call(e,t)&&b(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function v(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function y(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||l)}function b(e,t){return e===t||e!=e&&t!=t}var S=Array.isArray;function E(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=A(e)?d.call(e):"";return t==i||t==o}(e)}function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var w=function(e){return t=function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(e,t,n){if(!A(n))return!1;var r=typeof t;return!!("number"==r?E(n)&&v(t,n.length):"string"==r&&t in n)&&b(n[t],e)}(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t},n=p(void 0===n?t.length-1:n,0),function(){for(var e=arguments,r=-1,i=p(e.length-n,0),o=Array(i);++r<i;)o[r]=e[n+r];r=-1;for(var a=Array(n+1);++r<n;)a[r]=e[r];return a[n]=o,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(t,this,a)};var t,n}(function(e,t){if(_||y(t)||E(t))!function(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;g(n,a,void 0===s?e[a]:s)}}(t,function(e){return E(e)?m(e):function(e){if(!y(e))return f(e);var t=[];for(var n in Object(e))u.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}(t),e);else for(var n in t)u.call(t,n)&&g(e,n,t[n])});e.exports=w},function(e,t){},function(e,t,n){var r=n(24),i=n(13);r.Segment=function(){},r.Segment.prototype={eql:function(e){return this.start.eql(e.start)&&this.end.eql(e.end)||this.start.eql(e.end)&&this.end.eql(e.start)},dup:function(){return r.Segment.create(this.start,this.end)},length:function(){var e=this.start.elements,t=this.end.elements,n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},toVector:function(){var e=this.start.elements,t=this.end.elements;return i.create([t[0]-e[0],t[1]-e[1],t[2]-e[2]])},midpoint:function(){var e=this.start.elements,t=this.end.elements;return i.create([(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2])},bisectingPlane:function(){return Plane.create(this.midpoint(),this.toVector())},translate:function(e){var t=e.elements||e,n=this.start.elements,i=this.end.elements;return r.Segment.create([n[0]+t[0],n[1]+t[1],n[2]+(t[2]||0)],[i[0]+t[0],i[1]+t[1],i[2]+(t[2]||0)])},isParallelTo:function(e){return this.line.isParallelTo(e)},distanceFrom:function(e){var t=this.pointClosestTo(e);return null===t?null:t.distanceFrom(e)},contains:function(e){if(e.start&&e.end)return this.contains(e.start)&&this.contains(e.end);var t=(e.elements||e).slice();if(2==t.length&&t.push(0),this.start.eql(t))return!0;var n=this.start.elements,r=i.create([n[0]-t[0],n[1]-t[1],n[2]-(t[2]||0)]),o=this.toVector();return r.isAntiparallelTo(o)&&r.modulus()<=o.modulus()},intersects:function(e){return null!==this.intersectionWith(e)},intersectionWith:function(e){if(!this.line.intersects(e))return null;var t=this.line.intersectionWith(e);return this.contains(t)?t:null},pointClosestTo:function(e){if(e.normal){var t=this.line.intersectionWith(e);return null===t?null:this.pointClosestTo(t)}var n=this.line.pointClosestTo(e);return null===n?null:this.contains(n)?n:(this.line.positionOf(n)<0?this.start:this.end).dup()},setPoints:function(e,t){return e=i.create(e).to3D(),t=i.create(t).to3D(),null===e||null===t?null:(this.line=r.create(e,t.subtract(e)),this.start=e,this.end=t,this)}},r.Segment.create=function(e,t){return(new r.Segment).setPoints(e,t)},e.exports=r.Segment},function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var i="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(n);function a(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===i.Reflect?i.Reflect=n:o=a(i.Reflect,o),function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,l={create:a?function(){return R(Object.create(null))}:s?function(){return R({__proto__:null})}:function(){return R({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,f=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,p=new(d||"function"!=typeof WeakMap?function(){var e=16,t=l.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=o(e,!0);return n[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(l.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:l.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var t=function(e){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e);return a(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function _(e,t,n){var r=p.get(e);if(S(r)){if(!n)return;r=new h,p.set(e,r)}var i=r.get(t);if(S(i)){if(!n)return;i=new h,r.set(t,i)}return i}function m(e,t,n){var r=_(t,n,!1);return!S(r)&&!!r.has(e)}function g(e,t,n){var r=_(t,n,!1);if(!S(r))return r.get(e)}function v(e,t,n,r){var i=_(n,r,!0);i.set(e,t)}function y(e,t){var n=[],r=_(e,t,!1);if(S(r))return n;for(var i=r.keys(),a=function(e){var t=U(e,o);if(!k(t))throw new TypeError;var n=t.call(e);if(!A(n))throw new TypeError;return n}(i),s=0;;){var c=O(a);if(!c)return n.length=s,n;var l=c.value;try{n[s]=l}catch(e){try{C(a)}finally{throw e}}s++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function S(e){return void 0===e}function E(e){return null===e}function A(e){return"object"==typeof e?null!==e:"function"==typeof e}function w(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=U(e,i);if(void 0!==r){var o=r.call(e,n);if(A(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(k(n)){var r=n.call(e);if(!A(r))return r}var i=e.valueOf;if(k(i)){var r=i.call(e);if(!A(r))return r}}else{var i=e.valueOf;if(k(i)){var r=i.call(e);if(!A(r))return r}var o=e.toString;if(k(o)){var r=o.call(e);if(!A(r))return r}}throw new TypeError}(e,"default"===n?"number":n)}function T(e){var t=w(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function x(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"function"==typeof e}function M(e){return"function"==typeof e}function U(e,t){var n=e[t];if(null!=n){if(!k(n))throw new TypeError;return n}}function O(e){var t=e.next();return!t.done&&t}function C(e){var t=e.return;t&&t.call(e)}function N(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i?t:i===e?t:i}function R(e){return e.__=void 0,delete e.__,e}t("decorate",function(e,t,n,r){if(S(n)){if(!x(e))throw new TypeError;if(!M(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=r(t);if(!S(i)&&!E(i)){if(!M(i))throw new TypeError;t=i}}return t}(e,t)}if(!x(e))throw new TypeError;if(!A(t))throw new TypeError;if(!A(r)&&!S(r)&&!E(r))throw new TypeError;return E(r)&&(r=void 0),n=T(n),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=e[i],a=o(t,n,r);if(!S(a)&&!E(a)){if(!A(a))throw new TypeError;r=a}}return r}(e,t,n,r)}),t("metadata",function(e,t){return function(n,r){if(!A(n))throw new TypeError;if(!S(r)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;v(e,t,n,r)}}),t("defineMetadata",function(e,t,n,r){if(!A(n))throw new TypeError;S(r)||(r=T(r));return v(e,t,n,r)}),t("hasMetadata",function(e,t,n){if(!A(t))throw new TypeError;S(n)||(n=T(n));return function e(t,n,r){var i=m(t,n,r);if(i)return!0;var o=N(n);if(!E(o))return e(t,o,r);return!1}(e,t,n)}),t("hasOwnMetadata",function(e,t,n){if(!A(t))throw new TypeError;S(n)||(n=T(n));return m(e,t,n)}),t("getMetadata",function(e,t,n){if(!A(t))throw new TypeError;S(n)||(n=T(n));return function e(t,n,r){var i=m(t,n,r);if(i)return g(t,n,r);var o=N(n);if(!E(o))return e(t,o,r);return}(e,t,n)}),t("getOwnMetadata",function(e,t,n){if(!A(t))throw new TypeError;S(n)||(n=T(n));return g(e,t,n)}),t("getMetadataKeys",function(e,t){if(!A(e))throw new TypeError;S(t)||(t=T(t));return function e(t,n){var r=y(t,n);var i=N(t);if(null===i)return r;var o=e(i,n);if(o.length<=0)return r;if(r.length<=0)return o;var a=new f;var s=[];for(var c=0,l=r;c<l.length;c++){var u=l[c],d=a.has(u);d||(a.add(u),s.push(u))}for(var h=0,p=o;h<p.length;h++){var u=p[h],d=a.has(u);d||(a.add(u),s.push(u))}return s}(e,t)}),t("getOwnMetadataKeys",function(e,t){if(!A(e))throw new TypeError;S(t)||(t=T(t));return y(e,t)}),t("deleteMetadata",function(e,t,n){if(!A(t))throw new TypeError;S(n)||(n=T(n));var r=_(t,n,!1);if(S(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||(p.delete(t),!0)})}(o)}()}(n||(n={}))}).call(this,n(32),n(23))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(53),a=n(5),s=n(7),c=n(3),l=n(33),u=n(54),d=n(61),h=n(63),f=n(11),p=n(15),_=n(66),m=n(67),g=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=s.BindingScopeEnum.Transient;else if(t.defaultScope!==s.BindingScopeEnum.Singleton&&t.defaultScope!==s.BindingScopeEnum.Transient&&t.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=f.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){var r=new e,i=u.getBindingDictionary(r),o=u.getBindingDictionary(t),a=u.getBindingDictionary(n);function s(e,t){e.traverse(function(e,n){n.forEach(function(e){t.add(e.serviceIdentifier,e.clone())})})}return s(o,i),s(a,i),r},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,function(){var t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){var n,r=(n=t.id,function(e){return e.moduleId===n});e._bindingDictionary.removeByCondition(r)})},e.prototype.bind=function(e){var t=this.options.defaultScope||s.BindingScopeEnum.Transient,n=new o.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(a.CANNOT_UNBIND+" "+p.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=u.createMockRequest(this,e,t,n);r=i.some(function(e){return e.constraint(o)})}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(_.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(e,t){return t(e)},n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,s.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,s.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,s.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,s.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var s=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(s=this._middleware(c)))throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(c);return s},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=u.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(11),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(5),o=n(7),a=n(3),s=n(34),c=n(15),l=n(56),u=n(6),d=n(57),h=n(58),f=n(60),p=n(36);function _(e){return e._bindingDictionary}function m(e,t,n,o,a){var s=g(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=g(n.container,a.serviceIdentifier)),l=t?s:s.filter(function(e){var t=new f.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)}),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=c.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=c.listMetadataForTarget(a,n),s+=c.listRegisteredBindingsForServiceIdentifier(o,a,g),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;var a=c.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=c.listRegisteredBindingsForServiceIdentifier(o,a,g),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function g(e,t){var n=[],r=_(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=g(e.parent,t)),n}t.getBindingDictionary=_,t.plan=function(e,t,n,r,_,g,v,y){void 0===y&&(y=!1);var b=new l.Context(t),S=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,c=new u.Metadata(s,n),l=new p.Target(t,r,n,c);if(void 0!==i){var d=new u.Metadata(i,o);l.metadata.push(d)}return l}(n,r,_,"",g,v);try{return function e(t,n,r,a,s,c){var l,u;if(null===s){l=m(t,n,a,null,c),u=new f.Request(r,a,null,l,c);var p=new d.Plan(a,u);a.addPlan(p)}else l=m(t,n,a,s,c),u=s.addChildRequest(c.serviceIdentifier,l,c);l.forEach(function(n){var r=null;if(c.isArray())r=u.addChildRequest(n.serviceIdentifier,n,c);else{if(n.cache)return;r=u}if(n.type===o.BindingTypeEnum.Instance&&null!==n.implementationType){var s=h.getDependencies(t,n.implementationType);if(!a.container.options.skipBaseClassChecks){var l=h.getBaseClassDependencyCount(t,n.implementationType);if(s.length<l){var d=i.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(n.implementationType));throw new Error(d)}}s.forEach(function(n){e(t,!1,n.serviceIdentifier,a,r,n)})}})}(e,y,_,b,null,S),b}catch(e){throw s.isStackOverflowExeption(e)&&b.plan&&c.circularDependencyToException(b.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new p.Target(o.TargetTypeEnum.Variable,"",t,new u.Metadata(n,r)),a=new l.Context(e);return new f.Request(t,a,null,[],i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.parentContext=e,this.rootRequest=t}}();t.Plan=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=n(5),o=n(7),a=n(3),s=n(15);t.getFunctionName=s.getFunctionName;var c=n(36);function l(e,t,n,r){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var l=i.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(l)}var h=a.userGeneratedMetadata,f=Object.keys(h),p=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=a,c=u(s,e,t,n,r);null!==c&&o.push(c)}return o}(r,t,s,h,0===n.length&&f.length>0?f.length:n.length),_=function e(t,n){var r=t.getPropertiesMetadata(n);var i=[];var a=Object.keys(r);for(var s=0,l=a;s<l.length;s++){var u=l[s],h=r[u],f=d(r[u]),p=f.targetName||u,_=f.inject||f.multiInject,m=new c.Target(o.TargetTypeEnum.ClassProperty,p,_);m.metadata=h,i.push(m)}var g=Object.getPrototypeOf(n.prototype).constructor;if(g!==Object){var v=e(t,g);i=i.concat(v)}return i}(e,n);return p.concat(_)}function u(e,t,n,a,s){var l=s[e.toString()]||[],u=d(l),h=!0!==u.unmanaged,f=a[e],p=u.inject||u.multiInject;if((f=p||f)instanceof r.LazyServiceIdentifer&&(f=f.unwrap()),h){var _=f===Object,m=f===Function;if(!t&&(_||m||void 0===f)){var g=i.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var v=new c.Target(o.TargetTypeEnum.ConstructorArgument,u.targetName,f);return v.metadata=l,v}return null}function d(e){var t={};return e.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[a.INJECT_TAG],multiInject:t[a.MULTI_INJECT_TAG],targetName:t[a.NAME_TAG],unmanaged:t[a.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,s.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,s.getFunctionName(r),r,!0),o=i.map(function(e){return e.metadata.filter(function(e){return e.key===a.UNMANAGED_TAG})}),c=[].concat.apply([],o).length,u=i.length-c;return u>0?u:e(t,r)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(7),o=n(34),a=n(15),s=n(62),c=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},l=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,u=t.target&&t.target.isArray(),d=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(u&&d)return o.map(function(t){return l(e)(t)});var h=null;if(!t.target.isOptional()||0!==n.length){var f=n[0],p=f.scope===i.BindingScopeEnum.Singleton,_=f.scope===i.BindingScopeEnum.Request;if(p&&f.activated)return f.cache;if(_&&null!==e&&e.has(f.id))return e.get(f.id);if(f.type===i.BindingTypeEnum.ConstantValue)h=f.cache;else if(f.type===i.BindingTypeEnum.Function)h=f.cache;else if(f.type===i.BindingTypeEnum.Constructor)h=f.implementationType;else if(f.type===i.BindingTypeEnum.DynamicValue&&null!==f.dynamicValue)h=c("toDynamicValue",f.serviceIdentifier,function(){return f.dynamicValue(t.parentContext)});else if(f.type===i.BindingTypeEnum.Factory&&null!==f.factory)h=c("toFactory",f.serviceIdentifier,function(){return f.factory(t.parentContext)});else if(f.type===i.BindingTypeEnum.Provider&&null!==f.provider)h=c("toProvider",f.serviceIdentifier,function(){return f.provider(t.parentContext)});else{if(f.type!==i.BindingTypeEnum.Instance||null===f.implementationType){var m=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+m)}h=s.resolveInstance(f.implementationType,o,l(e))}return"function"==typeof f.onActivation&&(h=f.onActivation(t.parentContext,h)),p&&(f.cache=h,f.activated=!0),_&&null!==e&&!e.has(f.id)&&e.set(f.id,h),h}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(7),o=n(3);t.resolveInstance=function(e,t,n){var a,s,c=null;if(t.length>0){var l=t.filter(function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ConstructorArgument}).map(n);s=l,c=function(e,t,n){var r=t.filter(function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ClassProperty}),o=r.map(n);return r.forEach(function(t,n){var r;r=t.target.name.value();var i=o[n];e[r]=i}),e}(c=new((a=e).bind.apply(a,[void 0].concat(s))),t,n)}else c=new e;return function(e,t){if(Reflect.hasMetadata(o.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(o.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(r.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,c),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(7),o=n(64),a=n(37),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},e}();t.BindingToSyntax=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),i=n(25),o=n(26),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(37),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach(function(n,r){var i=n.filter(function(t){return!e(t)});i.length>0?t._map.set(r,i):t._map.delete(r)})},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(e,n){e.forEach(function(e){return t.add(n,e.clone())})}),t},e.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},e}();t.Lookup=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=function(){return function(e){this.id=r.id(),this.registry=e}}();t.ContainerModule=i;var o=function(){return function(e){this.id=r.id(),this.registry=e}}();t.AsyncContainerModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(3);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(8);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"==typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=n(8);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=n(8);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=n(8);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=n(8);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=n(8);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(3),o=n(6);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){return e.bind(n).toService(t)})}}}},function(e,t,n){"use strict";var r=n(79).EventEmitter,i=n(80),o=n(83),a=n(84),s=n(85),c=n(86),l=n(87),u=n(88),d=Math.min;n(89);var h=n(90),f=n(91),p=function(){var e,t,n=new Array(256);for(e=0;e<256;++e)n[e]="UNK";for(e in a)"<"===(t=a[e]).charAt(0)&&">"===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),t=t.replace(/\s/g,"-"),n[parseInt(e)]=t;return n}(),_=c(Object.keys(s(p)));function m(e){return l.eq(_,e)}function g(e){return m(p[e])}function v(){r.call(this),this._curKeyState=new Array(_.length),this._pressCount=new Array(_.length),this._releaseCount=new Array(_.length),this._tickInterval=null,this._rafHandle=null,this._tickRate=0,this._lastTick=f(),this._frameTime=0,this._paused=!0,this._width=0,this._height=0,this._wantFullscreen=!1,this._wantPointerLock=!1,this._fullscreenActive=!1,this._pointerLockActive=!1,this._render=function(e){var t;e._rafHandle=requestAnimationFrame(e._render),T(e),t=e._paused?e._frameTime:d(1,(f()-e._lastTick)/e._tickRate);++e.frameCount;var n=f();e.emit("render",t);var r=f();e.frameTime=r-n}.bind(void 0,this),this.preventDefaults=!0,this.stopPropagation=!1;for(var e=0;e<_.length;++e)this._curKeyState[e]=!1,this._pressCount[e]=this._releaseCount[e]=0;this.element=null,this.bindings={},this.frameSkip=100,this.tickCount=0,this.frameCount=0,this.startTime=f(),this.tickTime=this._tickRate,this.frameTime=10,this.stickyFullscreen=!1,this.stickyPointerLock=!1,this.scroll=[0,0,0],this.mouseX=0,this.mouseY=0,this.prevMouseX=0,this.prevMouseY=0}i.inherits(v,r);var y=v.prototype;function b(e,t,n){if(n in t){for(var r=t[n],i=0,o=0,a=r.length;o<a;++o)i+=e[m(r[o])];return i}var s=m(n);return s>=0?e[s]:0}function S(e){var t=e.element;e._wantFullscreen&&!e._fullscreenActive&&(t.requestFullscreen||t.requestFullScreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullscreen||t.mozRequestFullScreen||function(){}).call(t);e._wantPointerLock&&!e._pointerLockActive&&(t.requestPointerLock||t.webkitRequestPointerLock||t.mozRequestPointerLock||t.msRequestPointerLock||t.oRequestPointerLock||function(){}).call(t)}y.keyNames=_,y.bind=function(e){var t,n;t=e in this.bindings?this.bindings[e]:[];for(var r=1,i=arguments.length;r<i;++r)if(m(n=arguments[r])>=0)t.push(n);else if(n in this.bindings)for(var o=this.bindings[n],a=0;a<o.length;++a)t.push(o[a]);(t=c(t)).length>0&&(this.bindings[e]=t),this.emit("bind",e,t)},y.unbind=function(e){e in this.bindings&&delete this.bindings[e],this.emit("unbind",e)},y.down=function(e){return function(e,t,n){if(n in t){for(var r=t[n],i=0,o=r.length;i<o;++i)if(e[m(r[i])])return!0;return!1}var a=m(n);return a>=0&&e[a]}(this._curKeyState,this.bindings,e)},y.wasDown=function(e){return this.down(e)||!!this.press(e)},y.up=function(e){return!this.down(e)},y.wasUp=function(e){return this.up(e)||!!this.release(e)},y.press=function(e){return b(this._pressCount,this.bindings,e)},y.release=function(e){return b(this._releaseCount,this.bindings,e)},Object.defineProperty(y,"paused",{get:function(){return this._paused},set:function(e){!!e!==this._paused&&(this._paused?(this._paused=!1,this._lastTick=f()-Math.floor(this._frameTime*this._tickRate),this._tickInterval=setInterval(T,this._tickRate,this),this._rafHandle=requestAnimationFrame(this._render)):(this._paused=!0,this._frameTime=d(1,(f()-this._lastTick)/this._tickRate),clearInterval(this._tickInterval)))}});var E=document.exitFullscreen||document.cancelFullscreen||document.cancelFullScreen||document.webkitCancelFullscreen||document.webkitCancelFullScreen||document.mozCancelFullscreen||document.mozCancelFullScreen||function(){};Object.defineProperty(y,"fullscreen",{get:function(){return this._fullscreenActive},set:function(e){return!!e?(this._wantFullscreen=!0,S(this)):(this._wantFullscreen=!1,E.call(document)),this._fullscreenActive}});var A=document.exitPointerLock||document.webkitExitPointerLock||document.mozExitPointerLock||function(){};function w(e,t,n){e._curKeyState[t]!==n&&(n?e._pressCount[t]++:e._releaseCount[t]++,e._curKeyState[t]=n)}function T(e){for(var t,n,r,i=f()+e.frameSkip,o=e._pressCount,a=e._releaseCount,s=e._tickRate,c=_.length;!e._paused&&f()>=e._lastTick+s;){if(f()>i)return void(e._lastTick=f()+s);for(n=f(),e.emit("tick"),r=f(),e.tickTime=r-n,++e.tickCount,e._lastTick+=s,t=0;t<c;++t)o[t]=a[t]=0;e._pointerLockActive?(e.prevMouseX=e.mouseX=e.width>>1,e.prevMouseY=e.mouseY=e.height>>1):(e.prevMouseX=e.mouseX,e.prevMouseY=e.mouseY),e.scroll[0]=e.scroll[1]=e.scroll[2]=0}}function x(e,t){e.preventDefaults&&t.preventDefault(),e.stopPropagation&&t.stopPropagation()}function k(e,t){if(function(e){return document.activeElement===document.body||document.activeElement===e.element}(e))if(x(e,t),t.metaKey)O(e,t);else{var n=g(t.keyCode||t.char||t.which||t.charCode);n>=0&&w(e,n,!0)}}Object.defineProperty(y,"pointerLock",{get:function(){return this._pointerLockActive},set:function(e){return!!e?(this._wantPointerLock=!0,S(this)):(this._wantPointerLock=!1,A.call(document)),this._pointerLockActive}}),Object.defineProperty(y,"width",{get:function(){return this.element.clientWidth}}),Object.defineProperty(y,"height",{get:function(){return this.element.clientHeight}});var M=u(32).map(function(e){return m("mouse-"+(e+1))});function U(e,t){return x(e,t),function(e,t){for(var n=0;n<32;++n)w(e,M[n],!!(t&1<<n))}(e,0),!1}function O(e,t){var n,r=_.length,i=e._curKeyState,o=e._releaseCount;for(n=0;n<r;++n)i[n]&&++o[n],i[n]=!1;return!1}function C(){var e=document.createElement("div");return e.tabindex=1,e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.style.height="100%",e.style.overflow="hidden",document.body.appendChild(e),document.body.style.overflow="hidden",document.body.style.height="100%",e}e.exports=function(e){var t=!!(e=e||{}).fullscreen,n=t;void 0!==typeof e.pointerLock&&(n=!!e.pointerLock);var r=new v;return r._tickRate=e.tickRate||30,r.frameSkip=e.frameSkip||5*(r._tickRate+5),r.stickyFullscreen=!!e.stickyFullscreen||!!e.sticky,r.stickyPointerLock=!!e.stickyPointerLock||!!e.sticky,e.bindings&&(r.bindings=e.bindings),setTimeout(function(){o(function(){var i=e.element;if("string"==typeof i){var o=document.querySelector(i);o||(o=document.getElementById(i)),o||(o=document.getElementByClass(i)[0]),o||(o=C()),r.element=o}else r.element="object"==typeof i&&i?i:"function"==typeof i?i():C();r.element.style&&(r.element.style["-webkit-touch-callout"]="none",r.element.style["-webkit-user-select"]="none",r.element.style["-khtml-user-select"]="none",r.element.style["-moz-user-select"]="none",r.element.style["-ms-user-select"]="none",r.element.style["user-select"]="none"),r._width=r.element.clientWidth,r._height=r.element.clientHeight;var a=function(e,t){var n=0|e.element.clientWidth,r=0|e.element.clientHeight;n===e._width&&r===e._height||(e._width=n,e._height=r,e.emit("resize",n,r))}.bind(void 0,r);"undefined"!=typeof MutationObserver?new MutationObserver(a).observe(r.element,{attributes:!0,subtree:!0}):r.element.addEventListener("DOMSubtreeModified",a,!1),window.addEventListener("resize",a,!1),window.addEventListener("keydown",k.bind(void 0,r),!1),window.addEventListener("keyup",function(e,t){x(e,t);var n=g(t.keyCode||t.char||t.which||t.charCode);n>=0&&w(e,n,!1)}.bind(void 0,r),!1),r.element.oncontextmenu=function(e,t){return x(e,t),!1}.bind(void 0,r),r.element.addEventListener("mousedown",function(e,t){return x(e,t),w(e,M[t.button],!0),!1}.bind(void 0,r),!1),r.element.addEventListener("mouseup",function(e,t){return x(e,t),w(e,M[t.button],!1),!1}.bind(void 0,r),!1),r.element.addEventListener("mousemove",function(e,t){if(x(e,t),e._pointerLockActive){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;e.mouseX+=n,e.mouseY+=r}else e.mouseX=t.clientX-e.element.offsetLeft,e.mouseY=t.clientY-e.element.offsetTop;return!1}.bind(void 0,r),!1),r.element.addEventListener("mouseenter",function(e,t){return x(e,t),e._pointerLockActive?(e.prevMouseX=e.mouseX=e.width>>1,e.prevMouseY=e.mouseY=e.height>>1):(e.prevMouseX=e.mouseX=t.clientX-e.element.offsetLeft,e.prevMouseY=e.mouseY=t.clientY-e.element.offsetTop),!1}.bind(void 0,r),!1);var s=U.bind(void 0,r);r.element.addEventListener("mouseleave",s,!1),r.element.addEventListener("mouseout",s,!1),window.addEventListener("mouseleave",s,!1),window.addEventListener("mouseout",s,!1);var c=O.bind(void 0,r);r.element.addEventListener("blur",c,!1),r.element.addEventListener("focusout",c,!1),r.element.addEventListener("focus",c,!1),window.addEventListener("blur",c,!1),window.addEventListener("focusout",c,!1),window.addEventListener("focus",c,!1),h(r.element,function(e,t){x(e,t);var n=1;switch(t.deltaMode){case 0:n=1;break;case 1:n=12;break;case 2:n=e.height}return e.scroll[0]+=t.deltaX*n,e.scroll[1]+=t.deltaY*n,e.scroll[2]+=t.deltaZ*n||0,!1}.bind(void 0,r),!1);var l=function(e){e._fullscreenActive=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||!1,!e.stickyFullscreen&&e._fullscreenActive&&(e._wantFullscreen=!1)}.bind(void 0,r);document.addEventListener("fullscreenchange",l,!1),document.addEventListener("mozfullscreenchange",l,!1),document.addEventListener("webkitfullscreenchange",l,!1),r.element.addEventListener("click",S.bind(void 0,r),!1);var u=function(e,t){e._pointerLockActive=e.element===(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||null),!e.stickyPointerLock&&e._pointerLockActive&&(e._wantPointerLock=!1)}.bind(void 0,r);document.addEventListener("pointerlockchange",u,!1),document.addEventListener("mozpointerlockchange",u,!1),document.addEventListener("webkitpointerlockchange",u,!1),document.addEventListener("pointerlocklost",u,!1),document.addEventListener("webkitpointerlocklost",u,!1),document.addEventListener("mozpointerlocklost",u,!1),r.fullscreen=t,r.pointerLock=n,r.bind("mouse-left","mouse-1"),r.bind("mouse-right","mouse-3"),r.bind("mouse-middle","mouse-2"),r._lastTick=f(),r.startTime=f(),r.paused=!1,r.emit("init")})},0),r}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,c=0;c<a;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),c=r[n];n<o;c=r[++n])_(c)||!b(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,i){if(v(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=u(e,i,r)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(A(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var l,b="",w=!1,T=["{","}"];(f(n)&&(w=!0,T=["[","]"]),A(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(b=" "+RegExp.prototype.toString.call(n)),S(n)&&(b=" "+Date.prototype.toUTCString.call(n)),E(n)&&(b=" "+d(n)),0!==a.length||w&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=w?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return h(e,n,r,s,t,w)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,b,T)):T[0]+b+T[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),k(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=_(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return b(e)&&"[object RegExp]"===w(e)}function b(e){return"object"==typeof e&&null!==e}function S(e){return b(e)&&"[object Date]"===w(e)}function E(e){return b(e)&&("[object Error]"===w(e)||e instanceof Error)}function A(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=y,t.isObject=b,t.isDate=S,t.isError=E,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(81);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":"),[e.getDate(),x[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(82),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(23),n(32))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r,i,o,a,s;e.exports=(i=[],o=document,a=o.documentElement.doScroll,(s=(a?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState))||o.addEventListener("DOMContentLoaded",r=function(){for(o.removeEventListener("DOMContentLoaded",r),s=1;r=i.shift();)r()}),function(e){s?setTimeout(e,0):i.push(e)})},function(e,t){var n,r="undefined"!=typeof window?window.navigator.userAgent:"",i=/OS X/.test(r),o=/Opera/.test(r),a=!/like Gecko/.test(r)&&!o,s=e.exports={0:i?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:i?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num--\x3e",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:i&&a?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:o?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(n=58;n<65;++n)s[n]=String.fromCharCode(n);for(n=48;n<58;++n)s[n]=n-48+"";for(n=65;n<91;++n)s[n]=String.fromCharCode(n);for(n=96;n<106;++n)s[n]="<num-"+(n-96)+">";for(n=112;n<136;++n)s[n]="F"+(n-111)},function(e,t,n){"use strict";e.exports=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}},function(e,t,n){"use strict";e.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],a=1;a<r;++a)if(o=i,t(i=e[a],o)){if(a===n){n++;continue}e[n++]=i}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,(r=e[o])!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){var a=["function ",e,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?t.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",t,"){i=m;"),n?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),o?a.push("return -1};"):a.push("return i};"),a.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],!1,i),r("B","x"+e+"y",t,["y"],!0,i),r("P","c(x,y)"+e+"0",t,["y","c"],!1,i),r("Q","c(x,y)"+e+"0",t,["y","c"],!0,i),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}e.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(e,t,n){"use strict";e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},function(e,t){for(var n=0,r=["ms","moz","webkit","o"],i=0;i<r.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[r[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[i]+"CancelAnimationFrame"]||window[r[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),o=window.setTimeout(function(){e(r+i)},i);return n=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})},function(e,t){var n,r,i="";function o(e,t,o,a){e[n](i+t,"wheel"==r?o:function(e){!e&&(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==r?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,o(t)},a||!1)}window.addEventListener?n="addEventListener":(n="attachEvent",i="on"),r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.exports=function(e,t,n){o(e,r,t,n),"DOMMouseScroll"==r&&o(e,"MozMousePixelScroll",t,n)}},function(e,t){"object"==typeof window.performance?window.performance.now?e.exports=function(){return window.performance.now()}:window.performance.webkitNow&&(e.exports=function(){return window.performance.webkitNow()}):Date.now?e.exports=Date.now:e.exports=function(){return(new Date).getTime()}},function(e,t,n){"use strict";var r=new("undefined"==typeof WeakMap?n(93):WeakMap);e.exports=function(e){var t=r.get(e);if(t)return t;for(var n={},i=e.getSupportedExtensions(),o=0;o<i.length;++o){var a=i[o];if(0!==a.indexOf("MOZ_")){var s=e.getExtension(i[o]);if(s)for(;;){n[a]=s;var c=a.replace(/^[A-Z]+_/,"");if(c===a)break;a=c}}}return r.set(e,n),n}},function(e,t){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=m);var t=!1;if("function"==typeof WeakMap){var n=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent))   ;else{var r=new n,i=Object.freeze({});if(r.set(i,1),1===r.get(i))return void(e.exports=WeakMap);t=!0}}Object.prototype.hasOwnProperty;var o=Object.getOwnPropertyNames,a=Object.defineProperty,s=Object.isExtensible,c="weakmap:",l=c+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var u=new ArrayBuffer(25),d=new Uint8Array(u);crypto.getRandomValues(d),l=c+"rand:"+Array.prototype.map.call(d,function(e){return(e%36).toString(36)}).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(e){return o(e).filter(g)}}),"getPropertyNames"in Object){var h=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(e){return h(e).filter(g)}})}!function(){var e=Object.freeze;a(Object,"freeze",{value:function(t){return v(t),e(t)}});var t=Object.seal;a(Object,"seal",{value:function(e){return v(e),t(e)}});var n=Object.preventExtensions;a(Object,"preventExtensions",{value:function(e){return v(e),n(e)}})}();var f=!1,p=0,_=function(){this instanceof _||b();var e=[],t=[],n=p++;return Object.create(_.prototype,{get___:{value:y(function(r,i){var o,a=v(r);return a?n in a?a[n]:i:(o=e.indexOf(r))>=0?t[o]:i})},has___:{value:y(function(t){var r=v(t);return r?n in r:e.indexOf(t)>=0})},set___:{value:y(function(r,i){var o,a=v(r);return a?a[n]=i:(o=e.indexOf(r))>=0?t[o]=i:(o=e.length,t[o]=i,e[o]=r),this})},delete___:{value:y(function(r){var i,o,a=v(r);return a?n in a&&delete a[n]:!((i=e.indexOf(r))<0||(o=e.length-1,e[i]=void 0,t[i]=t[o],e[i]=e[o],e.length=o,t.length=o,0))})}})};_.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof n?function(){function r(){this instanceof _||b();var e,r=new n,i=void 0,o=!1;return e=t?function(e,t){return r.set(e,t),r.has(e)||(i||(i=new _),i.set(e,t)),this}:function(e,t){if(o)try{r.set(e,t)}catch(n){i||(i=new _),i.set___(e,t)}else r.set(e,t);return this},Object.create(_.prototype,{get___:{value:y(function(e,t){return i?r.has(e)?r.get(e):i.get___(e,t):r.get(e,t)})},has___:{value:y(function(e){return r.has(e)||!!i&&i.has___(e)})},set___:{value:y(e)},delete___:{value:y(function(e){var t=!!r.delete(e);return i&&i.delete___(e)||t})},permitHostObjects___:{value:y(function(e){if(e!==m)throw new Error("bogus call to permitHostObjects___");o=!0})}})}t&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=_.prototype,e.exports=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.exports=_)}function m(e){e.permitHostObjects___&&e.permitHostObjects___(m)}function g(e){return!(e.substr(0,c.length)==c&&"___"===e.substr(e.length-3))}function v(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[l];if(t&&t.key===e)return t;if(s(e)){t={key:e};try{return a(e,l,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(e){return}}}function y(e){return e.prototype=null,Object.freeze(e)}function b(){f||"undefined"==typeof console||(f=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},function(e,t,n){"use strict";var r=n(39),i=n(19);function o(e){return new Function("y","return function(){return y}")(e)}function a(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}e.exports=function(e,t,n,s){function c(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var o=n.charCodeAt(n.length-1)-48;if(o<2||o>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+o+"fv(locations["+t+"],false,obj"+e+")"}throw new i("","Unknown uniform data type for "+name+": "+n)}var o=n.charCodeAt(n.length-1)-48;if(o<2||o>4)throw new i("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+o+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+o+"fv(locations["+t+"],obj"+e+")";default:throw new i("","Unrecognized data type for vector "+name+": "+n)}}}function l(t){for(var r=["return function updateProperty(obj){"],i=function e(t,n){if("object"!=typeof n)return[[t,n]];var r=[];for(var i in n){var o=n[i],a=t;parseInt(i)+""===i?a+="["+i+"]":a+="."+i,"object"==typeof o?r.push.apply(r,e(a,o)):r.push([a,o])}return r}("",t),o=0;o<i.length;++o){var a=i[o],l=a[0],u=a[1];s[u]&&r.push(c(l,u,n[u].type))}r.push("return obj}");var d=new Function("gl","locations",r.join("\n"));return d(e,s)}function u(r,c,u){if("object"==typeof u){var h=d(u);Object.defineProperty(r,c,{get:o(h),set:l(u),enumerable:!0,configurable:!1})}else s[u]?Object.defineProperty(r,c,{get:(f=u,p=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+f+"])}"),p(e,t,s)),set:l(u),enumerable:!0,configurable:!1}):r[c]=function(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new i("","Invalid data type");return"b"===e.charAt(0)?a(n,!1):a(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+e);return a(n*n,0)}throw new i("","Unknown uniform data type for "+name+": "+e)}}(n[u].type);var f,p}function d(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)u(t,n,e[n])}else for(var r in t={},e)u(t,r,e[r]);return t}var h=r(n,!0);return{get:o(d(h)),set:l(h),enumerable:!0,configurable:!0}}},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var o={},c=0,l=n.length;c<l;++c){var u=n[c],d=u.name,h=u.type,f=u.locations;switch(h){case"bool":case"int":case"float":a(e,t,f[0],i,1,o,d);break;default:if(h.indexOf("vec")>=0){var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new r("","Invalid data type for attribute "+d+": "+h);a(e,t,f[0],i,p,o,d)}else{if(!(h.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+d+": "+h);var p=h.charCodeAt(h.length-1)-48;if(p<2||p>4)throw new r("","Invalid data type for attribute "+d+": "+h);s(e,t,f,i,p,o,d)}}}return o};var r=n(19);function i(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}var o=i.prototype;function a(e,t,n,r,o,a,s){for(var c=["gl","v"],l=[],u=0;u<o;++u)c.push("x"+u),l.push("x"+u);c.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+l.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var d=Function.apply(null,c),h=new i(e,t,n,r,o,d);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(r[n]),d(e,r[n],t),t},get:function(){return h},enumerable:!0})}function s(e,t,n,r,i,o,s){for(var c=new Array(i),l=new Array(i),u=0;u<i;++u)a(e,t,n[u],r,i,c,u),l[u]=c[u];Object.defineProperty(c,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<i;++t)l[t].location=e[t];else for(t=0;t<i;++t)l[t].location=e+t;return e},get:function(){for(var e=new Array(i),t=0;t<i;++t)e[t]=r[n[t]];return e},enumerable:!0}),c.pointer=function(t,o,a,s){t=t||e.FLOAT,o=!!o,a=a||i*i,s=s||0;for(var c=0;c<i;++c){var l=r[n[c]];e.vertexAttribPointer(l,i,t,o,a,s+c*i),e.enableVertexAttribArray(l)}};var d=new Array(i),h=e["vertexAttrib"+i+"fv"];Object.defineProperty(o,s,{set:function(t){for(var o=0;o<i;++o){var a=r[n[o]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))h.call(e,a,t[o]);else{for(var s=0;s<i;++s)d[s]=t[i*o+s];h.call(e,a,d)}}return t},get:function(){return c},enumerable:!0})}o.pointer=function(e,t,n,r){var i=this._gl,o=this._locations[this._index];i.vertexAttribPointer(o,this._dimension,e||i.FLOAT,!!t,n||0,r||0),i.enableVertexAttribArray(o)},o.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},function(e,t,n){"use strict";t.shader=function(e,t,n){return u(e).getShaderReference(t,n)},t.program=function(e,t,n,r,i){return u(e).getProgram(t,n,r,i)};var r=n(19),i=n(97),o=new("undefined"==typeof WeakMap?n(111):WeakMap),a=0;function s(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function c(e){this.gl=e,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var l=c.prototype;function u(e){var t=o.get(e);return t||(t=new c(e),o.set(e,t)),t}l.getShaderReference=function(e,t){var n=this.gl,o=this.shaders[e===n.FRAGMENT_SHADER|0],c=o[t];if(c&&n.isShader(c.shader))c.count+=1;else{var l=function(e,t,n){var o=e.createShader(t);if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(o);try{var s=i(a,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new r(a,"Error compiling shader:\n"+a)}throw new r(a,s.short,s.long)}return o}(n,e,t);c=o[t]=new s(a++,t,e,l,[],1,this)}return c},l.getProgram=function(e,t,n,i){var o=[e.id,t.id,n.join(":"),i.join(":")].join("@"),a=this.programs[o];return a&&this.gl.isProgram(a)||(this.programs[o]=a=function(e,t,n,i,o){var a=e.createProgram();e.attachShader(a,t),e.attachShader(a,n);for(var s=0;s<i.length;++s)e.bindAttribLocation(a,o[s],i[s]);if(e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){var c=e.getProgramInfoLog(a);throw new r(c,"Error linking program: "+c)}return a}(this.gl,e.shader,t.shader,n,i),e.programs.push(o),t.programs.push(o)),a}},function(e,t,n){var r=n(98).sprintf,i=n(99),o=n(101),a=n(108);e.exports=function(e,t,n){"use strict";var s=o(t)||"of unknown name (see npm glsl-shader-name)",c="unknown type";void 0!==n&&(c=n===i.FRAGMENT_SHADER?"fragment":"vertex");for(var l=r("Error compiling %s shader %s:\n",c,s),u=r("%s%s",l,e),d=e.split("\n"),h={},f=0;f<d.length;f++){var p=d[f];if(""!==p&&"\0"!==p){var _=parseInt(p.split(":")[2]);if(isNaN(_))throw new Error(r("Could not parse error: %s",p));h[_]=p}}for(var m=a(t).split("\n"),f=0;f<m.length;f++)if(h[f+3]||h[f+2]||h[f+1]){var g=m[f];if(l+=g+"\n",h[f+1]){var v=h[f+1];v=v.substr(v.split(":",3).join(":").length+1).trim(),l+=r("^^^ %s\n\n",v)}}return{long:l.trim(),short:u.trim()}}},function(e,t,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return function(e,t){var n,r,a,s,c,l,u,d,h,f=1,p=e.length,_="";for(r=0;r<p;r++)if("string"==typeof e[r])_+=e[r];else if("object"==typeof e[r]){if((s=e[r]).keys)for(n=t[f],a=0;a<s.keys.length;a++){if(null==n)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?t[s.param_no]:t[f++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(o("[sprintf] expecting number but found %T",n));switch(i.number.test(s.type)&&(d=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?_+=n:(!i.number.test(s.type)||d&&!s.sign?h="":(h=d?"+":"-",n=n.toString().replace(i.sign,"")),l=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",u=s.width-(h+n).length,c=s.width&&u>0?l.repeat(u):"",_+=s.align?h+n+c:"0"===l?h+c+n:c+h+n)}return _}(function(e){if(s[e])return s[e];var t,n=e,r=[],o=0;for(;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var a=[],c=t[2],l=[];if(null===(l=i.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(l[1]);""!==(c=c.substring(l[0].length));)if(null!==(l=i.key_access.exec(c)))a.push(l[1]);else{if(null===(l=i.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(l[1])}t[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return s[e]=r}(e),arguments)}function a(e,t){return o.apply(null,[e].concat(t||[]))}var s=Object.create(null);t.sprintf=o,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(r=function(){return{sprintf:o,vsprintf:a}}.call(t,n,t,e))||(e.exports=r))}()},function(e,t,n){var r=n(100);e.exports=function(e){return r[e]}},function(e,t){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(e,t,n){var r=n(102),i=n(107);e.exports=function(e){for(var t=Array.isArray(e)?e:r(e),n=0;n<t.length;n++){var o=t[n];if("preprocessor"===o.type){var a=o.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],c=a[2];return(s?i(c):c).trim()}}}}},function(e,t,n){var r=n(103);e.exports=function(e,t){var n=r(t),i=[];return i=(i=i.concat(n(e))).concat(n(null))}},function(e,t,n){e.exports=function(e){var t,n,A,w=0,T=0,x=c,k=[],M=[],U=1,O=0,C=0,N=!1,R=!1,I="",P=o,F=r;"300 es"===(e=e||{}).version&&(P=s,F=a);for(var L={},D={},w=0;w<P.length;w++)L[P[w]]=!0;for(var w=0;w<F.length;w++)D[F[w]]=!0;return function(e){return M=[],null!==e?function(e){w=0,e.toString&&(e=e.toString());var n;I+=e.replace(/\r\n/g,"\n"),A=I.length;for(;t=I[w],w<A;){switch(n=w,x){case u:w=G();break;case d:case h:w=H();break;case f:w=W();break;case p:w=Y();break;case S:w=z();break;case _:w=q();break;case l:w=Z();break;case y:w=V();break;case c:w=j()}if(n!==w)switch(I[n]){case"\n":O=0,++U;break;default:++O}}return T+=w,I=I.slice(w),M}(e):function(e){k.length&&B(k.join(""));return x=b,B("(eof)"),M}()};function B(e){e.length&&M.push({type:E[x],data:e,position:C,line:U,column:O})}function j(){return k=k.length?[]:k,"/"===n&&"*"===t?(C=T+w-1,x=u,n=t,w+1):"/"===n&&"/"===t?(C=T+w-1,x=d,n=t,w+1):"#"===t?(x=h,C=T+w,w):/\s/.test(t)?(x=y,C=T+w,w):(N=/\d/.test(t),R=/[^\w_]/.test(t),C=T+w,x=N?p:R?f:l,w)}function V(){return/[^\s]/g.test(t)?(B(k.join("")),x=c,w):(k.push(t),n=t,w+1)}function H(){return"\r"!==t&&"\n"!==t||"\\"===n?(k.push(t),n=t,w+1):(B(k.join("")),x=c,w)}function G(){return"/"===t&&"*"===n?(k.push(t),B(k.join("")),x=c,w+1):(k.push(t),n=t,w+1)}function W(){if("."===n&&/\d/.test(t))return x=_,w;if("/"===n&&"*"===t)return x=u,w;if("/"===n&&"/"===t)return x=d,w;if("."===t&&k.length){for(;X(k););return x=_,w}if(";"===t||")"===t||"("===t){if(k.length)for(;X(k););return B(t),x=c,w+1}var e=2===k.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;X(k););return x=c,w}return k.push(t),n=t,w+1}function X(e){for(var t,n,r=0;;){if(t=i.indexOf(e.slice(0,e.length+r).join("")),n=i[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return B(n),C+=n.length,(k=k.slice(n.length)).length}}function z(){return/[^a-fA-F0-9]/.test(t)?(B(k.join("")),x=c,w):(k.push(t),n=t,w+1)}function Y(){return"."===t?(k.push(t),x=_,n=t,w+1):/[eE]/.test(t)?(k.push(t),x=_,n=t,w+1):"x"===t&&1===k.length&&"0"===k[0]?(x=S,k.push(t),n=t,w+1):/[^\d]/.test(t)?(B(k.join("")),x=c,w):(k.push(t),n=t,w+1)}function q(){return"f"===t&&(k.push(t),n=t,w+=1),/[eE]/.test(t)?(k.push(t),n=t,w+1):("-"!==t&&"+"!==t||!/[eE]/.test(n))&&/[^\d]/.test(t)?(B(k.join("")),x=c,w):(k.push(t),n=t,w+1)}function Z(){if(/[^\d\w_]/.test(t)){var e=k.join("");return x=D[e]?v:L[e]?g:m,B(k.join("")),x=c,w}return k.push(t),n=t,w+1}};var r=n(40),i=n(104),o=n(41),a=n(105),s=n(106),c=999,l=9999,u=0,d=1,h=2,f=3,p=4,_=5,m=6,g=7,v=8,y=9,b=10,S=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(e,t){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(e,t,n){var r=n(40);e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(e,t,n){var r=n(41);r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(e,t){e.exports=function(e){return atob(e)}},function(e,t,n){var r=n(109);e.exports=function(e,t,n){t="number"==typeof t?t:1,n=n||": ";var i=e.split(/\r?\n/),o=String(i.length+t-1).length;return i.map(function(e,i){var a=i+t,s=String(a).length,c=r(a,o-s);return c+n+e}).join("\n")}},function(e,t,n){"use strict";
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */var r=n(110);e.exports=function(e,t,n){return r(n=void 0!==n?n+"":" ",t)+e}},function(e,t,n){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r,i="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||void 0===r)r=e,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,n)}},function(e,t,n){var r=n(112);e.exports=function(){var e=r();return{get:function(t,n){var r=e(t);return r.hasOwnProperty("value")?r.value:n},set:function(t,n){return e(t).value=n,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}},function(e,t,n){var r=n(113);e.exports=function(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var n=t.valueOf(e);return n&&n.identity===e?n:r(t,e)}}},function(e,t){e.exports=function(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:!0}),n}},function(e,t,n){"use strict";t.uniforms=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],i=0;i<n;++i){var a=e.getActiveUniform(t,i);if(a){var s=o(e,a.type);if(a.size>1)for(var c=0;c<a.size;++c)r.push({name:a.name.replace("[0]","["+c+"]"),type:s});else r.push({name:a.name,type:s})}}return r},t.attributes=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],i=0;i<n;++i){var a=e.getActiveAttrib(t,i);a&&r.push({name:a.name,type:o(e,a.type)})}return r};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function o(e,t){if(!i){var n=Object.keys(r);i={};for(var o=0;o<n.length;++o){var a=n[o];i[e[a]]=r[a]}}return i[t]}},function(e){e.exports={type:"FeatureCollection",features:[{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3514",diss_me:3514,adm1_cod_1:"USA-3514",iso_3166_2:"US-MN",wikipedia:"http://en.wikipedia.org/wiki/Minnesota",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Minnesota",name_alt:"MN|Minn.",name_local:null,type:"State",type_en:"State",code_local:"US32",code_hasc:"US.MN",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"West North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:10,scaleran_1:2,datarank:1,abbrev:"Minn.",postal:"MN",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:9,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-89.59940914585667,48.01027395282483],[-89.48888455722101,48.01343887860651],[-89.52269548211933,47.96053538674391],[-89.61369767938538,47.81925202085796],[-89.72800594761503,47.641976019880644],[-89.84283098016755,47.464725857119504],[-89.95765601272012,47.28690725360326],[-90.13175391311142,47.29274669045219],[-90.30585181350267,47.29801768654602],[-90.47994971389409,47.30385712339489],[-90.65404761428533,47.30912811948872],[-90.85778194859608,47.21282908791278],[-91.06097368036774,47.11704682065988],[-91.26470801467849,47.02126455340681],[-91.46844234898913,46.92496552183104],[-91.59225908076053,46.876260484395914],[-91.71661841507085,46.827607123393136],[-91.8409777493813,46.778385321635085],[-91.96479448115258,46.72970612241613],[-92.01189754918664,46.71172272397854],[-92.27487891311995,46.65614472104869],[-92.26482784703921,46.095222886736394],[-92.29658301468254,46.09628225359836],[-92.5436997139023,45.98569468849382],[-92.7569683499708,45.88991242124092],[-92.89982784704182,45.705763454768714],[-92.68922054723623,45.518436387710665],[-92.76541744665064,45.26708222104298],[-92.76647681351261,44.9961426865367],[-92.79665584997099,44.776026923189534],[-92.50507158076414,44.58391978614452],[-92.38549231644072,44.574928086925695],[-92.06215287959043,44.432585354177775],[-91.949989183301,44.36483755144309],[-91.87960588251946,44.25742808692439],[-91.62770911331273,44.08544892025708],[-91.28959021682704,43.93729258887629],[-91.25729244664456,43.85473948829008],[-91.2546569485977,43.61397899024206],[-91.2281986152642,43.50124685319736],[-92.54000484899342,43.51977285417405],[-94.00102678096545,43.51341665300225],[-95.35993608272867,43.50018748633539],[-96.45266008175645,43.50178945573646],[-96.43943091508982,44.43576345476367],[-96.56061214881424,45.39301768653837],[-96.73576941606751,45.47081655535385],[-96.83470394569031,45.62532908790644],[-96.78072791216141,45.760798855159635],[-96.55689144568913,45.872445787126196],[-96.53945064979075,46.017966620460186],[-96.53890804725165,46.199480088885366],[-96.60135901567634,46.35135712339115],[-96.6854882474475,46.51328522397773],[-96.73365068234358,46.71647695574927],[-96.7458204821483,46.9445250514533],[-96.77969438351562,46.99904368752135],[-96.82041541216165,47.29220408791309],[-96.82465287960952,47.42661448830438],[-96.84423824744817,47.546193752627744],[-96.8939768135291,47.748868720076416],[-97.01515804725352,47.95420502378812],[-97.131042446668,48.137294623398304],[-97.14850908078273,48.31878225360731],[-97.1612214831265,48.51458425556132],[-97.12734758175912,48.64212169045754],[-97.12047461626435,48.75852285419501],[-97.21413814979343,48.90244171812793],[-97.22894344764501,49.000885321643864],[-95.15883724646483,48.9998259547819],[-95.15620174841791,49.38401439065592],[-94.81754024939323,49.38928538674975],[-94.64026424841592,48.84001658791925],[-94.32912044958647,48.670672919298795],[-93.63061011429733,48.60928131773602],[-92.60984554723586,48.45001455341253],[-91.63987891311746,48.13993012144516],[-90.83026424840062,48.27010305438836],[-89.59995174839577,48.01027395282483],[-89.59940914585667,48.01027395282483]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3515",diss_me:3515,adm1_cod_1:"USA-3515",iso_3166_2:"US-MT",wikipedia:"http://en.wikipedia.org/wiki/Montana",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Montana",name_alt:"MT|Mont.",name_local:null,type:"State",type_en:"State",code_local:"US30",code_hasc:"US.MT",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Mont.",postal:"MT",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-111.19418921593007,44.56115631771988],[-111.29154761436796,44.701406154960026],[-111.4000164457486,44.72892385515544],[-111.54238501671271,44.53048635515465],[-111.77149247927873,44.49821442318837],[-112.33613501671589,44.56063955339695],[-112.36259335004932,44.46222178809708],[-112.69014441613137,44.4987311875113],[-112.87481014692638,44.3600833196722],[-113.05208614790365,44.61991242123574],[-113.174843512813,44.76543325456966],[-113.37857784712371,44.78977285417912],[-113.43942684614738,44.86279165300755],[-113.5029371814341,45.124222723972125],[-113.68021318241136,45.2490729843893],[-113.79449561242484,45.56499685320567],[-113.91410071496439,45.70258535418277],[-114.03579871301176,45.730103054378205],[-114.13793718143664,45.58933645281513],[-114.33531531457545,45.470273952814665],[-114.5136506824147,45.56923432065359],[-114.52370174849547,45.825368557308266],[-114.40727474654187,45.88991242124082],[-114.4914298165292,46.14708018654133],[-114.39404557987515,46.41008738869081],[-114.28451738163254,46.6318051214391],[-114.58561011438114,46.64133942319695],[-114.8433204822207,46.7863176539918],[-115.12164974654473,47.09536855731335],[-115.28833207890217,47.250397854188975],[-115.51906734908539,47.345120754579966],[-115.70479244674239,47.504930121442584],[-115.70427568241946,47.68484162046674],[-115.96779964889187,47.95048432066312],[-116.04823401575418,49.00036855732097],[-113.05950171593753,49.0014020859668],[-110.0707694161209,49.00300405536785],[-107.08203711630425,49.00458018655276],[-104.09276221394853,49.00563955341474],[-104.07741431355785,47.17156545672772],[-104.02661638061494,45.956600857113486],[-104.07795691609692,45.04061025652388],[-105.74589128296557,45.051178086927564],[-107.54663408082433,45.04588125261765],[-109.10237891318732,45.05701752377655],[-111.07140601280457,45.04960195574266],[-111.0671943835728,44.54159678809741],[-111.08517778201036,44.506146755545174],[-111.19418921593007,44.56115631771988]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3516",diss_me:3516,adm1_cod_1:"USA-3516",iso_3166_2:"US-ND",wikipedia:"http://en.wikipedia.org/wiki/North_Dakota",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"North Dakota",name_alt:"ND|N.D.",name_local:null,type:"State",type_en:"State",code_local:"US38",code_hasc:"US.ND",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"West North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"N.D.",postal:"ND",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:12,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-96.60135901567638,46.3513571233911],[-96.53890804725165,46.19948008888528],[-96.53945064979072,46.017966620460086],[-98.44178931353531,45.96344798439215],[-100.06685807981785,45.96556671811612],[-102.11686214883646,45.96135508888433],[-104.02661638061494,45.956600857113486],[-104.07741431355785,47.17156545672772],[-104.09276221394853,49.00563955341474],[-100.62989864785396,49.00300405536785],[-97.22894344764504,49.00088532164389],[-97.21413814979341,48.902441718127875],[-97.1204746162644,48.75852285419501],[-97.12734758175921,48.64212169045756],[-97.16122148312654,48.51458425556122],[-97.14850908078273,48.31878225360731],[-97.13104244666809,48.13729462339825],[-97.01515804725355,47.954205023788134],[-96.89397681352912,47.74886872007637],[-96.84423824744819,47.54619375262766],[-96.82465287960957,47.42661448830425],[-96.82041541216162,47.29220408791309],[-96.77969438351563,46.999043687521294],[-96.7458204821483,46.94452505145337],[-96.73365068234358,46.71647695574933],[-96.68548824744755,46.51328522397769],[-96.60135901567638,46.3513571233911]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3517",diss_me:3517,adm1_cod_1:"USA-3517",iso_3166_2:"US-HI",wikipedia:"http://en.wikipedia.org/wiki/Hawaii",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:8,admin0_lab:2,name:"Hawaii",name_alt:"HI|Hawaii",name_local:null,type:"State",type_en:"State",code_local:"US15",code_hasc:"US.HI",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Pacific",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Hawaii",postal:"HI",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:6,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"MultiPolygon",coordinates:[[[[-155.93665,19.05939],[-155.90806,19.33888],[-156.07347,19.7029399999999],[-156.02368,19.81422],[-155.85008,19.97729],[-155.91907,20.17395],[-155.86108,20.26721],[-155.78505,20.2487],[-155.40214,20.07975],[-155.22452,19.993020000000172],[-155.06226,19.8591],[-154.80741,19.50871000000012],[-154.83147,19.45328],[-155.22217,19.239720000000148],[-155.54211,19.08348],[-155.68817,18.916190000000142],[-155.93665,19.05939]]],[[[-155.99566,20.76404],[-156.07926,20.64397],[-156.41445,20.57241],[-156.58673,20.783],[-156.70167,20.864300000000128],[-156.71055,20.92676],[-156.61258,21.012490000000128],[-156.25711,20.91745],[-155.99566,20.76404]]],[[[-156.75824,21.17684000000014],[-156.78933,21.06873],[-157.32521,21.09777],[-157.25027,21.219579999999894],[-156.75824,21.17684000000014]]],[[[-158.12667,21.31244],[-158.2538,21.53919],[-158.29265,21.579120000000103],[-158.0252,21.71696],[-157.94161,21.6527200000001],[-157.65283,21.32217],[-157.70703,21.26442],[-157.7786,21.27729],[-158.12667,21.31244]]],[[[-159.80051,22.06533000000013],[-159.74877,22.1382],[-159.5962,22.236180000000104],[-159.36569,22.21494],[-159.34512,21.98200000000014],[-159.46372,21.88299],[-159.80051,22.06533000000013]]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3518",diss_me:3518,adm1_cod_1:"USA-3518",iso_3166_2:"US-ID",wikipedia:"http://en.wikipedia.org/wiki/Idaho",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Idaho",name_alt:"ID|Idaho",name_local:null,type:"State",type_en:"State",code_local:"US16",code_hasc:"US.ID",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Idaho",postal:"ID",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:5,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-111.04972774945814,44.48816335710761],[-111.05024451378105,42.00159678808724],[-114.03422258182684,41.99312185319137],[-117.0282517159534,42.000020656902336],[-117.0139631824247,43.79706858985223],[-116.92665585006759,44.0812114528091],[-117.0076069812528,44.21141022396847],[-117.19439144577179,44.27913218848698],[-117.19229855026396,44.4389415553496],[-117.0515319487009,44.66595612240779],[-116.83614457890837,44.86385101986953],[-116.69328508183749,45.186647854180706],[-116.55887468144633,45.444358222020284],[-116.45779557988342,45.57453115496351],[-116.51125484908937,45.726408189469325],[-116.67899654830879,45.807359320654555],[-116.91500281458576,45.99998322202251],[-116.9065278796899,46.177775987322704],[-116.99807267949495,46.33016978615143],[-117.02664974655237,47.72292715106586],[-117.03142981653936,48.99930919045899],[-116.04823401575418,49.00036855732097],[-115.96779964889187,47.95048432066312],[-115.70427568241946,47.68484162046674],[-115.70479244674239,47.504930121442584],[-115.51906734908539,47.345120754579966],[-115.28833207890217,47.250397854188975],[-115.12164974654473,47.09536855731335],[-114.8433204822207,46.7863176539918],[-114.58561011438114,46.64133942319695],[-114.28451738163254,46.6318051214391],[-114.39404557987515,46.41008738869081],[-114.4914298165292,46.14708018654133],[-114.40727474654187,45.88991242124082],[-114.52370174849547,45.825368557308266],[-114.5136506824147,45.56923432065359],[-114.33531531457545,45.470273952814665],[-114.13793718143664,45.58933645281513],[-114.03579871301176,45.730103054378205],[-113.91410071496439,45.70258535418277],[-113.79449561242484,45.56499685320567],[-113.68021318241136,45.2490729843893],[-113.5029371814341,45.124222723972125],[-113.43942684614738,44.86279165300755],[-113.37857784712371,44.78977285417912],[-113.174843512813,44.76543325456966],[-113.05208614790365,44.61991242123574],[-112.87481014692638,44.3600833196722],[-112.69014441613137,44.4987311875113],[-112.36259335004932,44.46222178809708],[-112.33613501671589,44.56063955339695],[-111.77149247927873,44.49821442318837],[-111.54238501671271,44.53048635515465],[-111.4000164457486,44.72892385515544],[-111.29154761436796,44.701406154960026],[-111.19418921593007,44.56115631771988],[-111.08517778201036,44.506146755545174],[-111.04972774945814,44.48816335710761]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3519",diss_me:3519,adm1_cod_1:"USA-3519",iso_3166_2:"US-WA",wikipedia:"http://en.wikipedia.org/wiki/Washington_(state)",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Washington",name_alt:"WA|Wash.",name_local:null,type:"State",type_en:"State",code_local:"US53",code_hasc:"US.WA",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Pacific",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Wash.",postal:"WA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:10,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-116.9980726794949,46.33016978615149],[-116.90652787968992,46.17777598732283],[-116.9150028145857,45.99998322202259],[-118.97823605027111,45.99256765398866],[-119.33699968145743,45.88833629005586],[-119.59204952047821,45.932235419287906],[-119.78730891989301,45.85076752377984],[-120.15826818910023,45.740670884781935],[-120.6096359869536,45.753900051448625],[-120.83719315655094,45.67294892026342],[-121.0467410894945,45.637498887711104],[-121.203889120094,45.689898790055224],[-121.56107662009549,45.73276439064131],[-121.78809118715355,45.70098338478181],[-122.17491512107449,45.595150051447945],[-122.42045568910925,45.59199778907822],[-122.65170772361546,45.63008331967734],[-122.72578588930577,45.77033315691756],[-122.75224422263926,45.93807485613678],[-122.9379693202963,46.12909678810388],[-123.22849422264113,46.18625092221856],[-123.47137345441303,46.27725311948467],[-123.77670365460955,46.28203318947163],[-123.99867632678428,46.2830694871044],[-124.079635,46.86475],[-124.39567,47.72017000000011],[-124.68721008300781,48.18443298339838],[-124.56610107421875,48.379714965820426],[-123.12,48.04],[-122.58713802146673,47.09588532163639],[-122.34002132224703,47.35995189064778],[-122.49983068910967,48.18016022398439],[-122.84,49.000000000000114],[-120.00269628968556,49.000885321643864],[-117.03142981653929,48.99930919045897],[-117.02664974655227,47.72292715106596],[-116.9980726794949,46.33016978615149]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3520",diss_me:3520,adm1_cod_1:"USA-3520",iso_3166_2:"US-AZ",wikipedia:"http://en.wikipedia.org/wiki/Arizona",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Arizona",name_alt:"AZ|Ariz.",name_local:null,type:"State",type_en:"State",code_local:"US04",code_hasc:"US.AZ",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ariz.",postal:"AZ",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-109.04522477907244,36.999912421205295],[-109.04367281021746,31.34189913731541],[-111.02378618044753,31.33465098726333],[-113.30501644575611,32.03897492118551],[-114.81474341516332,32.52527598726806],[-114.72139,32.72083],[-114.58984758182902,32.7162979192351],[-114.47977678104735,32.91633738863692],[-114.6559934151627,33.05390005139793],[-114.6914434477149,33.20368419039579],[-114.74330074751975,33.379874986294965],[-114.54855811242783,33.6095250514],[-114.46918311242757,34.067274888641464],[-114.16597164595498,34.27258535413716],[-114.35490068241404,34.464666652966],[-114.48453101281825,34.653053086886075],[-114.5670841134044,34.82821035413929],[-114.62211951379533,34.963680121392485],[-114.64222164595685,35.05310618747359],[-114.58085588261031,35.24942495375046],[-114.63005184615207,35.4452269557043],[-114.65069658085275,35.63891022393415],[-114.65017981652977,35.85427175551058],[-114.73960588261087,35.99131765394867],[-114.67134131555338,36.11461762139703],[-114.46073401574779,36.11461762139703],[-114.26916948124182,36.043691718076445],[-114.13264034712671,36.00400421807626],[-114.06649451379315,36.15642385512115],[-114.023628913207,36.18975515394948],[-114.03052771691796,36.994098822572425],[-112.41760291222397,37.00942088474699],[-110.4962214831798,37.00732798923906],[-109.04522477907244,36.999912421205295]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3521",diss_me:3521,adm1_cod_1:"USA-3521",iso_3166_2:"US-CA",wikipedia:"http://en.wikipedia.org/wiki/California",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:8,admin0_lab:2,name:"California",name_alt:"CA|Calif.",name_local:null,type:"State",type_en:"State",code_local:"US06",code_hasc:"US.CA",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Pacific",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Calif.",postal:"CA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:10,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-114.35490068241404,34.464666652966],[-114.16597164595498,34.27258535413716],[-114.46918311242757,34.067274888641464],[-114.54855811242783,33.6095250514],[-114.74330074751975,33.379874986294965],[-114.6914434477149,33.20368419039579],[-114.6559934151627,33.05390005139793],[-114.47977678104735,32.91633738863692],[-114.58984758182902,32.7162979192351],[-114.72139,32.72083],[-115.99107988163934,32.61258331962517],[-117.12772884811523,32.535327053348965],[-117.29593769127388,33.046224615203755],[-117.944,33.621236431201226],[-118.41060227589759,33.740909223124504],[-118.51989482279981,34.02778157757575],[-119.081,34.078],[-119.43884064201677,34.348477178284156],[-120.36781612204385,34.44722585706751],[-120.6228651536203,34.60861135511499],[-120.74458898988388,35.15682078708329],[-121.71455562400223,36.16172068943115],[-122.54745052146654,37.55181671808242],[-122.51200048891434,37.78361135512762],[-122.95331722068698,38.11379791925668],[-123.72696508852863,38.95147288670779],[-123.86507035382857,39.76692698827361],[-124.39795772362243,40.31301768651804],[-124.17887548892094,41.14224355728959],[-124.21380875715033,41.99947805436335],[-119.9989755865605,41.99260508886846],[-120.00003495342247,38.99539785415601],[-118.11461951380932,37.64442088474959],[-116.3207496814453,36.32204682061666],[-114.64222164595685,35.05310618747359],[-114.62211951379533,34.963680121392485],[-114.5670841134044,34.82821035413929],[-114.48453101281825,34.653053086886075],[-114.35490068241404,34.464666652966]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3522",diss_me:3522,adm1_cod_1:"USA-3522",iso_3166_2:"US-CO",wikipedia:"http://en.wikipedia.org/wiki/Colorado",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Colorado",name_alt:"CO|Colo.",name_local:null,type:"State",type_en:"State",code_local:"US08",code_hasc:"US.CO",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Colo.",postal:"CO",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-102.05017371296381,40.00081452082664],[-102.04012264688303,38.459874986315256],[-102.04118201374501,36.99198008884845],[-103.00321631550668,36.995158189434406],[-104.20019751668335,36.99619171808024],[-105.8998612129792,36.99727692315837],[-107.47997148316782,36.99991242120525],[-109.04522477907251,36.99991242120525],[-109.05318294964546,41.001993720049384],[-108.05094438356073,41.002536322588455],[-107.04973934612183,41.002536322588455],[-105.04686418335339,41.003595689450435],[-104.04514238159157,41.00411245377336],[-102.04805497923984,41.00411245377336],[-102.05017371296381,40.033086452792915],[-102.05017371296381,40.00081452082664]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3523",diss_me:3523,adm1_cod_1:"USA-3523",iso_3166_2:"US-NV",wikipedia:"http://en.wikipedia.org/wiki/Nevada",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Nevada",name_alt:"NV|Nev.",name_local:null,type:"State",type_en:"State",code_local:"US32",code_hasc:"US.NV",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Nev.",postal:"NV",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:6,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-114.03052771691799,36.994098822572425],[-114.023628913207,36.189755153949406],[-114.06649451379312,36.15642385512115],[-114.13264034712672,36.004004218076275],[-114.26916948124185,36.04369171807643],[-114.46073401574782,36.11461762139703],[-114.67134131555335,36.11461762139703],[-114.73960588261092,35.99131765394861],[-114.65017981652983,35.85427175551057],[-114.65069658085275,35.63891022393419],[-114.63005184615216,35.44522695570424],[-114.58085588261028,35.249424953750335],[-114.64222164595688,35.0531061874735],[-116.32074968144536,36.322046820616606],[-118.11461951380932,37.64442088474949],[-120.00003495342257,38.99539785415594],[-119.99897558656059,41.99260508886846],[-117.0282517159534,41.997359320639305],[-117.0282517159534,42.000020656902336],[-114.03422258182684,41.99312185319137],[-114.03052771691799,36.994098822572425]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3524",diss_me:3524,adm1_cod_1:"USA-3524",iso_3166_2:"US-NM",wikipedia:"http://en.wikipedia.org/wiki/New_Mexico",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"New Mexico",name_alt:"NM|N.M.",name_local:null,type:"State",type_en:"State",code_local:"US35",code_hasc:"US.NM",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"N.M.",postal:"NM",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:10,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-103.00161434610561,33.879947821583414],[-103.00161434610561,31.99928742118533],[-103.92977474649996,31.99928742118533],[-105.73000078003582,31.99928742118533],[-106.63012671591179,31.99928742118533],[-106.61953304729195,31.91409882255209],[-106.50734351278624,31.754289455689502],[-108.24,31.75485371816643],[-108.24196631552763,31.342066555297265],[-109.04367281021746,31.34189913731541],[-109.04522477907244,36.999912421205295],[-107.47997148316779,36.999912421205295],[-105.8998612129792,36.997276923158495],[-104.20019751668332,36.996191718080354],[-103.00321631550662,36.99515818943439],[-103.00161434610561,36.49932282159398],[-103.00161434610561,33.879947821583414]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3525",diss_me:3525,adm1_cod_1:"USA-3525",iso_3166_2:"US-OR",wikipedia:"http://en.wikipedia.org/wiki/Oregon",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Oregon",name_alt:"OR|Ore.",name_local:null,type:"State",type_en:"State",code_local:"US41",code_hasc:"US.OR",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Pacific",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ore.",postal:"OR",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:6,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-117.02825171595339,42.00002065690239],[-117.02825171595339,41.99735932063942],[-119.9989755865605,41.99260508886846],[-124.21380875715033,41.99947805436335],[-124.53284,42.7659900000001],[-124.14214,43.70838],[-123.89893,45.523410000000126],[-123.99867632678428,46.2830694871044],[-123.77670365460955,46.28203318947163],[-123.47137345441303,46.27725311948467],[-123.22849422264113,46.18625092221856],[-122.9379693202963,46.12909678810388],[-122.75224422263926,45.93807485613678],[-122.72578588930577,45.77033315691756],[-122.65170772361546,45.63008331967734],[-122.42045568910925,45.59199778907822],[-122.17491512107449,45.595150051447945],[-121.78809118715355,45.70098338478181],[-121.56107662009549,45.73276439064131],[-121.203889120094,45.689898790055224],[-121.0467410894945,45.637498887711104],[-120.83719315655094,45.67294892026342],[-120.6096359869536,45.753900051448625],[-120.15826818910023,45.740670884781935],[-119.78730891989301,45.85076752377984],[-119.59204952047821,45.932235419287906],[-119.33699968145743,45.88833629005586],[-118.97823605027111,45.99256765398866],[-116.9150028145857,45.99998322202259],[-116.67899654830876,45.807359320654484],[-116.51125484908931,45.72640818946934],[-116.4577955798834,45.57453115496355],[-116.5588746814463,45.4443582220203],[-116.69328508183747,45.186647854180706],[-116.83614457890837,44.86385101986957],[-117.05153194870093,44.66595612240786],[-117.19229855026396,44.43894155534957],[-117.19439144577171,44.27913218848698],[-117.0076069812527,44.21141022396847],[-116.92665585006762,44.081211452809214],[-117.01396318242467,43.7970685898523],[-117.02825171595339,42.00002065690239]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3526",diss_me:3526,adm1_cod_1:"USA-3526",iso_3166_2:"US-UT",wikipedia:"http://en.wikipedia.org/wiki/Utah",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Utah",name_alt:"UT",name_local:null,type:"State",type_en:"State",code_local:"US49",code_hasc:"US.UT",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Utah",postal:"UT",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:4,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-109.05318294964546,41.001993720049384],[-109.04522477907253,36.99991242120524],[-110.49622148317988,37.00732798923914],[-112.41760291222404,37.00942088474695],[-114.03052771691799,36.994098822572425],[-114.03422258182684,41.993121853191376],[-111.05024451378105,42.00159678808722],[-111.05448198122899,41.027935289059904],[-109.05318294964546,41.001993720049384]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3527",diss_me:3527,adm1_cod_1:"USA-3527",iso_3166_2:"US-WY",wikipedia:"http://en.wikipedia.org/wiki/Wyoming",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Wyoming",name_alt:"WY|Wyo.",name_local:null,type:"State",type_en:"State",code_local:"US56",code_hasc:"US.WY",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Mountain",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Wyo.",postal:"WY",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-111.0671943835728,44.54159678809741],[-111.07140601280457,45.04960195574266],[-109.10237891318732,45.05701752377655],[-107.54663408082433,45.04588125261765],[-105.74589128296557,45.051178086927564],[-104.07795691609692,45.04061025652388],[-104.05255794962545,43.00014048926312],[-104.04514238159157,41.00411245377336],[-105.04686418335339,41.003595689450435],[-107.04973934612183,41.002536322588455],[-108.05094438356073,41.002536322588455],[-109.05318294964546,41.001993720049384],[-111.05448198122899,41.02793528905991],[-111.05024451378105,42.00159678808724],[-111.04972774945814,44.48816335710761],[-111.08517778201036,44.506146755545174],[-111.0671943835728,44.54159678809741]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3528",diss_me:3528,adm1_cod_1:"USA-3528",iso_3166_2:"US-AR",wikipedia:"http://en.wikipedia.org/wiki/Arkansas",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Arkansas",name_alt:"AR|Ark.",name_local:null,type:"State",type_en:"State",code_local:"US05",code_hasc:"US.AR",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"West South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ark.",postal:"AR",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-89.66291948114342,36.02307282159197],[-89.67351314976325,35.94000295668279],[-89.77510901564906,35.79923635511972],[-89.95026628290238,35.70187795668183],[-89.98889441604055,35.536229152970236],[-90.14710181350213,35.40499685316502],[-90.13493201369738,35.11395518649719],[-90.249240281927,35.02083425550724],[-90.26828304722656,34.94145925550691],[-90.44661841506581,34.86683848727745],[-90.4503132799747,34.7218602564826],[-90.58420691604294,34.45409882256226],[-90.6995487129184,34.39746145277036],[-90.87630794957275,34.261474921194306],[-90.9821412829065,34.0551050888367],[-91.20068091506883,33.70639252373114],[-91.22344438349342,33.46932689059217],[-91.1080767484018,33.2068364527656],[-91.15623918329783,33.01000092216586],[-92.00130388056684,33.04387482353317],[-93.09402787959465,33.01051768648877],[-94.05975704626516,33.01211965588982],[-94.00208614782744,33.57991445569678],[-94.23333818233357,33.583609320605646],[-94.42753821488643,33.57038015393893],[-94.47991227901426,33.635983384733464],[-94.45136105017299,34.510710354138],[-94.43017371293331,35.48331248630335],[-94.62861121293412,36.54058645277894],[-93.41258724645789,36.52629791925024],[-92.30717668330243,36.523662421203355],[-91.25147884801174,36.52314565688043],[-90.11219438348897,36.461754055317684],[-90.02909868036363,36.337937323546356],[-90.14180497919222,36.23050202081156],[-90.25399451369786,36.12254995375383],[-90.31538611526061,36.02307282159197],[-89.66291948114342,36.02307282159197]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3529",diss_me:3529,adm1_cod_1:"USA-3529",iso_3166_2:"US-IA",wikipedia:"http://en.wikipedia.org/wiki/Iowa",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Iowa",name_alt:"IA|Iowa",name_local:null,type:"State",type_en:"State",code_local:"US19",code_hasc:"US.IA",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"West North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Iowa",postal:"IA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:4,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-90.15663611525997,42.103735256512124],[-90.21006954624977,41.8349144557298],[-90.39527787958384,41.60841665299452],[-90.46196631545651,41.53645722102809],[-90.69055701369962,41.47878632259035],[-91.0339985827114,41.42956452083234],[-91.12342464879248,41.25758535416499],[-90.9990653144821,41.17981232356573],[-90.95674231643505,41.024757188473956],[-91.0874320137012,40.85171865494462],[-91.15412044957387,40.699841620438804],[-91.4102288480124,40.55114268651894],[-91.43033098017392,40.3685956894479],[-91.56740271682813,40.45220815689615],[-91.75842464879503,40.61411041926658],[-92.85166541214576,40.59243215592015],[-94.00208614782744,40.58501658788626],[-94.89849138057842,40.583440456701354],[-95.79649858273045,40.58395722102428],[-95.86210181352499,40.764928086910416],[-95.83406734900665,40.94380605728874],[-95.85574561235308,41.11630198827902],[-95.95842668331704,41.40470815689996],[-96.02508928097356,41.52428742122335],[-96.09704871294,41.55655935318963],[-96.10446428097387,41.78781138769577],[-96.16743201372152,41.95343435319121],[-96.34894548214672,42.14182078711124],[-96.34682674842276,42.22437388769751],[-96.41031124549332,42.389480088870044],[-96.45529557980339,42.488957221031896],[-96.4537194486185,42.58050202083696],[-96.61564754920508,42.691632188480625],[-96.53521318234277,42.85567902279118],[-96.4833558825379,43.01600515397672],[-96.45953304725134,43.1244998235735],[-96.58707048214768,43.257308254563625],[-96.58601111528569,43.5012468531974],[-96.4526600817565,43.50178945573647],[-95.35993608272871,43.50018748633542],[-94.00102678096546,43.51341665300214],[-92.54000484899348,43.51977285417405],[-91.22819861526426,43.5012468531974],[-91.21391008173555,43.44675405534562],[-91.08373714879232,43.288004055345],[-91.17316321487343,43.21232392025354],[-91.16998511428747,43.00223338477093],[-91.12923824742532,42.91283315690599],[-91.06469438349276,42.75408315690535],[-90.73817684605658,42.65827505143622],[-90.64081844761868,42.50536448828457],[-90.58260494664188,42.4291675888702],[-90.46460181350339,42.37836965592729],[-90.41698198114644,42.27041758886956],[-90.2598081123307,42.18998322200727],[-90.15663611525997,42.103735256512124]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3530",diss_me:3530,adm1_cod_1:"USA-3530",iso_3166_2:"US-KS",wikipedia:"http://en.wikipedia.org/wiki/Kansas",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Kansas",name_alt:"KS|Kans.",name_local:null,type:"State",type_en:"State",code_local:"US20",code_hasc:"US.KS",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"West North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Kans.",postal:"KS",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:6,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-94.60481421586371,39.13985932062788],[-94.6153820462674,38.06883942316266],[-94.62279761430128,36.99991242120525],[-95.50016008175271,36.99885305434327],[-97.29984351274949,36.99727692315837],[-99.10006954628534,36.995158189434406],[-100.10021521686225,36.994098822572425],[-101.09979244668396,36.99303945571043],[-102.04118201374501,36.99198008884845],[-102.04012264688303,38.459874986315256],[-102.05017371296381,40.00081452082664],[-102.04805497923984,40.00081452082664],[-100.30022884804795,40.00081452082664],[-99.00007564980055,40.00081452082664],[-96.69977678097625,40.00135712336569],[-95.32288408077542,40.00135712336569],[-95.08530168331355,39.86800608983651],[-94.95510291215416,39.87012482356049],[-94.92655168331291,39.72512075454949],[-95.06729244665982,39.53991242121542],[-94.99109554724546,39.44467275650149],[-94.86779557979705,39.23458222101888],[-94.60481421586371,39.13985932062788]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3531",diss_me:3531,adm1_cod_1:"USA-3531",iso_3166_2:"US-MO",wikipedia:"http://en.wikipedia.org/wiki/Missouri",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Missouri",name_alt:"MO",name_local:null,type:"State",type_en:"State",code_local:"US29",code_hasc:"US.MO",note:null,hasc_maybe:"US.IL|USA-MOS",region:"Midwest",region_cod:null,region_big:"West North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:10,scaleran_1:2,datarank:1,abbrev:"Mo.",postal:"MO",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-94.61750077999136,36.99991242120525],[-94.62279761430128,36.99991242120525],[-94.6153820462674,38.06883942316266],[-94.60481421586371,39.13985932062788],[-94.86779557979705,39.23458222101888],[-94.99109554724546,39.44467275650149],[-95.06729244665982,39.53991242121542],[-94.92655168331291,39.72512075454949],[-94.95510291215416,39.87012482356049],[-95.08530168331355,39.86800608983651],[-95.32288408077542,40.00135712336569],[-95.45254024939575,40.21514252375718],[-95.60811214881042,40.3431708847603],[-95.77637061235276,40.50140412043801],[-95.79649858273045,40.58395722102428],[-94.89849138057842,40.583440456701354],[-94.00208614782744,40.58501658788626],[-92.85166541214576,40.59243215592015],[-91.75842464879503,40.61411041926658],[-91.56740271682813,40.45220815689615],[-91.43033098017392,40.3685956894479],[-91.51763831253103,40.119877020827104],[-91.42821224644996,39.82090302180248],[-91.2625892809545,39.615049953767794],[-91.0715673489876,39.445189520824414],[-90.84137468134344,39.31077912043325],[-90.74928727899933,39.265278021800256],[-90.66570064976722,39.074772854156265],[-90.64981014683747,38.907547919259756],[-90.53552771682399,38.865767523751785],[-90.3465986803649,38.93031138768433],[-90.1560935127209,38.76944265395973],[-90.2127308825128,38.584776923164725],[-90.30533504917983,38.439256089830806],[-90.36987891311239,38.26355622003844],[-90.22807878290348,38.11328115493366],[-90.03015804722561,37.97199778904769],[-89.91690914585797,37.968277085922665],[-89.65498714878662,37.74867808689835],[-89.5539080472237,37.71904165297896],[-89.47928727899424,37.477221788069144],[-89.51633928094752,37.32692088474823],[-89.38828508172826,37.08140615492954],[-89.28033301467053,37.107347723940066],[-89.10305701369326,36.952292588848294],[-89.13426957879756,36.85175608982445],[-89.115226813498,36.694582221008716],[-89.27397681349862,36.61151235609954],[-89.49835588250994,36.5061957870887],[-89.52427161330432,36.40935415297372],[-89.585120612328,36.26701142022576],[-89.66291948114342,36.02307282159197],[-90.31538611526061,36.02307282159197],[-90.25399451369786,36.12254995375383],[-90.14180497919222,36.23050202081156],[-90.02909868036363,36.337937323546356],[-90.11219438348897,36.461754055317684],[-91.25147884801174,36.52314565688043],[-92.30717668330243,36.523662421203355],[-93.41258724645789,36.52629791925024],[-94.62861121293412,36.54058645277894],[-94.61750077999136,36.99991242120525]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3532",diss_me:3532,adm1_cod_1:"USA-3532",iso_3166_2:"US-NE",wikipedia:"http://en.wikipedia.org/wiki/Nebraska",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Nebraska",name_alt:"NE|Nebr.",name_local:null,type:"State",type_en:"State",code_local:"US31",code_hasc:"US.NE",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"West North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Nebr.",postal:"NE",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-95.45254024939575,40.21514252375718],[-95.32288408077542,40.00135712336569],[-96.69977678097625,40.00135712336569],[-99.00007564980055,40.00081452082664],[-100.30022884804795,40.00081452082664],[-102.04805497923984,40.00081452082664],[-102.05017371296381,40.00081452082664],[-102.05017371296381,40.033086452792915],[-102.04805497923984,41.00411245377336],[-104.04514238159157,41.00411245377336],[-104.05255794962545,43.00014048926312],[-102.09991227904473,43.00014048926312],[-100.59974544961165,43.00014048926312],[-98.59418311236405,43.00014048926312],[-98.33595598020155,42.87366242122876],[-97.96820064979643,42.79428742122843],[-97.88192684608515,42.83978851986143],[-97.64434444862326,42.83609365495256],[-97.28715694862183,42.846144721033326],[-97.02838721392027,42.717547919275006],[-96.75426957882803,42.63396129004289],[-96.70876848019503,42.55086558691757],[-96.62303727902282,42.502728990237685],[-96.45529557980339,42.488957221031896],[-96.41031124549332,42.389480088870044],[-96.34682674842276,42.22437388769751],[-96.34894548214672,42.14182078711124],[-96.16743201372152,41.95343435319121],[-96.10446428097387,41.78781138769577],[-96.09704871294,41.55655935318963],[-96.02508928097356,41.52428742122335],[-95.95842668331704,41.40470815689996],[-95.85574561235308,41.11630198827902],[-95.83406734900665,40.94380605728874],[-95.86210181352499,40.764928086910416],[-95.79649858273045,40.58395722102428],[-95.77637061235276,40.50140412043801],[-95.60811214881042,40.3431708847603],[-95.45254024939575,40.21514252375718]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3533",diss_me:3533,adm1_cod_1:"USA-3533",iso_3166_2:"US-OK",wikipedia:"http://en.wikipedia.org/wiki/Oklahoma",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Oklahoma",name_alt:"OK|Okla.",name_local:null,type:"State",type_en:"State",code_local:"US40",code_hasc:"US.OK",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"West South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Okla.",postal:"OK",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-94.62861121293412,36.54058645277894],[-94.43017371293331,35.48331248630335],[-94.45136105017299,34.510710354138],[-94.47991227901426,33.635983384733464],[-94.91014441606023,33.83178538668737],[-95.19059241410824,33.93816132256019],[-95.41812374548935,33.87041351982555],[-95.76949764685796,33.88100718844538],[-95.9774694486166,33.879431057260476],[-96.14890601274487,33.79793732353619],[-96.31613094764138,33.75613108981207],[-96.46271114783728,33.805327053353935],[-96.79661841509122,33.751351019825066],[-96.94795284705798,33.91805919039865],[-97.10406734901173,33.77359772392673],[-97.37658301470292,33.83814158785927],[-97.6570310127509,33.99371348727395],[-97.95709021685369,33.89369375257304],[-98.08832251665889,34.13448008883702],[-98.55397884804097,34.11065725355047],[-98.85189348020361,34.164633287079326],[-99.1874027168586,34.235559190399925],[-99.33607581256231,34.442962551403355],[-99.59908301471181,34.37629995374684],[-99.76152787962131,34.457793687471124],[-100.00019548216133,34.56522899020594],[-100.00019548216133,35.51984772393371],[-100.00019548216133,36.49932282159388],[-101.00083207884502,36.49932282159388],[-102.00149451374486,36.49932282159388],[-103.00161434610563,36.49932282159388],[-103.00321631550668,36.995158189434406],[-102.04118201374501,36.99198008884845],[-101.09979244668396,36.99303945571043],[-100.10021521686225,36.994098822572425],[-99.10006954628534,36.995158189434406],[-97.29984351274949,36.99727692315837],[-95.50016008175271,36.99885305434327],[-94.62279761430128,36.99991242120525],[-94.61750077999136,36.99991242120525],[-94.62861121293412,36.54058645277894]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3534",diss_me:3534,adm1_cod_1:"USA-3534",iso_3166_2:"US-SD",wikipedia:"http://en.wikipedia.org/wiki/South_Dakota",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"South Dakota",name_alt:"SD|S.D.",name_local:null,type:"State",type_en:"State",code_local:"US46",code_hasc:"US.SD",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"West North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"S.D.",postal:"SD",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:12,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-96.75426957882803,42.63396129004289],[-97.02838721392027,42.717547919275006],[-97.28715694862183,42.846144721033326],[-97.64434444862326,42.83609365495256],[-97.88192684608515,42.83978851986143],[-97.96820064979643,42.79428742122843],[-98.33595598020155,42.87366242122876],[-98.59418311236405,43.00014048926312],[-100.59974544961165,43.00014048926312],[-102.09991227904473,43.00014048926312],[-104.05255794962545,43.00014048926312],[-104.07795691609692,45.04061025652388],[-104.02661638061494,45.956600857113486],[-102.11686214883646,45.96135508888433],[-100.06685807981785,45.96556671811612],[-98.44178931353531,45.96344798439215],[-96.53945064979072,46.017966620460086],[-96.55689144568922,45.87244578712617],[-96.78072791216147,45.76079885515958],[-96.83470394569034,45.62532908790642],[-96.73576941606754,45.47081655535372],[-96.56061214881424,45.393017686538315],[-96.43943091508979,44.435763454763645],[-96.4526600817565,43.50178945573647],[-96.58601111528569,43.5012468531974],[-96.58707048214768,43.257308254563625],[-96.45953304725134,43.1244998235735],[-96.4833558825379,43.01600515397672],[-96.53521318234277,42.85567902279118],[-96.61564754920508,42.691632188480625],[-96.4537194486185,42.58050202083696],[-96.45529557980339,42.488957221031896],[-96.62303727902282,42.502728990237685],[-96.70876848019503,42.55086558691757],[-96.75426957882803,42.63396129004289]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3535",diss_me:3535,adm1_cod_1:"USA-3535",iso_3166_2:"US-LA",wikipedia:"http://en.wikipedia.org/wiki/Louisiana",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:5,admin0_lab:2,name:"Louisiana",name_alt:"LA",name_local:null,type:"State",type_en:"State",code_local:"US22",code_hasc:"US.LA",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"West South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"La.",postal:"LA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:9,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-89.21767,29.29108],[-89.4083872138898,29.159770819611367],[-89.77928,29.30714],[-90.15463,29.11743],[-90.880225,29.14853],[-91.62678,29.677000000000135],[-92.49906,29.5523],[-93.22637,29.78375000000011],[-93.84842,29.71363],[-93.91847368037912,29.821771755486566],[-93.81687781449335,29.96835195568235],[-93.66711951371155,30.10064362234965],[-93.66448401566464,30.300140489212254],[-93.73750281449298,30.3668030868688],[-93.65019548213593,30.60547068940889],[-93.5861683825263,30.713939520789552],[-93.48984351273424,31.079601955686883],[-93.57823605016944,31.216131089801934],[-93.69412044958403,31.443662421183035],[-93.7793090482171,31.67543122001223],[-93.83486121293095,31.829943752564816],[-93.9989080472414,31.942650051393343],[-94.05975704626513,33.01211965588982],[-93.09402787959465,33.01051768648881],[-92.00130388056687,33.043874823533145],[-91.15623918329783,33.01000092216589],[-91.08479651565432,32.95284678805103],[-91.17579871292025,32.80838532157918],[-91.03082048212548,32.60253225354444],[-91.0720841133105,32.47871552177321],[-90.94297054722921,32.30673635510567],[-91.08161841506836,32.20459788668086],[-91.12817888056327,32.01569468843792],[-91.32131954625419,31.859580186484266],[-91.41128821487433,31.6500322535407],[-91.50229041214038,31.40872915295381],[-91.62453101272678,31.29708222098708],[-91.58378414586463,31.04733002372052],[-90.70166744664232,31.015574856077194],[-89.75921851271931,31.01345612235326],[-89.78779557977674,30.847290554318647],[-89.8539414131103,30.683243720008136],[-89.79045691603972,30.556791490189937],[-89.65868201369545,30.440881252559336],[-89.62323198114325,30.27525828706382],[-89.60470598016661,30.17629791922485],[-89.41373,29.89419],[-89.43,29.48864],[-89.21767,29.29108]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3536",diss_me:3536,adm1_cod_1:"USA-3536",iso_3166_2:"US-TX",wikipedia:"http://en.wikipedia.org/wiki/Texas",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:4,admin0_lab:2,name:"Texas",name_alt:"TX|Tex.",name_local:null,type:"State",type_en:"State",code_local:"US48",code_hasc:"US.TX",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"West South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Tex.",postal:"TX",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:5,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-93.57823605016944,31.216131089801934],[-93.48984351273424,31.079601955686883],[-93.5861683825263,30.713939520789552],[-93.65019548213593,30.60547068940889],[-93.73750281449298,30.3668030868688],[-93.66448401566464,30.300140489212254],[-93.66711951371155,30.10064362234965],[-93.81687781449335,29.96835195568235],[-93.91847368037912,29.821771755486566],[-93.84842,29.71363],[-94.69000281449689,29.4799321558757],[-95.60017981645365,28.738556220000362],[-96.5939434476424,28.307290554308565],[-97.14003414588689,27.829981187444673],[-97.37022681353096,27.380189520776185],[-97.37976111528883,26.69015412038283],[-97.33002254920791,26.21020925547191],[-97.14003414588689,25.869945787046277],[-97.53003618039355,25.83979258880396],[-98.24017371294855,26.059934190367358],[-99.0201777819621,26.370018622334726],[-99.30010901568716,26.839912421164684],[-99.52022477903438,27.53999888763883],[-100.11026628294297,28.109912421169724],[-100.45580074746255,28.696233221953378],[-100.95744971393594,29.38097178803673],[-101.662290412181,29.779422919223236],[-102.47986324747075,29.759863389600753],[-103.11010901570234,28.96980825450646],[-103.9398258125807,29.269841620393095],[-104.45682267944477,29.571993720003775],[-104.7055413480656,30.121805121373143],[-105.03732988159555,30.64409882254705],[-105.6315830147359,31.083839423134748],[-106.1427662829671,31.399737453735042],[-106.50734351278624,31.754289455689502],[-106.61953304729195,31.91409882255209],[-106.63012671591179,31.99928742118533],[-105.73000078003582,31.99928742118533],[-103.92977474649996,31.99928742118533],[-103.00161434610561,31.99928742118533],[-103.00161434610561,33.879947821583414],[-103.00161434610561,36.49932282159398],[-102.00149451374489,36.49932282159398],[-101.00083207884501,36.49932282159398],[-100.0001954821613,36.49932282159398],[-100.0001954821613,35.51984772393365],[-100.0001954821613,34.56522899020604],[-99.76152787962133,34.45779368747117],[-99.59908301471177,34.376299953746866],[-99.33607581256223,34.44296255140341],[-99.18740271685863,34.23555919040001],[-98.85189348020356,34.164633287079425],[-98.55397884804097,34.110657253550414],[-98.08832251665888,34.13448008883711],[-97.9570902168536,33.89369375257314],[-97.6570310127509,33.99371348727408],[-97.37658301470293,33.8381415878593],[-97.1040673490117,33.773597723926855],[-96.94795284705799,33.91805919039871],[-96.79661841509119,33.75135101982505],[-96.4627111478373,33.805327053354006],[-96.31613094764134,33.756131089812186],[-96.14890601274487,33.797937323536246],[-95.97746944861655,33.87943105726049],[-95.76949764685799,33.88100718844538],[-95.41812374548931,33.87041351982555],[-95.19059241410815,33.938161322560234],[-94.91014441606023,33.8317853866875],[-94.47991227901423,33.63598338473349],[-94.42753821488645,33.57038015393891],[-94.23333818233351,33.583609320605774],[-94.00208614782741,33.57991445569678],[-94.05975704626513,33.01211965588982],[-93.9989080472414,31.942650051393343],[-93.83486121293095,31.829943752564816],[-93.7793090482171,31.67543122001223],[-93.69412044958403,31.443662421183035],[-93.57823605016944,31.216131089801934]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3537",diss_me:3537,adm1_cod_1:"USA-3537",iso_3166_2:"US-CT",wikipedia:"http://en.wikipedia.org/wiki/Connecticut",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Connecticut",name_alt:"CT|Conn.",name_local:null,type:"State",type_en:"State",code_local:"US09",code_hasc:"US.CT",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"New England",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Conn.",postal:"CT",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:11,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-72.87616634793818,41.22055919042799],[-73.64788653178721,40.95323936094951],[-73.65668718127472,40.9850696884738],[-73.69267981636597,41.107310289060365],[-73.47517371284943,41.2046686874981],[-73.55348934598777,41.28985728613134],[-73.49793718127404,42.0545134547541],[-72.73222164578914,42.03598745377741],[-71.80090898302507,42.01324982356908],[-71.79295081245215,41.466616522785614],[-71.853825649692,41.32003632258983],[-72.29514238146447,41.26975515396981],[-72.87616634793818,41.22055919042799]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3513",diss_me:3513,adm1_cod_1:"USA-3513",iso_3166_2:"US-MA",wikipedia:"http://en.wikipedia.org/wiki/Massachusetts",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Massachusetts",name_alt:"Commonwealth of Massachusetts|MA|Mass.",name_local:null,type:"State",type_en:"State",code_local:"US25",code_hasc:"US.MA",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"New England",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Mass.",postal:"MA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:13,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-69.88479855007472,41.922764390625986],[-69.96520707872087,41.63699372005193],[-70.63989457872357,41.47506561946534],[-71.1203820461734,41.49465098730397],[-71.14789974636884,41.64758738867177],[-71.30507361518457,41.76241242122431],[-71.37915178087496,42.02436025651181],[-71.8009089830251,42.013249823569055],[-72.73222164578922,42.03598745377748],[-73.49793718127407,42.054513454754115],[-73.28203304715862,42.74348948828552],[-72.45707048205115,42.72708222103286],[-71.24897884793174,42.71809052181406],[-71.14578101264486,42.81650828711393],[-70.93359758165442,42.88425608984859],[-70.81505184597688,42.865187486332886],[-70.82510291205764,42.33496145280212],[-70.49491634792872,41.80473541927135],[-70.08005794948956,41.77987905533895],[-70.18483191596133,42.144998887697184],[-69.88479855007472,41.922764390625986]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3538",diss_me:3538,adm1_cod_1:"USA-3538",iso_3166_2:"US-NH",wikipedia:"http://en.wikipedia.org/wiki/New_Hampshire",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"New Hampshire",name_alt:"NH|N.H.",name_local:null,type:"State",type_en:"State",code_local:"US33",code_hasc:"US.NH",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"New England",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"N.H.",postal:"NH",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:13,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-71.50351111518529,45.00779572201856],[-71.50508724637024,45.008312486341424],[-71.40509334988542,45.254912421238316],[-71.08482,45.30524],[-70.94416541205806,43.46633942318431],[-70.98176001655037,43.36789581966826],[-70.79761105007827,43.21973948828747],[-70.75102474636725,43.08003225358635],[-70.64573401557249,43.090083319667144],[-70.81505184597688,42.86518748633296],[-70.9335975816544,42.88425608984858],[-71.14578101264487,42.816508287114004],[-71.24897884793177,42.71809052181413],[-72.45707048205111,42.72708222103296],[-72.53750484891339,42.83079682064266],[-72.45864661323606,42.96045298926299],[-72.43430701362655,43.22291758887337],[-72.40361121284519,43.28536855729823],[-72.36976314969394,43.52189158789815],[-72.26020911323525,43.72138845476093],[-72.17819861518808,43.80869578711793],[-72.05913611518758,44.04576142025695],[-72.03637264676297,44.20663015398151],[-72.0030413479347,44.30401439063564],[-71.80990068224389,44.3521509873155],[-71.58552161323257,44.46803538672992],[-71.54637671577137,44.59239472104042],[-71.62045488146185,44.73579682065031],[-71.50351111518529,45.00779572201856]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3539",diss_me:3539,adm1_cod_1:"USA-3539",iso_3166_2:"US-RI",wikipedia:"http://en.wikipedia.org/wiki/Rhode_Island",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Rhode Island",name_alt:"State of Rhode Island and Providence Plantations|RI|R.I.",name_local:null,type:"State",type_en:"State",code_local:"US44",code_hasc:"US.RI",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"New England",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"R.I.",postal:"RI",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:12,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-71.14789974636884,41.64758738867177],[-71.1203820461734,41.49465098730397],[-71.85382564969197,41.32003632258973],[-71.79295081245215,41.46661652278563],[-71.8009089830251,42.013249823569055],[-71.37915178087496,42.02436025651181],[-71.30507361518457,41.76241242122431],[-71.14789974636884,41.64758738867177]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3540",diss_me:3540,adm1_cod_1:"USA-3540",iso_3166_2:"US-VT",wikipedia:"http://en.wikipedia.org/wiki/Vermont",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Vermont",name_alt:"VT",name_local:null,type:"State",type_en:"State",code_local:"US50",code_hasc:"US.VT",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"New England",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Vt.",postal:"VT",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-71.50351111518535,45.00779572201852],[-71.62045488146187,44.73579682065026],[-71.54637671577146,44.59239472104031],[-71.58552161323256,44.46803538672991],[-71.80990068224386,44.35215098731539],[-72.00304134793475,44.304014390635515],[-72.036372646763,44.20663015398147],[-72.05913611518758,44.04576142025687],[-72.17819861518805,43.80869578711791],[-72.26020911323525,43.72138845476078],[-72.36976314969402,43.521891587898004],[-72.4036112128452,43.285368557298106],[-72.43430701362658,43.222917588873365],[-72.45864661323606,42.96045298926295],[-72.53750484891344,42.83079682064263],[-72.45707048205115,42.727082221032866],[-73.28203304715862,42.74348948828552],[-73.23971004911158,43.56793528907005],[-73.38311214872152,43.57535085710395],[-73.40163814969816,43.61343638770307],[-73.33812781441145,43.75844045671406],[-73.4296726142165,44.01984568946249],[-73.32913611519265,44.22673228614301],[-73.3841715155835,44.379151923187905],[-73.40796851265391,44.67600718848857],[-73.36828101265375,44.804603990246875],[-73.34766211616929,45.00725311947946],[-71.50508724637027,45.00831248634144],[-71.50351111518535,45.00779572201852]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3541",diss_me:3541,adm1_cod_1:"USA-3541",iso_3166_2:"US-AL",wikipedia:"http://en.wikipedia.org/wiki/Alabama",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:5,admin0_lab:2,name:"Alabama",name_alt:"AL|Ala.",name_local:null,type:"State",type_en:"State",code_local:"US01",code_hasc:"US.AL",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"East South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ala.",postal:"AL",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-85.05441524935415,31.108695787067106],[-85.00519344759613,30.990692653928605],[-87.0456632148569,30.984879055295778],[-87.61715287957273,30.927724921180967],[-87.63304338250248,30.851528021766597],[-87.4049694485823,30.60864878999479],[-87.45788611524918,30.411270656855976],[-87.53038814975469,30.274198920201783],[-88.41780168328688,30.38481232352254],[-88.44953101271409,31.91198008882813],[-88.27334021681494,33.510047919238175],[-88.0955216132986,34.80598948825377],[-88.16696428094212,34.999672756483704],[-86.90967668328085,34.99913015394465],[-85.62538814974705,34.98590098727793],[-85.36555904818351,33.74447805433026],[-85.12955278190654,32.750714423141375],[-84.98615068229658,32.43796865491096],[-84.89884334993945,32.25911652274878],[-85.06392371289584,32.083416652956416],[-85.11950171582576,31.76539988863223],[-85.06552568229691,31.5770134547122],[-85.0903820462293,31.400280056274],[-85.11789974642471,31.236233221963445],[-85.05441524935415,31.108695787067106]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3542",diss_me:3542,adm1_cod_1:"USA-3542",iso_3166_2:"US-FL",wikipedia:"http://en.wikipedia.org/wiki/Florida",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:5,admin0_lab:2,name:"Florida",name_alt:"FL|Fla.",name_local:null,type:"State",type_en:"State",code_local:"US12",code_hasc:"US.FL",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:8,abbrev:"Fla.",postal:"FL",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-80.05653928497765,26.88],[-80.08801,26.205765],[-80.13155999999987,25.81677500000012],[-80.38103,25.20616],[-80.67979855011788,25.07991649016799],[-81.17191321483341,25.201097723892417],[-81.33012061229499,25.639753119402087],[-81.71007158072098,25.869945787046277],[-82.23978084992882,26.729841620383013],[-82.70515,27.49504],[-82.85526,27.88624],[-82.64988501659712,28.55016978608029],[-82.9299999999999,29.100000000000136],[-83.70959,29.9365600000001],[-84.0997965156264,30.090049953729817],[-85.10882,29.6361500000001],[-85.28784,29.68612000000013],[-85.7731,30.15261],[-86.40006954623453,30.40016022391336],[-87.53038814975463,30.274198920201854],[-87.4578861152491,30.411270656856118],[-87.40496944858228,30.60864878999479],[-87.63304338250248,30.851528021766683],[-87.61715287957264,30.927724921181095],[-87.04566321485686,30.984879055295778],[-85.00519344759601,30.990692653928704],[-84.85331641309023,30.721355088823486],[-83.84789974641967,30.675311387651334],[-82.22600908072292,30.52555308686948],[-82.15193091503261,30.35093842215514],[-82.02281734895132,30.440364488236412],[-82.02015601268835,30.78801768647986],[-81.8995173815029,30.82189158784729],[-81.70159664582513,30.748330186479848],[-81.49047258169657,30.729830023719217],[-81.31371,30.035520000000133],[-80.97983191600446,29.179898789989068],[-80.53558,28.47213],[-80.53004024933603,28.04007172292728],[-80.05653928497765,26.88]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3543",diss_me:3543,adm1_cod_1:"USA-3543",iso_3166_2:"US-GA",wikipedia:"http://en.wikipedia.org/wiki/Georgia_(U.S._state)",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Georgia",name_alt:"GA|Ga.",name_local:null,type:"State",type_en:"State",code_local:"US13",code_hasc:"US.GA",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ga.",postal:"GA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-80.86500688345194,32.03316132255259],[-81.33629,31.44049],[-81.49047258169657,30.729830023719217],[-81.70159664582513,30.748330186479848],[-81.8995173815029,30.82189158784729],[-82.02015601268835,30.78801768647986],[-82.02281734895132,30.440364488236412],[-82.15193091503261,30.35093842215514],[-82.22600908072297,30.52555308686948],[-83.84789974641967,30.675311387651334],[-84.85331641309023,30.721355088823486],[-85.00519344759607,30.990692653928704],[-85.05441524935412,31.108695787067234],[-85.11789974642471,31.23623322196346],[-85.09038204622931,31.400280056274084],[-85.06552568229688,31.577013454712187],[-85.11950171582572,31.765399888632203],[-85.06392371289581,32.08341665295643],[-84.89884334993945,32.259116522748855],[-84.98615068229651,32.43796865491106],[-85.12955278190651,32.7507144231414],[-85.36555904818346,33.74447805433033],[-85.62538814974698,34.985900987277944],[-84.85437577995225,34.976909288059176],[-84.32097164583553,34.98696035413991],[-83.07637061230196,34.97902802178311],[-83.18592464876076,34.895958156873974],[-83.34625077994627,34.706512356091935],[-83.07637061230196,34.54034678805738],[-82.9028153144497,34.4794977890337],[-82.71654761425356,34.163057155894535],[-82.59748511425317,33.98578115491722],[-82.24928931347051,33.748715521778195],[-82.18050798209003,33.624356187467924],[-81.94344234895101,33.46136872001921],[-81.82701534699743,33.22324372001839],[-81.50739661327219,33.02162811943151],[-81.43595394562868,32.79303742118839],[-81.37670691600607,32.68244985608385],[-81.41109758169631,32.60888845471641],[-81.22482988150023,32.49936025647378],[-81.12641211620041,32.31203318941573],[-81.1279882473853,32.121528021771724],[-81.03644344758027,32.084476019818396],[-80.86500688345194,32.03316132255259]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3544",diss_me:3544,adm1_cod_1:"USA-3544",iso_3166_2:"US-MS",wikipedia:"http://en.wikipedia.org/wiki/Mississippi",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:5,admin0_lab:2,name:"Mississippi",name_alt:"MS|Miss.",name_local:null,type:"State",type_en:"State",code_local:"US28",code_hasc:"US.MS",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"East South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Miss.",postal:"MS",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:11,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-88.16696428094212,34.999672756483676],[-88.09552161329862,34.80598948825383],[-88.27334021681492,33.51004791923816],[-88.44953101271409,31.91198008882816],[-88.41780168328688,30.384812323522624],[-89.18049,30.31598],[-89.59383117841975,30.159994004836847],[-89.62323198114325,30.27525828706382],[-89.65868201369545,30.440881252559336],[-89.79045691603972,30.556791490189937],[-89.8539414131103,30.683243720008136],[-89.78779557977674,30.847290554318647],[-89.75921851271931,31.01345612235326],[-90.70166744664232,31.015574856077194],[-91.58378414586463,31.04733002372052],[-91.62453101272678,31.29708222098708],[-91.50229041214038,31.40872915295381],[-91.41128821487433,31.6500322535407],[-91.32131954625419,31.859580186484266],[-91.12817888056327,32.01569468843792],[-91.08161841506836,32.20459788668086],[-90.94297054722921,32.30673635510567],[-91.0720841133105,32.47871552177321],[-91.03082048212548,32.60253225354444],[-91.17579871292025,32.80838532157918],[-91.08479651565432,32.95284678805103],[-91.15623918329783,33.01000092216589],[-91.10807674840174,33.206836452765685],[-91.22344438349336,33.46932689059224],[-91.20068091506874,33.70639252373121],[-90.98214128290641,34.0551050888368],[-90.87630794957266,34.261474921194235],[-90.69954871291833,34.39746145277036],[-90.58420691604289,34.454098822562344],[-90.4503132799747,34.72186025648273],[-90.44661841506581,34.86683848727745],[-90.26828304722653,34.94145925550703],[-90.24924028192697,35.02083425550717],[-89.26392574741777,35.02135101983026],[-88.16696428094212,34.999672756483676]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3545",diss_me:3545,adm1_cod_1:"USA-3545",iso_3166_2:"US-SC",wikipedia:"http://en.wikipedia.org/wiki/South_Carolina",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"South Carolina",name_alt:"SC|S.C.",name_local:null,type:"State",type_en:"State",code_local:"US45",code_hasc:"US.SC",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"S.C.",postal:"SC",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:14,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-78.55411434600785,33.86142182060689],[-79.06067,33.49395],[-79.20357,33.15839000000011],[-80.301325,32.509355],[-80.86500688345194,32.03316132255259],[-81.03644344758027,32.084476019818396],[-81.1279882473853,32.121528021771724],[-81.12641211620041,32.31203318941573],[-81.22482988150023,32.49936025647378],[-81.41109758169631,32.60888845471641],[-81.37670691600607,32.68244985608385],[-81.43595394562868,32.79303742118839],[-81.50739661327219,33.02162811943151],[-81.82701534699743,33.22324372001839],[-81.94344234895101,33.46136872001921],[-82.18050798209003,33.624356187467924],[-82.24928931347051,33.748715521778195],[-82.59748511425317,33.98578115491722],[-82.71654761425356,34.163057155894535],[-82.9028153144497,34.4794977890337],[-83.07637061230196,34.54034678805738],[-83.34625077994627,34.706512356091935],[-83.18592464876076,34.895958156873974],[-83.07637061230196,34.97902802178311],[-82.9763767158172,35.0086644557025],[-82.4366163805285,35.180101019830886],[-81.51426957876708,35.17165192315099],[-81.04597774933814,35.125608221979064],[-81.0380195787651,35.03724152275993],[-80.9374830797413,35.103387356093606],[-80.78085181346466,34.93404368747309],[-80.7835131497277,34.81764252373563],[-79.67277991404609,34.80756561943866],[-78.55411434600785,33.86142182060689]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3546",diss_me:3546,adm1_cod_1:"USA-3546",iso_3166_2:"US-IL",wikipedia:"http://en.wikipedia.org/wiki/Illinois",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Illinois",name_alt:"IL|Ill.",name_local:null,type:"State",type_en:"State",code_local:"US17",code_hasc:"US.IL",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"East North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ill.",postal:"IL",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-90.64081844761868,42.50536448828457],[-89.62005388055731,42.50536448828457],[-88.5765516832875,42.50324575456061],[-87.80659868035474,42.49425405534181],[-87.80659868035474,42.4968895533887],[-87.48964128289253,42.49531342220381],[-87.039307013685,42.492652085940776],[-87.084808112318,42.30956248633066],[-87.13033504916714,42.12701548925962],[-87.17583614780014,41.94390005143336],[-87.22133724643314,41.76083629003941],[-87.37163814975403,41.76083629003941],[-87.52085384799682,41.76083629003941],[-87.52137061231974,41.70843638769544],[-87.52615068230674,41.70843638769544],[-87.52721004916873,40.55008331965696],[-87.52826941603071,39.39227285415754],[-87.64203508172127,39.1139435898335],[-87.55999874545792,39.040382188466026],[-87.50708207879104,38.86946238866065],[-87.51504024936399,38.73505198826949],[-87.59865271681224,38.6742029892458],[-87.6711289131016,38.508580023750355],[-87.87855811232117,38.29055715591093],[-88.01880794956132,38.02173635512861],[-88.05107988152758,37.81960399021895],[-88.04420691603278,37.744983221989486],[-88.15742997918427,37.605818589827464],[-88.0717246162282,37.51161245375938],[-88.24739864780442,37.43859365493097],[-88.47387061232357,37.35498118748272],[-88.43524247918538,37.13644155532039],[-88.5664747789906,37.05388845473412],[-88.80777787957749,37.14649262140115],[-89.07396318231294,37.20046865493002],[-89.14168514683143,37.10362702081504],[-89.10305701369326,36.952292588848294],[-89.28033301467053,37.107347723940066],[-89.38828508172826,37.08140615492954],[-89.51633928094752,37.32692088474823],[-89.47928727899424,37.477221788069144],[-89.5539080472237,37.71904165297896],[-89.65498714878662,37.74867808689835],[-89.91690914585797,37.968277085922665],[-90.03015804722561,37.97199778904769],[-90.22807878290348,38.11328115493366],[-90.36987891311239,38.26355622003844],[-90.30533504917983,38.439256089830806],[-90.2127308825128,38.584776923164725],[-90.1560935127209,38.76944265395973],[-90.3465986803649,38.93031138768433],[-90.53552771682399,38.865767523751785],[-90.64981014683747,38.907547919259756],[-90.66570064976722,39.074772854156265],[-90.74928727899933,39.265278021800256],[-90.84137468134344,39.31077912043325],[-91.0715673489876,39.445189520824414],[-91.2625892809545,39.615049953767794],[-91.42821224644996,39.82090302180248],[-91.51763831253103,40.119877020827104],[-91.43033098017392,40.3685956894479],[-91.4102288480124,40.55114268651894],[-91.15412044957387,40.699841620438804],[-91.0874320137012,40.85171865494462],[-90.95674231643505,41.024757188473956],[-90.9990653144821,41.17981232356573],[-91.12342464879248,41.25758535416499],[-91.0339985827114,41.42956452083234],[-90.69055701369962,41.47878632259035],[-90.46196631545651,41.53645722102809],[-90.39527787958384,41.60841665299452],[-90.21006954624977,41.8349144557298],[-90.15663611525997,42.103735256512124],[-90.2598081123307,42.18998322200727],[-90.41698198114644,42.27041758886956],[-90.46460181350339,42.37836965592729],[-90.58260494664188,42.4291675888702],[-90.64081844761868,42.50536448828457]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3547",diss_me:3547,adm1_cod_1:"USA-3547",iso_3166_2:"US-IN",wikipedia:"http://en.wikipedia.org/wiki/Indiana",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Indiana",name_alt:"IN|Ind.",name_local:null,type:"State",type_en:"State",code_local:"US18",code_hasc:"US.IN",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"East North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ind.",postal:"IN",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:7,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-84.80675594759535,41.67774058691407],[-84.8099340481813,40.77286041926722],[-84.8178663805381,39.79974152277896],[-84.82367997917093,39.10652802179962],[-84.88137671582481,39.05942495376557],[-84.79988298210053,38.85517385513195],[-84.84326534700955,38.78109568944154],[-85.01154964876804,38.77949372004049],[-85.16763831250564,38.6911270208214],[-85.4041871813217,38.72711965591269],[-85.42589128288428,38.53503835708379],[-85.5666320462312,38.46199372003923],[-85.69840694857547,38.290014553371876],[-85.83969031446145,38.25880198826758],[-86.05983191602483,37.960887356104934],[-86.26250688347356,38.04661855727716],[-86.32547461622121,38.16937592218649],[-86.49957251661253,37.969879055323716],[-86.61016008171714,37.85874888768005],[-86.82552161329352,37.97623525649561],[-87.05571428093768,37.88096975356555],[-87.13139441602912,37.78361135512766],[-87.43936011427255,37.9360051539564],[-87.65366227898694,37.82647695571377],[-87.91137264682652,37.90424998631303],[-87.92142371290728,37.793662421208424],[-88.05107988152758,37.81960399021895],[-88.01880794956132,38.02173635512861],[-87.87855811232117,38.29055715591093],[-87.6711289131016,38.508580023750355],[-87.59865271681224,38.6742029892458],[-87.51504024936399,38.73505198826949],[-87.50708207879104,38.86946238866065],[-87.55999874545792,39.040382188466026],[-87.64203508172127,39.1139435898335],[-87.52826941603071,39.39227285415754],[-87.52721004916873,40.55008331965696],[-87.52615068230674,41.70843638769544],[-87.52137061231974,41.76083629003941],[-87.22133724643314,41.76083629003941],[-86.91812577996056,41.76083629003941],[-86.82446224643155,41.76083629003941],[-86.82446224643155,41.7560562200524],[-85.7481455146564,41.751301988281554],[-84.80729855013442,41.7560562200524],[-84.80675594759535,41.67774058691407]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3548",diss_me:3548,adm1_cod_1:"USA-3548",iso_3166_2:"US-KY",wikipedia:"http://en.wikipedia.org/wiki/Kentucky",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Kentucky",name_alt:"Commonwealth of Kentucky|KY",name_local:null,type:"State",type_en:"State",code_local:"US21",code_hasc:"US.KY",note:null,hasc_maybe:"US.IN|USA-KEN",region:"South",region_cod:null,region_big:"East South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:10,scaleran_1:2,datarank:1,abbrev:"Ky.",postal:"KY",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-81.9725361803314,37.53595205336886],[-82.37258928091893,37.2380374212062],[-82.68479244661029,37.121093654929695],[-82.70913204621976,37.04014252374448],[-82.81550798209258,36.93482595473364],[-83.08908301464577,36.81576345473316],[-83.17850908072685,36.71837921807912],[-83.38436214876154,36.65649669040961],[-83.67328508170539,36.59985932061771],[-84.35009131543205,36.567044786112376],[-85.23114864779235,36.60991038669849],[-85.51901221387423,36.59774058689375],[-86.09262061231402,36.62577505141209],[-86.67788204623565,36.63373322198504],[-87.21658301466228,36.63900421807881],[-87.84204871290697,36.61096975356047],[-87.87434648308938,36.65649669040961],[-88.07278398309018,36.654377956685636],[-88.06960588250422,36.4972040878699],[-89.49835588250994,36.5061957870887],[-89.27397681349862,36.61151235609954],[-89.115226813498,36.694582221008716],[-89.13426957879756,36.85175608982445],[-89.10305701369326,36.952292588848294],[-89.14168514683143,37.10362702081504],[-89.07396318231294,37.20046865493002],[-88.80777787957749,37.14649262140115],[-88.5664747789906,37.05388845473412],[-88.43524247918538,37.13644155532039],[-88.47387061232357,37.35498118748272],[-88.24739864780442,37.43859365493097],[-88.0717246162282,37.51161245375938],[-88.15742997918427,37.605818589827464],[-88.04420691603278,37.744983221989486],[-88.05107988152758,37.81960399021895],[-87.92142371290728,37.793662421208424],[-87.91137264682652,37.90424998631303],[-87.65366227898694,37.82647695571377],[-87.43936011427255,37.9360051539564],[-87.13139441602912,37.78361135512766],[-87.05571428093768,37.88096975356555],[-86.82552161329352,37.97623525649561],[-86.61016008171714,37.85874888768005],[-86.49957251661253,37.969879055323716],[-86.32547461622121,38.16937592218649],[-86.26250688347356,38.04661855727716],[-86.05983191602483,37.960887356104934],[-85.83969031446145,38.25880198826758],[-85.69840694857547,38.290014553371876],[-85.5666320462312,38.46199372003923],[-85.42589128288428,38.53503835708379],[-85.4041871813217,38.72711965591269],[-85.16763831250564,38.6911270208214],[-85.01154964876804,38.77949372004049],[-84.84326534700955,38.78109568944154],[-84.79988298210053,38.85517385513195],[-84.88137671582481,39.05942495376557],[-84.82367997917093,39.10652802179962],[-84.48132361523727,39.08324778905212],[-84.30459021679906,38.98692291926008],[-84.03894751660269,38.76099355728],[-83.82673824739611,38.69006765395942],[-83.67274247916633,38.60911652277419],[-83.43461747916538,38.63715098729253],[-83.25894344758916,38.57948008885481],[-83.04464128287475,38.63451548924564],[-82.85519548209274,38.65143952082124],[-82.77527787955336,38.51121552179724],[-82.5890101793573,38.415433254544254],[-82.56996741405774,38.320193589830325],[-82.58056108267758,38.11328115493366],[-82.46149858267711,37.95716665297992],[-82.41333614778108,37.80531545669025],[-82.26729855012425,37.67565928806994],[-82.16727881542333,37.554478054345495],[-81.9725361803314,37.53595205336886]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3549",diss_me:3549,adm1_cod_1:"USA-3549",iso_3166_2:"US-NC",wikipedia:"http://en.wikipedia.org/wiki/North_Carolina",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:5,admin0_lab:2,name:"North Carolina",name_alt:"NC|N.C.",name_local:null,type:"State",type_en:"State",code_local:"US37",code_hasc:"US.NC",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"N.C.",postal:"NC",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:14,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-75.8680767483408,36.55118012139883],[-75.72731014677777,35.550517686499006],[-76.36336951364223,34.80862498630063],[-77.397635,34.51201],[-78.05496,33.92547],[-78.55411434600785,33.86142182060689],[-79.67277991404609,34.80756561943866],[-80.7835131497277,34.81764252373563],[-80.78085181346466,34.93404368747309],[-80.9374830797413,35.103387356093606],[-81.0380195787651,35.03724152275993],[-81.04597774933814,35.125608221979064],[-81.51426957876708,35.17165192315099],[-82.4366163805285,35.180101019830886],[-82.9763767158172,35.0086644557025],[-83.07637061230196,34.97902802178311],[-84.32097164583553,34.98696035413991],[-84.29875077995007,35.19862702080741],[-84.08708411328251,35.26159475355519],[-84.01776017936294,35.369004218073826],[-83.87596004915412,35.49021129001426],[-83.67328508170533,35.51666962334775],[-83.43833818229035,35.56268748630373],[-83.20972164583105,35.64896129001494],[-83.11078711620837,35.737327989234075],[-82.92028194856431,35.817219753557424],[-82.92557878287425,35.8897217880629],[-82.67422461620657,36.02519155531593],[-82.59324764680525,35.937341620419886],[-82.22389034699899,36.12572805433979],[-82.05139441600875,36.10614268650113],[-81.89739864777897,36.27391022393675],[-81.69366431346822,36.3172925888457],[-81.70477474641103,36.46015208591672],[-81.67937577993962,36.58557078708901],[-79.99239864777132,36.54218842218006],[-77.99954871286752,36.53743419040927],[-76.94121537952998,36.54588328708883],[-75.8680767483408,36.55118012139883]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3550",diss_me:3550,adm1_cod_1:"USA-3550",iso_3166_2:"US-OH",wikipedia:"http://en.wikipedia.org/wiki/Ohio",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Ohio",name_alt:"OH|Ohio",name_local:null,type:"State",type_en:"State",code_local:"US39",code_hasc:"US.OH",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"East North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Ohio",postal:"OH",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:4,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-82.21066118033235,38.57948008885481],[-82.34083411327558,38.44083222101571],[-82.5890101793573,38.415433254544254],[-82.77527787955336,38.51121552179724],[-82.85519548209274,38.65143952082124],[-83.04464128287475,38.63451548924564],[-83.25894344758916,38.57948008885481],[-83.43461747916538,38.63715098729253],[-83.67274247916633,38.60911652277419],[-83.82673824739611,38.69006765395942],[-84.03894751660269,38.76099355728],[-84.30459021679906,38.98692291926008],[-84.48132361523727,39.08324778905212],[-84.82367997917093,39.10652802179962],[-84.8178663805381,39.79974152277896],[-84.8099340481813,40.77286041926722],[-84.80675594759535,41.67774058691407],[-84.29505591504122,41.68515615494796],[-83.83996741406284,41.68515615494796],[-83.46267778189986,41.694147854166744],[-83.14199968131264,41.975681057292874],[-83.1218975491511,41.94973948828235],[-83.029810146807,41.83279572200584],[-82.8663059150355,41.75287811946646],[-82.6900892809202,41.675105088867184],[-82.4392777167916,41.675105088867184],[-82.21332251659538,41.77881968847697],[-81.97413814973245,41.88889048925867],[-81.76086951366389,41.98679149023562],[-81.50739661327225,42.103735256512124],[-81.27774654816716,42.209025987306816],[-81.0279685126844,42.24713735612208],[-80.68243404816478,42.299511420249885],[-80.5205059475782,42.32439362239843],[-80.51626848013026,42.32491038672134],[-80.51626848013026,42.32439362239843],[-80.5189298163933,40.64111135513909],[-80.65755184601625,40.5908301865191],[-80.6152288479692,40.463835354161816],[-80.66178931346417,40.23364268651767],[-80.76498714875106,39.973296820631205],[-80.86182878286601,39.75739268651576],[-80.87875281444161,39.65422068944504],[-81.15075171580989,39.426146755524854],[-81.26609351268534,39.37744171808977],[-81.40104651561558,39.34940725357143],[-81.52222774934002,39.37162811945693],[-81.74500484895029,39.19964895278957],[-81.78575171581242,39.019220689442506],[-81.81696428091672,38.92183645278847],[-81.90587358267489,38.8821489527883],[-81.91856014680255,38.9937958847549],[-82.05402991405569,39.01816132258051],[-82.19479651561875,38.80119782160308],[-82.21066118033235,38.57948008885481]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3551",diss_me:3551,adm1_cod_1:"USA-3551",iso_3166_2:"US-TN",wikipedia:"http://en.wikipedia.org/wiki/Tennessee",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Tennessee",name_alt:"TN|Tenn.",name_local:null,type:"State",type_en:"State",code_local:"US47",code_hasc:"US.TN",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"East South Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Tenn.",postal:"TN",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:9,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-81.6793757799396,36.58557078708901],[-81.70477474641106,36.46015208591663],[-81.6936643134683,36.317292588845746],[-81.89739864777903,36.273910223936724],[-82.0513944160088,36.10614268650116],[-82.22389034699907,36.125728054339774],[-82.59324764680524,35.93734162041976],[-82.6742246162066,36.02519155531594],[-82.92557878287428,35.889721788062786],[-82.92028194856437,35.817219753557296],[-83.11078711620834,35.73732798923406],[-83.20972164583114,35.64896129001495],[-83.43833818229038,35.56268748630367],[-83.67328508170539,35.51666962334775],[-83.87596004915412,35.490211290014315],[-84.01776017936302,35.36900421807373],[-84.08708411328257,35.26159475355507],[-84.29875077995008,35.19862702080742],[-84.32097164583558,34.98696035413991],[-84.8543757799523,34.97690928805915],[-85.62538814974705,34.98590098727793],[-86.90967668328085,34.99913015394465],[-88.16696428094212,34.999672756483704],[-89.26392574741786,35.02135101983015],[-90.249240281927,35.02083425550724],[-90.13493201369738,35.11395518649719],[-90.14710181350213,35.40499685316502],[-89.98889441604055,35.536229152970236],[-89.95026628290238,35.70187795668183],[-89.77510901564906,35.79923635511972],[-89.67351314976325,35.94000295668279],[-89.66291948114342,36.02307282159197],[-89.585120612328,36.26701142022576],[-89.52427161330432,36.40935415297372],[-89.49835588250994,36.5061957870887],[-88.06960588250422,36.4972040878699],[-88.07278398309018,36.654377956685636],[-87.87434648308938,36.65649669040961],[-87.84204871290697,36.61096975356047],[-87.21658301466228,36.63900421807881],[-86.67788204623565,36.63373322198504],[-86.09262061231402,36.62577505141209],[-85.51901221387423,36.59774058689375],[-85.23114864779235,36.60991038669849],[-84.35009131543205,36.567044786112376],[-83.67328508170539,36.59985932061771],[-82.18632158072288,36.565985419250396],[-81.6793757799396,36.58557078708901]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3552",diss_me:3552,adm1_cod_1:"USA-3552",iso_3166_2:"US-VA",wikipedia:"http://en.wikipedia.org/wiki/Virginia",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Virginia",name_alt:"VA",name_local:null,type:"State",type_en:"State",code_local:"US51",code_hasc:"US.VA",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Va.",postal:"VA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"MultiPolygon",coordinates:[[[[-75.37753868103027,38.01538276672363],[-75.94003486633301,37.216875076293945],[-76.03106307983398,37.25656318664551],[-75.72204971313477,37.93705177307129],[-75.60984992980957,38.00003242492676],[-75.37753868103027,38.01538276672363]]],[[[-78.34562492370605,39.40550422668457],[-77.8349838256836,39.13456153869629],[-77.7227954864502,39.322431564331055],[-77.57621574401855,39.28856086730957],[-77.44340705871582,39.213422775268555],[-77.5169677734375,39.10598564147949],[-77.30581855773926,39.04567909240723],[-77.11955070495605,38.93400764465332],[-77.03647994995117,38.848276138305664],[-77.04123497009277,38.7895450592041],[-77.05921745300293,38.70859336853027],[-77.22962188720703,38.61441612243652],[-77.34338760375977,38.391611099243164],[-77.21057891845703,38.33711814880371],[-77.0481071472168,38.380502700805664],[-76.98989486694336,38.23973274230957],[-76.3016185760498,37.91794776916504],[-76.25873947143555,36.96640205383301],[-75.97179985046387,36.897260665893555],[-75.86807632446289,36.55117988586426],[-76.94121551513672,36.54588508605957],[-77.99954795837402,36.53743553161621],[-79.99239730834961,36.54218864440918],[-81.67937469482422,36.58557319641113],[-82.18632125854492,36.56598472595215],[-83.67328453063965,36.5998592376709],[-83.38436126708984,36.65649604797363],[-83.17850875854492,36.71838188171387],[-83.08908271789551,36.81576347351074],[-82.81550788879395,36.93482780456543],[-82.70913124084473,37.040143966674805],[-82.6847915649414,37.12109565734863],[-82.37258911132812,37.23803901672363],[-81.97253608703613,37.53595161437988],[-81.9280948638916,37.36609077453613],[-81.81538772583008,37.27560615539551],[-81.66351127624512,37.195173263549805],[-81.34812927246094,37.31583595275879],[-81.22800827026367,37.24545478820801],[-80.85492897033691,37.32906532287598],[-80.833251953125,37.41849327087402],[-80.72000312805176,37.38304328918457],[-80.5961856842041,37.4560604095459],[-80.45699501037598,37.44177436828613],[-80.29824447631836,37.51902961730957],[-80.27656745910645,37.61057472229004],[-80.2929744720459,37.72805976867676],[-80.15750503540039,37.90109825134277],[-79.96436309814453,38.031789779663086],[-79.91514205932617,38.179426193237305],[-79.74367904663086,38.357221603393555],[-79.64792251586914,38.57472801208496],[-79.51508903503418,38.497446060180664],[-79.36639022827148,38.42602729797363],[-79.22298812866211,38.46463203430176],[-79.17482566833496,38.5556583404541],[-79.07640838623047,38.68001747131348],[-78.96527671813965,38.82181739807129],[-78.89280128479004,38.780038833618164],[-78.74461936950684,38.90915107727051],[-78.54884338378906,39.039838790893555],[-78.42448425292969,39.13931846618652],[-78.34562492370605,39.40550422668457]]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3553",diss_me:3553,adm1_cod_1:"USA-3553",iso_3166_2:"US-WI",wikipedia:"http://en.wikipedia.org/wiki/Wisconsin",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Wisconsin",name_alt:"WI|Wis.",name_local:null,type:"State",type_en:"State",code_local:"US55",code_hasc:"US.WI",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"East North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Wis.",postal:"WI",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:9,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-86.4815632799588,45.32317698829584],[-86.26459977898139,45.22687795671993],[-86.40167151563557,45.13321442319092],[-86.53608191602675,45.04166962338586],[-86.71493404818892,44.84641022397102],[-86.82234351270758,44.59133535417833],[-86.91866838249962,44.36168528907325],[-87.03243404819018,44.09128835710602],[-87.0832319811331,43.8901895208422],[-87.14196224643281,43.65787811947408],[-87.14514034701875,43.571087551439874],[-87.15519141309953,43.326632188483174],[-87.11392778191447,43.03029368750542],[-87.07953711622423,42.782117621423694],[-87.039307013685,42.492652085940776],[-87.48964128289253,42.49531342220381],[-87.80659868035474,42.4968895533887],[-87.80659868035474,42.49425405534181],[-88.5765516832875,42.50324575456061],[-89.62005388055731,42.50536448828457],[-90.64081844761868,42.50536448828457],[-90.73817684605658,42.65827505143622],[-91.06469438349276,42.75408315690535],[-91.12923824742532,42.91283315690599],[-91.16998511428747,43.00223338477093],[-91.17316321487343,43.21232392025354],[-91.08373714879232,43.288004055345],[-91.21391008173555,43.44675405534562],[-91.22819861526426,43.5012468531974],[-91.2546569485977,43.61397899024213],[-91.25729244664458,43.854739488289965],[-91.28959021682701,43.93729258887623],[-91.62770911331273,44.085448920257036],[-91.87960588251947,44.25742808692439],[-91.949989183301,44.364837551443046],[-92.06215287959051,44.43258535417769],[-92.38549231644078,44.57492808692567],[-92.50507158076417,44.58391978614445],[-92.79665584997105,44.77602692318949],[-92.76647681351261,44.996142686536714],[-92.76541744665062,45.26708222104301],[-92.68922054723626,45.51843638771068],[-92.89982784704179,45.70576345476873],[-92.75696834997089,45.88991242124082],[-92.54369971390233,45.98569468849381],[-92.2965830146826,46.09628225359842],[-92.26482784703924,46.09522288673644],[-92.27487891312,46.65614472104858],[-92.01189754918667,46.71172272397848],[-91.96479448115262,46.72970612241605],[-91.8409777493813,46.778385321635],[-91.71661841507091,46.82760712339301],[-91.5922590807605,46.8762604843958],[-91.46844234898919,46.9249655218309],[-91.26470801467846,47.021264553406795],[-91.06097368036777,47.117046820659795],[-90.85778194859611,47.21282908791278],[-90.6540476142854,47.309128119488676],[-90.47994971389409,47.303857123394906],[-90.30585181350276,47.29801768654593],[-90.13175391311144,47.29274669045216],[-89.95765601272012,47.286907253603175],[-90.01481014683492,47.19959992124606],[-90.07144751662682,47.11174998634988],[-90.12805904820257,47.023900051453694],[-90.18521318231738,46.93607595477364],[-90.24182471389312,46.84822601987746],[-90.29897884800795,46.760918687520345],[-90.35559037958369,46.67306875262416],[-90.39527787958384,46.611677151061414],[-90.41062577997454,46.58418528908214],[-90.3968798489849,46.57625295672534],[-90.33497148309922,46.59687185320979],[-90.33391211623724,46.593693752623835],[-90.17673824742151,46.5608792181185],[-90.09630388055922,46.38099355731049],[-89.22106014683175,46.202115586932166],[-88.64427364780602,46.02220408790801],[-88.36170691603405,46.02062795672312],[-88.16696428094212,46.00791555437931],[-88.11192888055128,45.843351955745845],[-87.87540584995136,45.77984162045912],[-87.78701331251612,45.639617621435136],[-87.84788814975595,45.55918325457283],[-87.89338924838894,45.39671255144718],[-87.67324764682556,45.387746690444544],[-87.74732581251595,45.22687795671993],[-87.61397477898677,45.108874823581445],[-87.6129154121248,45.11045095476635],[-87.45946224643407,45.068127956719295],[-87.41977474643392,45.18401235613382],[-87.24461747918062,45.28984568946758],[-87.11550391309937,45.452290554377086],[-86.94246537957002,45.452290554377086],[-86.7742069160277,45.452290554377086],[-86.4815632799588,45.32317698829584]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3554",diss_me:3554,adm1_cod_1:"USA-3554",iso_3166_2:"US-WV",wikipedia:"http://en.wikipedia.org/wiki/West_Virginia",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"West Virginia",name_alt:"WV|W.Va.",name_local:null,type:"State",type_en:"State",code_local:"US54",code_hasc:"US.WV",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"W.Va.",postal:"WV",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:13,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-77.72279557972846,39.32243215591507],[-77.83498511423412,39.13456248631796],[-78.34562577992627,39.40550202082426],[-78.42448401560367,39.13931671808881],[-78.54884334991405,39.039839585926956],[-78.74461951365183,38.90914988866081],[-78.89280168324876,38.78003632257956],[-78.96527787953812,38.82181671808755],[-79.07640804718179,38.68001658787864],[-79.17482581248167,38.55565725356824],[-79.22298824737769,38.46462921808612],[-79.36639034698764,38.42602692316409],[-79.51508928090752,38.49744375259145],[-79.64792355011377,38.57472585708395],[-79.74367997915061,38.35721975356745],[-79.91514238149504,38.17942698826727],[-79.96436418325305,38.03178742120939],[-80.15750484894393,37.90109772394324],[-80.29297461619709,37.7280591904139],[-80.27656734894441,37.610572821598325],[-80.29824561229086,37.519028021793275],[-80.45699561229148,37.441771755516925],[-80.59618608266965,37.456060289045624],[-80.72000281444097,37.38304149021721],[-80.83325171580861,37.41849152276943],[-80.85492997915506,37.32906545668834],[-81.22800798208624,37.24545298924009],[-81.3481298489487,37.31583629002162],[-81.663511115226,37.195171820620104],[-81.81538814973182,37.275606187482396],[-81.92809444856039,37.366091620425465],[-81.9725361803314,37.53595205336886],[-82.16727881542333,37.554478054345495],[-82.26729855012425,37.67565928806994],[-82.41333614778108,37.80531545669025],[-82.46149858267711,37.95716665297992],[-82.58056108267758,38.11328115493366],[-82.56996741405774,38.320193589830325],[-82.5890101793573,38.415433254544254],[-82.34083411327558,38.44083222101571],[-82.21066118033235,38.57948008885481],[-82.19479651561875,38.80119782160308],[-82.05402991405569,39.01816132258051],[-81.91856014680255,38.9937958847549],[-81.90587358267489,38.8821489527883],[-81.81696428091672,38.92183645278847],[-81.78575171581242,39.019220689442506],[-81.74500484895029,39.19964895278957],[-81.52222774934002,39.37162811945693],[-81.40104651561558,39.34940725357143],[-81.26609351268534,39.37744171808977],[-81.15075171580989,39.426146755524854],[-80.87875281444161,39.65422068944504],[-80.86182878286601,39.75739268651576],[-80.76498714875106,39.973296820631205],[-80.66178931346417,40.23364268651767],[-80.6152288479692,40.463835354161816],[-80.65755184601625,40.5908301865191],[-80.5189298163933,40.64111135513909],[-80.5189298163933,39.72088328710156],[-79.47752051463132,39.72088328710156],[-79.48599544952718,39.21342072199536],[-79.33251644562031,39.30284678807645],[-79.16107988149203,39.41821442316805],[-78.96315914581416,39.45790192316821],[-78.82929134796206,39.562650051423844],[-78.5340122138463,39.522445787100764],[-78.42500077992659,39.59652395279116],[-78.23240271677477,39.672204087882605],[-77.92335181345322,39.59282908788229],[-77.80165381540587,39.44994375259526],[-77.72279557972846,39.32243215591507]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3555",diss_me:3555,adm1_cod_1:"USA-3555",iso_3166_2:"US-DE",wikipedia:"http://en.wikipedia.org/wiki/Delaware",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Delaware",name_alt:"DE|Del.",name_local:null,type:"State",type_en:"State",code_local:"US10",code_hasc:"US.DE",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Del.",postal:"DE",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-75.3198673163725,38.95994782160369],[-75.07183476478986,38.78203223017931],[-75.04838517932711,38.44876455337254],[-75.71462358265006,38.44930715591158],[-75.78764238147852,39.72354462336466],[-75.71090287952501,39.80237702082593],[-75.62096004912104,39.847361355135945],[-75.40557267932849,39.795504055331094],[-75.55427161324837,39.69124685318229],[-75.527813279915,39.49864879003036],[-75.3198673163725,38.95994782160369]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3556",diss_me:3556,adm1_cod_1:"USA-3556",iso_3166_2:"US-DC",wikipedia:"http://en.wikipedia.org/wiki/Washington,_D.C.",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"District of Columbia",name_alt:"DC|D.C.",name_local:null,type:"Federal District",type_en:"Federal District",code_local:"US11",code_hasc:"US.DC",note:null,hasc_maybe:null,region:null,region_cod:null,region_big:null,big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"D.C.",postal:"DC",area_sqkm:0,sameascity:9,labelrank:9,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:20,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-76.91157894561064,38.87845408787943],[-77.04123511423094,38.78954478612127],[-77.0364808824601,38.848275051420984],[-77.11955074736929,38.93400625259319],[-77.03859961618406,38.98216868748922],[-76.91157894561064,38.87845408787943]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3557",diss_me:3557,adm1_cod_1:"USA-3557",iso_3166_2:"US-MD",wikipedia:"http://en.wikipedia.org/wiki/Maryland",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Maryland",name_alt:"MD",name_local:null,type:"State",type_en:"State",code_local:"US24",code_hasc:"US.MD",note:null,hasc_maybe:null,region:"South",region_cod:null,region_big:"South Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Md.",postal:"MD",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-75.04838517932711,38.44876455337254],[-75.05673,38.40412000000015],[-75.37753821481016,38.01538015395681],[-75.60984961617834,38.00003225356602],[-75.72205,37.93705000000011],[-76.23287,38.319215],[-76.35,39.15],[-76.542725,38.71761500000014],[-76.32933,38.08326],[-76.98989457874893,38.2397333847519],[-77.0481080797257,38.38049998631493],[-77.21057878285143,38.33711762140598],[-77.34338721384154,38.39161041925769],[-77.22962154815099,38.61441335708423],[-77.05921851266851,38.70859365493607],[-77.04123511423091,38.78954478612127],[-76.91157894561059,38.87845408787945],[-77.038599616184,38.98216868748915],[-77.11955074736926,38.93400625259329],[-77.30581844756529,39.04567902277603],[-77.51696834990992,39.105985419260605],[-77.44340694854247,39.213420721995476],[-77.57621537953253,39.28855825454775],[-77.72279557972837,39.32243215591518],[-77.80165381540581,39.44994375259523],[-77.92335181345322,39.592829087882365],[-78.2324027167748,39.67220408788273],[-78.4250007799265,39.59652395279119],[-78.53401221384627,39.52244578710088],[-78.829291347962,39.56265005142393],[-78.96315914581419,39.457901923168265],[-79.16107988149201,39.41821442316808],[-79.33251644562017,39.30284678807658],[-79.4859954495272,39.213420721995476],[-79.47752051463135,39.720883287101685],[-78.54990271677599,39.71982392023972],[-78.23291948109767,39.72140005142455],[-77.5232987128656,39.72566335708859],[-76.66818294951588,39.720883287101685],[-75.78764238147852,39.72354462336466],[-75.71462358265,38.44930715591158],[-75.04838517932711,38.44876455337254]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3558",diss_me:3558,adm1_cod_1:"USA-3558",iso_3166_2:"US-NJ",wikipedia:"http://en.wikipedia.org/wiki/New_Jersey",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:5,admin0_lab:2,name:"New Jersey",name_alt:"NJ|N.J.",name_local:null,type:"State",type_en:"State",code_local:"US34",code_hasc:"US.NJ",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"Middle Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"N.J.",postal:"NJ",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:10,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-73.91279557971325,40.96018748632537],[-73.95232,40.75075],[-74.25675391304787,40.473369655919726],[-73.96244,40.42763],[-74.17843827990953,39.70925608983589],[-74.90604244657914,38.939303086903124],[-74.9806632148086,39.19649669041985],[-75.2002622138329,39.2483539902247],[-75.527813279915,39.49864879003036],[-75.55427161324837,39.69124685318229],[-75.40557267932849,39.795504055331094],[-75.200804816372,39.88704885513607],[-75.12881954618945,39.949499823560814],[-74.89175391305048,40.08179149022811],[-74.76318294950823,40.19077708593164],[-75.07802161324645,40.44954682063326],[-75.09548824736112,40.555380153966894],[-75.20395707874178,40.58661855728735],[-75.19920284697093,40.74746145279573],[-75.08225908069448,40.8697020533823],[-75.1357183499004,40.999874986325494],[-74.97590898303775,41.087724921221536],[-74.80126848010735,41.31156138769393],[-74.67902787952096,41.35548635514192],[-73.91279557971325,40.96018748632537]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3559",diss_me:3559,adm1_cod_1:"USA-3559",iso_3166_2:"US-NY",wikipedia:"http://en.wikipedia.org/wiki/New_York",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:3,admin0_lab:2,name:"New York",name_alt:"NY|N.Y.",name_local:null,type:"State",type_en:"State",code_local:"US36",code_hasc:"US.NY",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"Middle Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"N.Y.",postal:"NY",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-74.67902787952096,41.35548635514192],[-74.84043921578461,41.42638642024633],[-75.01081641305097,41.49571035416608],[-75.07538611519954,41.6412311874999],[-75.04892778186621,41.751301988281625],[-75.1679902818666,41.84178742122464],[-75.38547054716696,41.99896129004043],[-76.74383724639114,42.00053742122532],[-78.20064754913136,42.00002065690239],[-79.76008724640326,42.00002065690239],[-79.76008724640326,42.50006765397467],[-79.77325657258632,42.54689373950663],[-78.93936214874367,42.86361135514812],[-78.91977678090512,42.96520722103389],[-79.00999999999988,43.27],[-79.17167355011185,43.46633942318431],[-79.00232988149139,43.527188422207985],[-78.84569861521464,43.58328318946087],[-78.72027991404235,43.62508942318499],[-76.82003414580555,43.628784288093755],[-76.69676001657331,43.78489879004758],[-76.58614661325254,43.9240634222096],[-76.5,44.018458893758634],[-76.37499999999989,44.09631],[-75.31826534697143,44.816231187512585],[-74.86689754911805,45.00038015398479],[-73.34766211616932,45.00725311947946],[-73.36828101265371,44.80460399024696],[-73.4079685126539,44.6760071884886],[-73.38417151558349,44.37915192318792],[-73.32913611519263,44.22673228614303],[-73.42967261421643,44.0198456894625],[-73.33812781441145,43.758440456714084],[-73.4016381496981,43.61343638770319],[-73.38311214872152,43.57535085710407],[-73.23971004911152,43.567935289070135],[-73.28203304715862,42.74348948828549],[-73.49793718127404,42.0545134547541],[-73.55348934598777,41.28985728613134],[-73.47517371284943,41.2046686874981],[-73.69267981636597,41.107310289060365],[-73.65668718127472,40.9850696884738],[-73.64788653178721,40.95476927691993],[-73.71,40.93110235165449],[-72.24116634793569,41.11948008886509],[-71.94482784695793,40.93003428808305],[-73.34500077990629,40.63000092219647],[-73.98211951363277,40.62788218847237],[-73.95232,40.75075],[-73.91279557971325,40.96018748632537],[-74.67902787952096,41.35548635514192]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3560",diss_me:3560,adm1_cod_1:"USA-3560",iso_3166_2:"US-PA",wikipedia:"http://en.wikipedia.org/wiki/Pennsylvania",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Pennsylvania",name_alt:"Commonwealth of Pennsylvania|PA",name_local:null,type:"State",type_en:"State",code_local:"US42",code_hasc:"US.PA",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"Middle Atlantic",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Pa.",postal:"PA",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:12,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-74.89175391305048,40.08179149022811],[-75.12881954618945,39.949499823560814],[-75.200804816372,39.88704885513607],[-75.40557267932849,39.795504055331094],[-75.62096004912104,39.847361355135945],[-75.71090287952501,39.80237702082593],[-75.78764238147852,39.72354462336466],[-76.66818294951588,39.720883287101685],[-77.5232987128656,39.72566335708859],[-78.23291948109767,39.72140005142455],[-78.54990271677599,39.71982392023972],[-79.47752051463135,39.720883287101685],[-80.51892981639327,39.720883287101685],[-80.51892981639327,40.641111355139174],[-80.5162684801303,42.32439362239842],[-80.5162684801303,42.324910386721456],[-80.24744767934794,42.36619985612248],[-79.77263759837729,42.54627476529765],[-79.76008724640326,42.50006765397467],[-79.76008724640326,42.00002065690239],[-78.20064754913136,42.00002065690239],[-76.74383724639114,42.00053742122532],[-75.38547054716696,41.99896129004043],[-75.1679902818666,41.84178742122464],[-75.04892778186621,41.751301988281625],[-75.07538611519954,41.6412311874999],[-75.01081641305097,41.49571035416608],[-74.84043921578461,41.42638642024633],[-74.67902787952096,41.35548635514192],[-74.80126848010735,41.31156138769393],[-74.97590898303775,41.087724921221536],[-75.1357183499004,40.999874986325494],[-75.08225908069448,40.8697020533823],[-75.19920284697093,40.74746145279573],[-75.20395707874178,40.58661855728735],[-75.09548824736106,40.555380153966894],[-75.07802161324645,40.44954682063326],[-74.76318294950823,40.19077708593164],[-74.89175391305048,40.08179149022811]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3561",diss_me:3561,adm1_cod_1:"USA-3561",iso_3166_2:"US-ME",wikipedia:"http://en.wikipedia.org/wiki/Maine",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Maine",name_alt:"ME|Maine",name_local:null,type:"State",type_en:"State",code_local:"US23",code_hasc:"US.ME",note:null,hasc_maybe:null,region:"Northeast",region_cod:null,region_big:"New England",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Maine",postal:"ME",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:5,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-67.13734351262877,45.137451890638886],[-66.96466,44.8097],[-68.03252,44.3252],[-69.06,43.98],[-70.11617,43.68405],[-70.64573401557249,43.090083319667144],[-70.75102474636725,43.08003225358635],[-70.79761105007827,43.21973948828747],[-70.98176001655037,43.36789581966826],[-70.94416541205806,43.46633942318431],[-71.08482,45.3052400000002],[-70.6600225491012,45.46022288673396],[-70.30495378282376,45.914794623389355],[-70.00014034695016,46.69317088478567],[-69.23708614772835,47.44777598732787],[-68.90478084987546,47.184794623394396],[-68.23430497910454,47.35462921812177],[-67.79035274928509,47.066248887716995],[-67.79141211614706,45.702585354182816],[-67.13734351262877,45.137451890638886]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3562",diss_me:3562,adm1_cod_1:"USA-3562",iso_3166_2:"US-MI",wikipedia:"http://en.wikipedia.org/wiki/Michigan",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:1,admin0_lab:2,name:"Michigan",name_alt:"MI|Mich.",name_local:null,type:"State",type_en:"State",code_local:"US26",code_hasc:"US.MI",note:null,hasc_maybe:null,region:"Midwest",region_cod:null,region_big:"East North Central",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Mich.",postal:"MI",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:8,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"Polygon",coordinates:[[[-90.39527787958377,46.61167715106143],[-90.3555903795837,46.67306875262415],[-90.29897884800789,46.76091868752036],[-90.24182471389315,46.84822601987753],[-90.18521318231734,46.93607595477357],[-90.12805904820254,47.023900051453666],[-90.07144751662679,47.11174998634988],[-90.01481014683486,47.19959992124609],[-89.95765601272012,47.28690725360326],[-89.84283098016755,47.464725857119504],[-89.72800594761503,47.641976019880644],[-89.61369767938538,47.81925202085796],[-89.52269548211927,47.96053538674391],[-89.48888455722101,48.01526321783575],[-89.27291744663665,48.0198082545827],[-89.18561011427948,48.04732595477816],[-88.3781141832867,48.30291758889382],[-87.49439551466338,47.96159475360588],[-87.20810807976642,47.84837169045443],[-86.92184648308546,47.73512278908686],[-86.67206844760278,47.63616242124789],[-86.49533504916462,47.56683848732831],[-86.42864661329185,47.539837551455776],[-86.23444658073907,47.45994578713254],[-86.04024654818625,47.380054022809304],[-85.84656327995629,47.30013642026995],[-85.6523632474034,47.22021881773054],[-85.45816321485046,47.13981028908444],[-85.26396318229769,47.05989268654503],[-85.07027991406778,46.98000092222179],[-84.87607988151484,46.90008331968238],[-84.8268580797569,46.766732286153285],[-84.77923824739992,46.63710195574913],[-84.54374874544584,46.53868419044926],[-84.54323198112297,46.53868419044926],[-84.6049,46.4396],[-84.3367,46.40877000000012],[-84.14211951367338,46.512225857115766],[-84.12837358268371,46.48364879005834],[-84.11514441601707,46.37091665301364],[-84.09185126416145,46.27541860613826],[-83.89076534700575,46.116926988299156],[-83.76322791210941,46.10896881772612],[-83.66904761425741,46.122740586931855],[-83.61613094759059,46.116926988299156],[-83.46955074739469,45.99468638771259],[-83.59285071484305,45.81689362241241],[-83.39704871288916,45.72904368751631],[-83.17905168326581,45.6327188177242],[-82.91922258170234,45.51791962338791],[-82.76047258170172,45.44751048439019],[-82.55092464875815,45.34751658790532],[-82.51547461620595,45.20411448829543],[-82.48529557974746,45.08399262143297],[-82.44666744660935,44.91570831967442],[-82.40752254914821,44.74372915300711],[-82.36835181347101,44.57280935320176],[-82.32654557974689,44.39129588477658],[-82.28104448111384,44.19234162045291],[-82.24084021679079,44.015608222014635],[-82.19637264680358,43.822441718107655],[-82.13764238150395,43.5710875514398],[-82.19055904817077,43.47427175554117],[-82.41703101268996,43.01760712337784],[-82.42974341503373,42.98003835710159],[-82.90017981640278,42.43022695573222],[-83.11977881542708,42.07991242122563],[-83.12877051464591,42.06880198828293],[-83.14199968131265,41.97568105729283],[-83.46267778189986,41.694147854166715],[-83.83996741406276,41.68515615494795],[-84.29505591504119,41.68515615494795],[-84.80675594759526,41.67774058691418],[-84.80729855013436,41.75605622005253],[-85.74814551465636,41.751301988281625],[-86.82446224643155,41.75605622005253],[-86.82446224643155,41.76083629003949],[-86.91812577996058,41.76083629003949],[-87.22133724643305,41.76083629003949],[-87.17583614780017,41.9439000514335],[-87.13033504916712,42.12701548925975],[-87.08480811231794,42.30956248633072],[-87.039307013685,42.492652085940904],[-87.07953711622423,42.78211762142371],[-87.11392778191447,43.030293687505434],[-87.15519141309949,43.326632188483245],[-87.14514034701875,43.5710875514398],[-87.14196224643274,43.657878119474105],[-87.08323198113311,43.89018952084234],[-87.03243404819011,44.09128835710601],[-86.91866838249956,44.361685289073364],[-86.8223435127075,44.591335354178455],[-86.71493404818892,44.84641022397108],[-86.53608191602672,45.041669623385985],[-86.40167151563554,45.13321442319102],[-86.26459977898139,45.22687795671993],[-86.48156327995878,45.32317698829593],[-86.77420691602771,45.45229055437716],[-86.94246537956997,45.45229055437716],[-87.11550391309925,45.45229055437716],[-87.24461747918065,45.28984568946771],[-87.41977474643386,45.184012356133906],[-87.45946224643404,45.06812795671931],[-87.61291541212478,45.11045095476646],[-87.61397477898674,45.1088748235814],[-87.74732581251595,45.22687795671993],[-87.67324764682553,45.387746690444544],[-87.89338924838893,45.39671255144731],[-87.84788814975593,45.55918325457293],[-87.78701331251602,45.639617621435264],[-87.87540584995133,45.779841620459194],[-88.11192888055126,45.8433519557459],[-88.16696428094212,46.00791555437945],[-88.36170691603405,46.02062795672322],[-88.64427364780602,46.02220408790805],[-89.22106014683163,46.20211558693222],[-90.09630388055922,46.380993557310546],[-90.17673824742144,46.560879218118544],[-90.33391211623723,46.593693752623835],[-90.3349714830992,46.596871853209905],[-90.3968798489849,46.576252956725284],[-90.41062577997457,46.58418528908214],[-90.39527787958377,46.61167715106143]]]}},{type:"Feature",properties:{scalerank:2,adm1_code:"USA-3563",diss_me:3563,adm1_cod_1:"USA-3563",iso_3166_2:"US-AK",wikipedia:"http://en.wikipedia.org/wiki/Alaska",sr_sov_a3:"US1",sr_adm0_a3:"USA",iso_a2:"US",adm0_sr:6,admin0_lab:2,name:"Alaska",name_alt:"AK|Alaska",name_local:null,type:"State",type_en:"State",code_local:"US02",code_hasc:"US.AK",note:null,hasc_maybe:null,region:"West",region_cod:null,region_big:"Pacific",big_code:null,provnum_ne:0,gadm_level:1,check_me:0,scaleran_1:2,datarank:1,abbrev:"Alaska",postal:"AK",area_sqkm:0,sameascity:-99,labelrank:0,featurec_1:"Admin-1 scale rank",admin:"United States of America",name_len:6,mapcolor9:1,mapcolor13:1,featureclass:"Admin-1 scale rank"},geometry:{type:"MultiPolygon",coordinates:[[[[-153.22872941792107,57.968968410872435],[-152.5647906158351,57.90142731386709],[-152.14114722390633,57.59105866152203],[-153.0063140533369,57.115842190166006],[-154.0050902984581,56.73467682558106],[-154.51640275777007,56.992748928446815],[-154.67099280497115,57.46119578717253],[-153.76277950744145,57.81657461204378],[-153.22872941792107,57.968968410872435]]],[[[-166.46779212142462,60.38416982689773],[-165.67442969466367,60.29360687930625],[-165.57916419173358,59.909986884187674],[-166.19277014876727,59.7544408229889],[-166.848337368822,59.94140615502107],[-167.45527706609005,60.21306915957939],[-166.46779212142462,60.38416982689773]]],[[[-171.73165686753939,63.782515367276005],[-171.11443356024523,63.592191067144995],[-170.4911124339407,63.69497549097355],[-169.68250545965356,63.43111562769127],[-168.68943946030066,63.2975062120006],[-168.7719408844546,63.18859813094548],[-169.52943986720504,62.97693146427798],[-170.29055620021597,63.19443756779441],[-170.67138566799088,63.375821845139],[-171.55306311753867,63.31778921167512],[-171.79111060289117,63.4058458523005],[-171.73165686753939,63.782515367276005]]],[[[-140.9859883290049,69.71199839952624],[-140.98598752156073,69.71199839952624],[-140.99249875202946,66.00002859156871],[-140.99776974812323,60.3063967962986],[-140.0129978161532,60.27683787702762],[-139.03900042031586,60.000007229240055],[-138.34087765826888,59.56210114199871],[-137.4525081107393,58.90498362897523],[-136.47972511106087,59.463864244211834],[-135.4758328991428,59.787772121817284],[-134.94498674842458,59.270542711008034],[-134.27110023312235,58.86111033795942],[-133.3555488822072,58.41028514264519],[-132.730420695661,57.69288707135314],[-131.70782161525324,56.552103990293915],[-130.0077703457152,55.91581207948417],[-129.97999426335826,55.28499787049725],[-130.53611018946725,54.8027534043494],[-131.08581823797215,55.17890615500187],[-131.9672114671423,55.49777558045906],[-132.25001074285956,56.36999624289746],[-133.53918108435641,57.17888743756214],[-134.07806292029613,58.12306753196691],[-135.03821103227915,58.18771474876394],[-136.62806230995477,58.21220937767032],[-137.800006279686,58.49999542910382],[-139.867787041413,59.53776154238915],[-140.825273817133,59.727517401764885],[-142.57444353556446,60.084446519605024],[-143.9588809948799,59.99918040632343],[-145.92555681682782,60.458609727614316],[-147.11437394914665,60.884656073644635],[-148.22430620012764,60.672989406977024],[-148.01806555885076,59.97832896589364],[-148.57082251686077,59.91417267520313],[-149.72785783587585,59.70565827090559],[-150.60824337461634,59.36821116803952],[-151.7163927886833,59.15582103131999],[-151.85943315326716,59.74498403587961],[-151.40971900124717,60.72580272077943],[-150.3469414947325,61.03358755150987],[-150.62111080625706,61.284424953854455],[-151.89583919981683,60.72719798445132],[-152.57832984109558,60.06165721296429],[-154.0191721262576,59.35027944603428],[-153.28751135965308,58.86472768821983],[-154.23249243875847,58.14637360293057],[-155.30749142151012,57.72779450136636],[-156.30833472392308,57.42277435976365],[-156.5560973785464,56.97998484967064],[-158.11721655986773,56.46360809999402],[-158.43332129619714,55.994153550838575],[-159.60332739971744,55.56668610292013],[-160.2897196116342,55.643580634170405],[-161.2230476552578,55.364734605523495],[-162.23776607974096,55.02418691672011],[-163.06944658104638,54.68973704692718],[-164.7855692210273,54.404173082082195],[-164.9422263255201,54.57222483989534],[-163.84833960676565,55.03943146424615],[-162.8700013906159,55.34804311789321],[-161.804174974596,55.894986477270436],[-160.56360470278122,56.00805451112507],[-160.0705598622844,56.41805532492879],[-158.68444291891953,57.01667511659787],[-158.46109737855406,57.21692129172891],[-157.72277035218386,57.57000051536306],[-157.55027442119365,58.32832632103026],[-157.041674974577,58.91888458926172],[-158.19473120830557,58.615802313869835],[-158.51721798402306,58.78778148053732],[-159.05860612692882,58.424186102931685],[-159.71166704001732,58.931390285876375],[-159.98128882550017,58.572549140041644],[-160.3552711659965,59.07112335879367],[-161.35500342511511,58.670837714260756],[-161.96889360252644,58.67166453717738],[-162.05498653872465,59.26692536074745],[-161.87417070213542,59.63362132429063],[-162.51805904849215,59.98972361921392],[-163.81834143782024,59.79805573184342],[-164.66221757714655,60.26748444278269],[-165.3463877024748,60.50749563256244],[-165.35083187565192,61.073895168697504],[-166.12137915755605,61.50001902937623],[-165.7344518707706,62.07499685327184],[-164.91917863671785,62.63307648380794],[-164.56250790103934,63.14637848576308],[-163.7533324859971,63.2194489610236],[-163.0672244944579,63.05945872664802],[-162.2605553863817,63.54193573674121],[-161.53444983624857,63.455816962326764],[-160.7725066803211,63.7661081000233],[-160.95833513084264,64.2227985704028],[-161.5180684072121,64.40278758407533],[-160.77777767641484,64.78860382756642],[-161.3919262359876,64.77723501246214],[-162.45305009666893,64.55944468856808],[-162.7577860178941,64.33860545516882],[-163.54639421288428,64.5591604681905],[-164.96082984114514,64.44694509546872],[-166.4252882558645,64.68667206487072],[-166.84500423893914,65.08889557561457],[-168.11056006576706,65.66999705673675],[-166.70527116602193,66.08831777613943],[-164.4747096425755,66.5766600612975],[-163.65251176659567,66.5766600612975],[-163.78860165103626,66.0772073431965],[-161.67777442121013,66.11611969671242],[-162.48971452538007,66.73556509059512],[-163.7197169667912,67.11639455837013],[-164.43099138085654,67.61633820257782],[-165.39028683170673,68.04277212185025],[-166.76444068099607,68.35887685817971],[-166.2047074046267,68.8830309109162],[-164.43081051334357,68.91553538682774],[-163.16861365461452,69.37111481391293],[-162.930566169262,69.85806183539927],[-161.9088972646355,70.33332998318764],[-160.93479651593367,70.44768992784958],[-159.03917578838704,70.89164215766897],[-158.11972286683397,70.82472117785107],[-156.58082455139802,71.35776357694175],[-155.0677902903243,71.14777639432373],[-154.3441652089412,70.69640859647023],[-153.9000062733925,70.88998851183572],[-152.2100060699353,70.82999217394467],[-152.27000240782613,70.60000621202988],[-150.7399924387445,70.43001658800574],[-149.72000301816752,70.53001048449045],[-147.61336157935696,70.2140349392418],[-145.68998980022536,70.12000967068678],[-144.92001095907642,69.9899917670403],[-143.58944618042528,70.15251414659832],[-142.07251034871354,69.85193817817265],[-140.9859883290049,69.71199839952624]]]]}}]}},function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,c,l,u,f,_,m=t&&t.length,g=m?t[0]*n:e.length,v=i(e,0,g,n,!0),y=[];if(!v||v.next===v.prev)return y;if(m&&(v=function(e,t,n,r){var a,s,c,l,u,f=[];for(a=0,s=t.length;a<s;a++)c=t[a]*r,l=a<s-1?t[a+1]*r:e.length,(u=i(e,c,l,r,!1))===u.next&&(u.steiner=!0),f.push(p(u));for(f.sort(d),a=0;a<f.length;a++)h(f[a],n),n=o(n,n.next);return n}(e,t,v,n)),e.length>80*n){r=c=e[0],s=l=e[1];for(var b=n;b<g;b+=n)(u=e[b])<r&&(r=u),(f=e[b+1])<s&&(s=f),u>c&&(c=u),f>l&&(l=f);_=0!==(_=Math.max(c-r,l-s))?1/_:0}return a(v,y,n,r,s,_),y}function i(e,t,n,r,i){var o,a;if(i===T(e,t,n,r)>0)for(o=t;o<n;o+=r)a=E(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=E(o,e[o],e[o+1],a);return a&&v(a,a.next)&&(A(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(A(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,d,h){if(e){!h&&d&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=f(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,c,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,d);for(var p,_,m=e;e.prev!==e.next;)if(p=e.prev,_=e.next,d?c(e,r,i,d):s(e))t.push(p.i/n),t.push(e.i/n),t.push(_.i/n),A(e),e=_.next,m=_.next;else if((e=_)===m){h?1===h?a(e=l(e,t,n),t,n,r,i,d,2):2===h&&u(e,t,n,r,i,d):a(o(e),t,n,r,i,d,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(_(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function c(e,t,n,r){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=f(s,c,t,n,r),h=f(l,u,t,n,r),p=e.prevZ,m=e.nextZ;p&&p.z>=d&&m&&m.z<=h;){if(p!==e.prev&&p!==e.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==e.prev&&m!==e.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=h;){if(m!==e.prev&&m!==e.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function l(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!v(i,o)&&y(i,r,r.next,o)&&b(i,o)&&b(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),A(r),A(r.next),r=e=o),r=r.next}while(r!==e);return r}function u(e,t,n,r,i,s){var c=e;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&m(c,l)){var u=S(c,l);return c=o(c,c.next),u=o(u,u.next),a(c,t,n,r,i,s),void a(u,t,n,r,i,s)}l=l.next}c=c.next}while(c!==e)}function d(e,t){return e.x-t.x}function h(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var c,l=n,u=n.x,d=n.y,h=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=u&&i!==r.x&&_(o<d?i:a,o,u,d,o<d?a:i,o,r.x,r.y)&&((c=Math.abs(o-r.y)/(i-r.x))<h||c===h&&r.x>n.x)&&b(r,e)&&(n=r,h=c),r=r.next;return n}(e,t)){var n=S(t,e);o(n,n.next)}}function f(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function _(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&b(e,t)&&b(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){return!!(v(e,t)&&v(n,r)||v(e,r)&&v(n,t))||g(e,t,n)>0!=g(e,t,r)>0&&g(n,r,e)>0!=g(n,r,t)>0}function b(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function S(e,t){var n=new w(e.i,e.x,e.y),r=new w(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function E(e,t,n,r){var i=new w(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function w(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(T(e,0,o,n));if(i)for(var s=0,c=t.length;s<c;s++){var l=t[s]*n,u=s<c-1?t[s+1]*n:e.length;a-=Math.abs(T(e,l,u,n))}var d=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,f=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((e[h]-e[p])*(e[f+1]-e[h+1])-(e[h]-e[f])*(e[p+1]-e[h+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},,function(e,t,n){"use strict";n.r(t);n(48),n(29);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;var o,a;o=new i(4),i!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0,o[3]=0),a=o;function s(e,t,n){var r,i,o,a,s,c,l,u,d,h,f,p,_=n[0],m=n[1],g=n[2];return t===e?(e[12]=t[0]*_+t[4]*m+t[8]*g+t[12],e[13]=t[1]*_+t[5]*m+t[9]*g+t[13],e[14]=t[2]*_+t[6]*m+t[10]*g+t[14],e[15]=t[3]*_+t[7]*m+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],h=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=c,e[6]=l,e[7]=u,e[8]=d,e[9]=h,e[10]=f,e[11]=p,e[12]=r*_+s*m+d*g+t[12],e[13]=i*_+c*m+h*g+t[13],e[14]=o*_+l*m+f*g+t[14],e[15]=a*_+u*m+p*g+t[15]),e}function c(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}!function(){var e,t=(e=new i(2),i!=Float32Array&&(e[0]=0,e[1]=0),e)}();!function(){var e,t=(e=new i(3),i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e)}();function l(e){if(!e)throw new Error("viewport-mercator-project: assertion failed.")}var u=Math.PI,d=u/4,h=u/180,f=512,p=4003e4,_=1.5;function m(e,t){var n=r(e,2),i=n[0],o=n[1]*h;return[(t*=f)*(i*h+u)/(2*u),t*(u-Math.log(Math.tan(d+.5*o)))/(2*u)]}function g(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,o=e.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:function(e){return Math.pow(2,e)}(r),l(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(i));var s={},c=f*i,u=Math.cos(t*h),d=c/360,_=d/u,m=c/p/u;if(s.pixelsPerMeter=[m,-m,m],s.metersPerPixel=[1/m,-1/m,1/m],s.pixelsPerDegree=[d,-_,m],s.degreesPerPixel=[1/d,-1/_,1/m],a){var g=h*Math.tan(t*h)/u,v=d*g/2,y=c/p*g,b=y/_*m;s.pixelsPerDegree2=[0,-v,y],s.pixelsPerMeter2=[b,0,b]}return s}function v(e){var t,n,r,i,o,a,l,u,d,f,p,_,m,g=e.height,v=e.pitch,y=e.bearing,b=e.altitude,S=e.center,E=void 0===S?null:S,A=e.flipY,w=void 0!==A&&A,T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return s(T,T,[0,0,-b]),c(T,T,[1,1,1/g]),t=T,n=T,r=-v*h,i=Math.sin(r),o=Math.cos(r),a=n[4],l=n[5],u=n[6],d=n[7],f=n[8],p=n[9],_=n[10],m=n[11],n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=a*o+f*i,t[5]=l*o+p*i,t[6]=u*o+_*i,t[7]=d*o+m*i,t[8]=f*o-a*i,t[9]=p*o-l*i,t[10]=_*o-u*i,t[11]=m*o-d*i,function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],h=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+u*r,e[2]=s*i+d*r,e[3]=c*i+h*r,e[4]=l*i-o*r,e[5]=u*i-a*r,e[6]=d*i-s*r,e[7]=h*i-c*r}(T,T,y*h),w&&c(T,T,[1,-1,1]),E&&s(T,T,function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}([],E)),T}function y(e){var t=e.width,n=e.height,r=e.altitude,i=void 0===r?_:r,o=e.pitch,a=void 0===o?0:o,s=e.nearZMultiplier,c=void 0===s?1:s,l=e.farZMultiplier,u=void 0===l?1:l,d=a*h,f=Math.atan(.5/i),p=Math.sin(f)*i/Math.sin(Math.PI/2-d-f),m=Math.cos(Math.PI/2-d)*p+i;return{fov:2*Math.atan(n/2/i),aspect:t/n,focalDistance:i,near:c,far:m*u}}n(51);var b,S=n(0),E=n(2),A=n(9),w=n(42),T=n(43),x=n(16),k=n(10),M=n(46),U=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},N=function(e,t){return function(n,r){t(n,r,e)}},R=function(e){function t(t,n,r,i){var o=e.call(this)||this;o.scene=r,o.camera=t,o.mouse=n,o.renderer=i,o.cameraController={isTruck:!0,moveSpeed:.6};var a=(new M.a).addFolder("camera");return a.add(o.cameraController,"isTruck"),a.add(o.cameraController,"moveSpeed",.1,2),o.onResize=o.onResize.bind(o),o.onMousemove=o.onMousemove.bind(o),o.onMousewheel=o.onMousewheel.bind(o),o.renderer.on(k.a.RESIZE_EVENT,o.onResize),o.mouse.on(x.a.MOVE_EVENT,o.onMousemove),o.mouse.on(x.a.WHEEL_EVENT,o.onMousewheel),o}return U(t,e),t.prototype.onMousemove=function(e){this.moveCamera(e)},t.prototype.onMousewheel=function(e){this.moveCamera(e)},t.prototype.onResize=function(){var e=this.renderer.getSize(),t=e.width,n=e.height;this.camera.eye&&(this.camera.aspect=t/n,this.camera.updateProjection(),this.camera.updateTransform())},t.prototype.moveCamera=function(e){var t=e.deltaX,n=e.deltaY,r=e.deltaZ,i=this.cameraController,o=i.isTruck,a=i.moveSpeed;o?(this.camera.pan(.001*t*a),this.camera.tilt(.001*n*a),this.camera.dolly(.05*r*a)):(this.camera.truck(.01*-t*a),this.camera.pedestal(.01*n*a),this.camera.cant(.05*r*a))},t=O([Object(S.injectable)(),N(0,Object(S.inject)(E.a.ICameraService)),N(1,Object(S.inject)(E.a.IMouseService)),N(2,Object(S.inject)(E.a.ISceneService)),N(3,Object(S.inject)(E.a.IRendererService)),C("design:paramtypes",[Object,Object,Object,Object])],t)}(A.EventEmitter),I=new S.Container;I.bind(E.a.ISceneService).to(w.a).inSingletonScope(),I.bind(E.a.ICameraService).to(T.a).inSingletonScope(),I.bind(E.a.IMouseService).to(x.a).inSingletonScope(),I.bind(E.a.IRendererService).to(k.a).inSingletonScope(),I.bind(E.a.IControlsService).to(R).inSingletonScope(),Object(S.decorate)(Object(S.injectable)(),A.EventEmitter);var P=n(30),F=n(27),L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(e){function t(t){var n=e.call(this,t)||this;return Object.assign(n,t),n}return L(t,e),t.prototype.setVertices=function(){},t.prototype.setModelMatrix=function(){},t}(F.a),B=n(20),j=n(22),V=n(4),H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},W=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},X=function(e,t){return function(n,r){t(n,r,e)}},z=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return H(t,e),t.prototype.generateShaders=function(){return{vertexShader:'\n      attribute vec4 a_Position;\n      // attribute float a_VertexValid;\n      attribute vec4 a_Color;\n\n      uniform float u_ProjectScale;\n      uniform vec3 u_ProjectCenter;\n      uniform vec3 u_PixelsPerMeter;\n      uniform mat4 u_ModelMatrix;\n      uniform mat4 u_ViewProjectionMatrix;\n\n      varying vec4 v_Color;\n\n      const float TILE_SIZE = 512.0;\n      const float PI = 3.1415926536;\n      const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\n\n      float project_scale(float meters) {\n        return meters * u_PixelsPerMeter.z;\n      }\n\n      //\n      // Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n      //\n      vec2 project_mercator_(vec2 lnglat) {\n        float x = lnglat.x;\n        return vec2(\n          radians(x) + PI,\n          PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n        );\n      }\n\n      //\n      // Projects lnglats (or meter offsets, depending on mode) to pixels\n      //\n      vec4 project_position(vec4 position) {\n        return u_ModelMatrix * vec4(\n          project_mercator_(position.xy) * WORLD_SCALE * u_ProjectScale,\n          project_scale(position.z),\n          position.w\n        );\n      }\n\n      //\n      // Projects from "world" coordinates to clip space.\n      //\n      vec4 project_to_clipspace(vec4 position) { \n        return u_ViewProjectionMatrix * position + vec4(u_ProjectCenter, 1.0);\n      }      \n\n      vec4 project_position_to_clipspace(vec3 position, vec3 offset) {\n        vec3 projectedPosition = project_position(vec4(position, 1.0)).xyz;\n        vec4 worldPosition = vec4(projectedPosition + offset, 1.0);\n        return project_to_clipspace(worldPosition);\n      }\n    \n      void main() {\n        v_Color = a_Color;\n        gl_Position = project_position_to_clipspace(vec3(a_Position), vec3(0.));\n      }\n    ',fragmentShader:"\n      precision mediump float;\n\n      varying vec4 v_Color;\n\n      void main() {\n        gl_FragColor = v_Color;\n      }\n    "}},t.prototype.draw=function(){var e=this,t=this.gl,n=this.shader.program,r=this.renderer.getSize(),i=r.width,o=r.height;t.getExtension("OES_element_index_uint"),t.viewport(0,0,i,o),this.activate(),this.scene.meshes.forEach(function(r){var i=r.geometry,o=r.colorAttributeArray,a=i.vertices,s=i.modelMatrix,c=i.scale,l=i.pixelsPerMeter,u=e.camera.transform;return Object(V.a)(t,n,{u_ViewProjectionMatrix:u,u_ModelMatrix:s,u_ProjectScale:c,u_ProjectCenter:$V([0,0,0]),u_PixelsPerMeter:$V(l)}),Object(V.b)(t,n,"a_Position",a,3,t.FLOAT)&&Object(V.b)(t,n,"a_Color",o,3,t.FLOAT)?void r.geometry.draw(t):-1})},t=G([Object(S.injectable)(),X(0,Object(S.inject)(E.a.IRendererService)),X(1,Object(S.inject)(E.a.ISceneService)),X(2,Object(S.inject)(E.a.ICameraService)),W("design:paramtypes",[Object,Object,Object])],t)}(j.a),Y=n(21),q=n(17),Z=n(115);function K(e,t,n){var r=e.type,i=e.coordinates,o=t.pointFeatures,a=t.lineFeatures,s=t.polygonFeatures,c=t.polygonOutlineFeatures;switch(r){case"Point":o.push({geometry:e,sourceFeature:n});break;case"MultiPoint":for(var l=0,u=i;l<u.length;l++){var d=u[l];o.push({geometry:{type:"Point",coordinates:d},sourceFeature:n})}break;case"LineString":a.push({geometry:e,sourceFeature:n});break;case"MultiLineString":for(var h=0,f=i;h<f.length;h++){var p=f[h];a.push({geometry:{type:"LineString",coordinates:p},sourceFeature:n})}break;case"Polygon":s.push({geometry:e,sourceFeature:n});for(var _=0,m=i;_<m.length;_++){p=m[_];c.push({geometry:{type:"LineString",coordinates:p},sourceFeature:n})}break;case"MultiPolygon":for(var g=0,v=i;g<v.length;g++){var y=v[g];s.push({geometry:{type:"Polygon",coordinates:y},sourceFeature:n});for(var b=0,S=y;b<S.length;b++){p=S[b];c.push({geometry:{type:"LineString",coordinates:p},sourceFeature:n})}}}}var J=n(116),$=n.n(J);function Q(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}function ee(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]?e:e.concat([t])}function te(e){return Q(e)?e.length:e.reduce(function(e,t){return e+t.length},0)}function ne(e){for(var t=0,n=!0,r=0,i=function(e,t){return(void 0===t?{}:t).dimensions,Q(e)?[ee(e)]:e.map(ee)}(e);r<i.length;r++){var o=i[r].length;t+=n?o>=3?o-2:0:o+1,n=!1}return t}function re(e){var t=function(e){var t=null;if(e.length>1){var n=0;t=new Array,e.forEach(function(e){n+=e.length,t.push(n)}),t.pop()}return t}(e),n=function e(t,n){var r=void 0===n?{}:n,i=r.result,o=void 0===i?new Array:i,a=r.dimensions,s=void 0===a?3:a;var c=-1;var l=0;for(;++c<t.length;){var u=t[c];Array.isArray(u)||ArrayBuffer.isView(u)?e(u,{result:o,dimensions:s}):l<s&&(o.push(u),l++)}l>0&&l<s&&o.push(0);return o}(e,{dimensions:2,result:[]});return $()(n,t,2)}function ie(e){return e.reduce(function(e,t){return e+te(t)},0)}var oe,ae,se,ce,le,ue=I.get(E.a.ISceneService),de=I.get(E.a.IRendererService),he=I.get(E.a.ICameraService),fe=function(e){for(var t={pointFeatures:new Array,lineFeatures:new Array,polygonFeatures:new Array,polygonOutlineFeatures:new Array},n=0;n<e.length;n++){var r=e[n],i=r.geometry,o={feature:r,index:n};if("GeometryCollection"===i.type)for(var a=i.geometries,s=0;s<a.length;s++)K(a[s],t,o);else K(i,t,o)}return t}(function(e){if(Array.isArray(e))return e;switch(e.type){case"Feature":return[e];case"FeatureCollection":return e.features;default:return[{type:"Feature",geometry:e,properties:{}}]}}(Z)).polygonFeatures.map(function(e){return e.geometry.coordinates}),pe=(ae=3*(oe=fe).reduce(function(e,t){return e+ne(t)},0),se=function(e){var t=new Array(e.length+1);t[0]=0;var n=0;return e.forEach(function(e,r){n+=te(e),t[r+1]=n}),t}(oe),ce=new Uint32Array(ae),le=0,oe.forEach(function(e,t){for(var n=0,r=re(e);n<r.length;n++){var i=r[n];ce[le++]=i+se[t]}}),ce),_e=function(e){var t=0,n=ie(e),r=new Float32Array(3*n),i=new Uint8ClampedArray(n).fill(1);return e.forEach(function(e){e.forEach(function(e){e.forEach(function(e){var n=e[0],i=e[1],o=e[2]||0;r[3*t]=n,r[3*t+1]=i,r[3*t+2]=o,t++}),i[t-1]=0})}),{positions:r,vertexValid:i}}(fe),me=_e.positions,ge=_e.vertexValid,ve=function(e,t){var n=ie(e),r=new Uint8ClampedArray(4*n),i=0;return e.forEach(function(e){isNaN(t[3])&&(t[3]=255);var n=te(e);!function(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,c=a*s,l=0,u=i;l<s;l++)t[u++]=n[l];for(;l<c;)l<c-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+c-l),l=c)}({target:r,source:t,start:i,count:n}),i+=t.length*n}),r}(fe,[200,160,0,180]),ye=40,be=-100,Se=1.5,Ee=3,Ae=0,we=60;function Te(e){return[[e[0],e[4],e[8],e[12]],[e[1],e[5],e[9],e[13]],[e[2],e[6],e[10],e[14]],[e[3],e[7],e[11],e[15]]]}de.on(k.a.READY_EVENT,function(){var e=we,t=Ae,n=Se,r=ye,i=be,o=Ee,a=Math.pow(2,o),s=de.getSize(),c=s.width,l=s.height,u=y({width:c,height:l,pitch:e,altitude:n,nearZMultiplier:.1,farZMultiplier:10}),d=u.fov,h=u.aspect,f=u.near,p=u.far,_=v({height:l,pitch:e,bearing:t,altitude:n,center:m([i,r],a).concat([0]),flipY:!0}),b=g({latitude:r,longitude:i,scale:a}).pixelsPerMeter;he.view=$M(Te(_)),he.projection=$M(Te(function(e,t,n,r){var i=[],o=1/Math.tan(e/2),a=1/(n-r);return i[0]=o/t,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(r+n)*a,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*r*n*a,i[15]=0,i}(d,h,f,p))),he.transform=he.projection.x(he.view),ue.addMesh(new P.a({geometry:new D({indices:pe,vertices:me,vertexValid:ge,colors:ve,scale:a,pixelsPerMeter:b}),material:new q.a({color:$V([1,.5,0])})})),ue.addLight(new B.a({position:$V([0,10,0]),direction:$V([0,-1,0]),angle:24,exponent:40,model:new Y.a({ambient:$V([.2,.2,.2]),diffuse:$V([1,1,1]),specular:$V([1,1,1]),attenuation:{linear:.1,quadratic:.01}})})),de.addShader(new z(de,ue,he))})}]);